// dining-card.js (patch to source priority)
(function(){
  const CARD = document.querySelector('#dining-card');
  if (!CARD) return;

  // read optional hook config
  let cfg = {};
  const hookEl = document.getElementById('dining-data-source');
  if (hookEl) { try { cfg = JSON.parse(hookEl.textContent || '{}'); } catch(_) {} }

  // canonical absolute URL requested
  const ABS_RC_JSON = 'http://cruisinginthewake.com/assets/data/rc-restaurants.json';
  const ABS_FLEET   = 'http://cruisinginthewake.com/assets/data/fleet_index.json';

  // source order (highest → lowest)
  const SOURCES = [
    cfg.json || ABS_RC_JSON,        // 1) page hook OR canonical rc-restaurants.json
    ABS_FLEET,                      // 2) canonical fleet_index.json
    '/assets/data/fleet_index.json',
    '/data/fleet_index.json'
  ].filter(Boolean);

  // …rest of your file unchanged…
})();
