<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Royal Caribbean Drink Package Calculator — In the Wake</title>
  <meta name="description" content="Figure out if Royal Caribbean’s drink packages are worth it. Compare à-la-carte vs Classic Soda, Refreshment, and Deluxe (Alcohol). Prices include gratuity." />
  <link rel="canonical" href="https://cruisinginthewake.com/royal-caribbean-drink-package-calculator.html" />

  <style>
    :root{
      --ink:#0f2f47; --ink-2:#10324a; --muted:#6f8393; --line:#e3e8ef;
      --bg:#f7fbff; --card:#fff; --chip:#dff6e6; --chip-b:#bee6c9; --chip-ink:#0d6a33;
      --accent:#2db35d; --accent-weak:#e1f7ea;
    }
    html,body{background:#f6fbff;color:#0f2f47;font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,sans-serif;margin:0}
    .sr-only{position:absolute;width:1px;height:1px;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap}
    /* Header */
    .itw-header{position:sticky;top:0;z-index:50;background:#f6fbff;border-bottom:1px solid #e2edf5}
    .itw-wrap{max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:16px;padding:10px 16px}
    .itw-brand{display:flex;align-items:center;gap:10px}
    .itw-nav{margin-left:auto;display:flex;gap:20px}
    .itw-navlink{padding:8px 10px;border-radius:10px;color:#10324a;text-decoration:none}
    .itw-navlink:focus,.itw-navlink:hover{background:#e8f4ff;outline:none}
    .itw-version{font-size:.85rem;color:#5c7286}
    /* Layout */
    .page-wrap{max-width:1200px;margin:18px auto;display:grid;grid-template-columns:1fr 320px;gap:20px;padding:0 16px}
    @media (max-width:980px){.page-wrap{grid-template-columns:1fr}}
    .rail{display:flex;flex-direction:column;gap:14px}
    .card{border:1px solid var(--line);border-radius:14px;padding:14px;background:var(--card);box-shadow:0 1px 0 #eef2f6}
    .card h3{margin:0 0 8px 0;font-size:1.05rem}
    .muted{color:var(--muted)}
    /* Banner */
    #best-banner{display:flex;gap:10px;align-items:center;background:#ecf8ef;border:1px solid #d8f0dd}
    .chip{display:inline-block;padding:4px 10px;border-radius:999px;font-size:.85rem;border:1px solid transparent}
    .chip-success{background:var(--chip);border-color:var(--chip-b);color:var(--chip-ink)}
    /* Inputs */
    .input-grid{display:grid;grid-template-columns:1fr 140px;gap:10px 14px}
    .row{display:contents}
    .row > span{align-self:center}
    .row > input{width:100%;height:36px;border:1px solid #d7e1ea;border-radius:10px;padding:0 10px}
    .row-free > span.muted{justify-self:end}
    /* Packages */
    .cards{display:grid;grid-template-columns:repeat(3,minmax(240px,1fr));gap:14px;margin-block:14px}
    @media (max-width:980px){.cards{grid-template-columns:1fr}}
    .pkg-hd{background:var(--ink);color:#fff;padding:10px;border-radius:12px;margin:-6px -6px 8px -6px}
    .pkg.winner{outline:2px solid var(--accent);box-shadow:0 0 0 4px var(--accent-weak)}
    .save{color:var(--chip-ink);font-weight:600}
    .right-rail{display:flex;flex-direction:column;gap:16px}
  </style>
</head>
<body>

  <!-- Header (no dropdown JS; portal friendly) -->
  <header class="itw-header" role="banner">
    <div class="itw-wrap">
      <a class="itw-brand" href="/">
        <img src="/assets/logo_wake.png?v=3.010.070" alt="In the Wake" height="40" />
      </a>
      <nav class="itw-nav" aria-label="Primary">
        <a class="itw-navlink" href="/">Home</a>
        <a class="itw-navlink" href="/planning/">Planning</a>
        <a class="itw-navlink" href="/travel/">Travel</a>
        <a class="itw-navlink" href="/about/">About</a>
      </nav>
      <div class="itw-version">v3.010.110</div>
    </div>
  </header>

  <div class="page-wrap">

    <!-- Main column -->
    <main id="main" aria-labelledby="page-title">
      <h1 id="page-title" class="sr-only">Royal Caribbean Drink Package Calculator</h1>

      <!-- Banner & totals -->
      <section class="card" id="best-banner" role="status" aria-live="polite">
        <span id="best-chip" class="chip chip-success">Best value: à-la-carte</span>
        <span id="best-text">Your daily picks are cheapest without a package.</span>
      </section>

      <section class="card">
        <p id="totals" class="muted">$0.00/day • $0.00 trip · includes gratuity for packages and à-la-carte.</p>

        <!-- INPUTS (includes free items) -->
        <div class="input-grid" id="inputs-grid">
          <label class="row"><span>Cruise days</span><input id="inp-days" type="number" min="1" step="1" value="7" inputmode="numeric" /></label>

          <label class="row"><span>Soda per day</span><input id="inp-soda" type="number" min="0" step="1" value="0" /></label>
          <label class="row"><span>Premium coffee per day</span><input id="inp-coffee" type="number" min="0" step="1" value="0" /></label>
          <label class="row"><span>Beer per day</span><input id="inp-beer" type="number" min="0" step="1" value="0" /></label>
          <label class="row"><span>Wine per day</span><input id="inp-wine" type="number" min="0" step="1" value="0" /></label>
          <label class="row"><span>Cocktail per day</span><input id="inp-cocktail" type="number" min="0" step="1" value="0" /></label>
          <label class="row"><span>Mocktail/juice per day</span><input id="inp-mocktail" type="number" min="0" step="1" value="0" /></label>

          <div class="row row-free"><span>Tap water</span><span class="muted">Included · $0</span></div>
          <label class="row row-free"><span>Tap water per day</span><input id="inp-tap" type="number" min="0" step="1" value="0" /></label>

          <div class="row row-free"><span>Basic tea / lemonade</span><span class="muted">Included · $0</span></div>
          <label class="row row-free"><span>Basic tea/lemonade per day</span><input id="inp-basic" type="number" min="0" step="1" value="0" /></label>

          <div class="row row-free"><span>Juice (concentrate)</span><span class="muted">Included · $0</span></div>
          <label class="row row-free"><span>Juice (concentrate) per day</span><input id="inp-juiceconc" type="number" min="0" step="1" value="0" /></label>
        </div>
      </section>

      <!-- PACKAGE CARDS -->
      <section id="package-cards" class="cards">
        <article class="card pkg" data-card="soda">
          <header class="pkg-hd">Classic Soda</header>
          <p><strong>$13.00/day</strong> <span class="muted">range $9.99–$16/day</span></p>
          <ul><li>Soda</li></ul>
          <p class="muted">Included value from your picks: <strong data-inc>$0.00/day</strong></p>
          <p class="save" data-saves hidden></p>
        </article>

        <article class="card pkg" data-card="refresh">
          <header class="pkg-hd">Refreshment</header>
          <p><strong>$35.00/day</strong> <span class="muted">range $29–$40/day</span></p>
          <ul><li>Soda + non-alcoholic</li></ul>
          <p class="muted">Included value from your picks: <strong data-inc>$0.00/day</strong></p>
          <p class="save" data-saves hidden></p>
        </article>

        <article class="card pkg" data-card="deluxe">
          <header class="pkg-hd">Deluxe (Alcohol)</header>
          <p><strong>$80.00/day</strong> <span class="muted">range $56–$115/day</span></p>
          <ul><li>Alcoholic drinks up to cap</li></ul>
          <p class="muted">Included value from your picks: <strong data-inc>$0.00/day</strong></p>
          <p class="save" data-saves hidden></p>
        </article>
      </section>

      <p id="a11y-status" class="sr-only" aria-live="polite"></p>
    </main>

    <!-- Right rail -->
    <aside class="right-rail" aria-label="Sidebar">
      <section class="card" aria-labelledby="rec-title">
        <h3 id="rec-title">Recommended Reading</h3>
        <ul class="rail">
          <li><a href="/planning/royal-refreshment-whats-included.html">Royal Caribbean Refreshment Package: What’s Included</a></li>
          <li><a href="/planning/gratuity-on-drinks.html">How gratuity works on drinks &amp; packages</a></li>
          <li><a href="/planning/royal-deluxe-worth-it.html">Deluxe Beverage Package: When it’s worth it</a></li>
        </ul>
      </section>

      <section class="card" aria-labelledby="other-title">
        <h3 id="other-title">Other Calculators</h3>
        <ul class="rail">
          <li><a href="/carnival-drink-package-calculator.html">Carnival Drink Package Calculator</a></li>
          <li><a href="/ncl-drink-package-calculator.html">NCL Drink Package Calculator</a></li>
        </ul>
      </section>

      <section class="card" aria-labelledby="author-title">
        <h3 id="author-title">About the author</h3>
        <p>By <a href="/authors/ken-baker.html">Ken Baker</a>. Pastor, coder, cruiser. Soli Deo Gloria.</p>
      </section>
    </aside>

  </div><!-- /page-wrap -->

  <!-- ===== Dataset loader (works with SW; emits ready event) ===== -->
  <script>
    (async () => {
      try {
        const res = await fetch('/data/royal-caribbean.json', { cache: 'default' });
        if (!res.ok) throw new Error('Dataset fetch failed: ' + res.status);
        window.itwDataset = await res.json();
        window.dispatchEvent(new CustomEvent('itw:dataset-ready'));
      } catch (e) {
        console.error(e);
      }
    })();
  </script>

  <!-- ===== Calculator recompute + wiring ===== -->
  <script>
  (() => {
    const INPUT_IDS = {
      days:'#inp-days',
      soda:'#inp-soda', coffee:'#inp-coffee',
      beer:'#inp-beer', wine:'#inp-wine', cocktail:'#inp-cocktail',
      mocktail:'#inp-mocktail',
      tap:'#inp-tap', basic:'#inp-basic', juiceconc:'#inp-juiceconc'
    };

    const EL = {
      totals: document.querySelector('#totals'),
      chip:   document.querySelector('#best-chip'),
      text:   document.querySelector('#best-text'),
      card: {
        soda: document.querySelector('[data-card="soda"]'),
        refresh: document.querySelector('[data-card="refresh"]'),
        deluxe: document.querySelector('[data-card="deluxe"]')
      }
    };

    const n = v => { const x = Number(v); return Number.isFinite(x) ? x : 0; };
    const money = v => `$${(Math.round(v*100)/100).toFixed(2)}`;

    function pricesFrom(ds){ const m={}; (ds.items||[]).forEach(i=>m[i.id]=n(i.price)); return m; }
    function setsFrom(ds){
      const s=ds.sets||{};
      return { soda:new Set(s.soda||[]), refresh:new Set(s.refresh||[]), alcohol:new Set(s.alcohol||[]) };
    }
    function pkgFrom(ds){
      const p=ds.packages||{};
      return { soda:n(p.soda?.price), refresh:n(p.refreshment?.price), deluxe:n(p.deluxe?.price) };
    }
    function picks(){
      const q = sel => document.querySelector(sel);
      return {
        days: n(q(INPUT_IDS.days)?.value),
        list: [
          ['soda',     n(q(INPUT_IDS.soda)?.value)],
          ['coffee',   n(q(INPUT_IDS.coffee)?.value)],
          ['beer',     n(q(INPUT_IDS.beer)?.value)],
          ['wine',     n(q(INPUT_IDS.wine)?.value)],
          ['cocktail', n(q(INPUT_IDS.cocktail)?.value)],
          ['mocktail', n(q(INPUT_IDS.mocktail)?.value)],
          ['tapwater', n(q(INPUT_IDS.tap)?.value)],
          ['basictea', n(q(INPUT_IDS.basic)?.value)],
          ['juiceconc',n(q(INPUT_IDS.juiceconc)?.value)]
        ]
      };
    }

    function alcPerDay(list, price, gratuity){
      let sum=0;
      for(const [id,qty] of list){
        if(qty<=0) continue;
        const p = n(price[id]);
        if(p>0) sum += qty * p * (1+gratuity); // free items contribute 0
      }
      return sum;
    }
    function included(list, price, coverageSet){
      let inc=0;
      for(const [id,qty] of list){
        if(qty<=0) continue;
        if(!coverageSet.has(id)) continue;
        const p = n(price[id]);
        if(p>0) inc += qty * p; // ignore $0 so packages don’t gain fake value
      }
      return inc;
    }
    function winnerFrom(nets){
      const arr = Object.entries(nets);
      if(arr.every(([,v])=>v>0)) return {key:'alc', net:0};
      let mk='soda', mv=Infinity;
      for(const [k,v] of arr){ if(v<mv){mv=v; mk=k;} }
      return {key:mk, net:mv};
    }
    function setCard(el, inc, saves, isWinner){
      if(!el) return;
      const incEl = el.querySelector('[data-inc]');
      const svEl  = el.querySelector('[data-saves]');
      if(incEl) incEl.textContent = money(inc)+'/day';
      if(svEl){
        if(saves>0){ svEl.textContent = `Saves ${money(saves)}/day`; svEl.hidden=false; }
        else{ svEl.textContent=''; svEl.hidden=true; }
      }
      el.classList.toggle('winner', !!isWinner);
    }

    function recompute(){
      const ds = window.itwDataset; if(!ds) return;
      const rules = { gratuity: n(ds.rules?.gratuity ?? 0.18), epsilon: n(ds.rules?.epsilon ?? 0.02) };
      const price = pricesFrom(ds);
      const sets  = setsFrom(ds);
      const pkg   = pkgFrom(ds);
      const pk    = picks();

      const alc = alcPerDay(pk.list, price, rules.gratuity);
      const deluxeSet = new Set([...sets.refresh, ...sets.alcohol]);

      const incSoda    = included(pk.list, price, sets.soda);
      const incRefresh = included(pk.list, price, sets.refresh);
      const incDeluxe  = included(pk.list, price, deluxeSet);

      const nets = {
        soda:    pkg.soda    - incSoda,
        refresh: pkg.refresh - incRefresh,
        deluxe:  pkg.deluxe  - incDeluxe
      };

      const w = winnerFrom(nets);

      const perDayWinner =
        w.key==='alc'     ? alc :
        w.key==='soda'    ? pkg.soda :
        w.key==='refresh' ? pkg.refresh :
                            pkg.deluxe;

      const trip = perDayWinner * Math.max(1, pk.days || 1);

      if(EL.totals) EL.totals.textContent = `${money(perDayWinner)}/day • ${money(trip)} trip · includes gratuity for packages and à-la-carte.`;

      if(EL.chip && EL.text){
        if(w.key==='alc'){
          EL.chip.textContent='Best value: à-la-carte';
          EL.text.textContent='Your daily picks are cheapest without a package.';
        }else{
          const name = w.key==='soda' ? 'Classic Soda' : w.key==='refresh' ? 'Refreshment' : 'Deluxe (Alcohol)';
          const pkgDaily = w.key==='soda' ? pkg.soda : w.key==='refresh' ? pkg.refresh : pkg.deluxe;
          const saves = Math.max(0, alc - pkgDaily);
          EL.chip.textContent = `Best value: ${name}`;
          EL.text.textContent = saves>0 ? `Saves ${money(saves)}/day vs. à-la-carte for your current picks.` : `This beats à-la-carte for your current picks.`;
        }
      }

      setCard(EL.card.soda,    incSoda,    Math.max(0, alc - pkg.soda),    w.key==='soda');
      setCard(EL.card.refresh, incRefresh, Math.max(0, alc - pkg.refresh), w.key==='refresh');
      setCard(EL.card.deluxe,  incDeluxe,  Math.max(0, alc - pkg.deluxe),  w.key==='deluxe');

      const a11y = document.querySelector('#a11y-status');
      if(a11y){ a11y.textContent = `Totals updated. ${money(perDayWinner)} per day, ${money(trip)} for the trip.`; }
    }

    function wire(){
      Object.values(INPUT_IDS).forEach(sel=>{
        const el=document.querySelector(sel);
        if(!el) return;
        el.addEventListener('input', recompute);
        el.addEventListener('change', recompute);
      });
      if(window.itwDataset) recompute();
      else window.addEventListener('itw:dataset-ready', recompute, {once:true});
    }

    document.addEventListener('DOMContentLoaded', wire);
  })();
  </script>
</body>
</html>
