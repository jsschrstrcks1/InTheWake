<!doctype html>
<html lang="en">
<head>
  <!-- ======================================================
       In the Wake — Cruise Lines
       Version: 3.010.200  |  Soli Deo Gloria ✝️

       ✅ Production-Ready Template Applied
       ✅ WCAG 2.1 Level AA Compliant
       ✅ SEO Optimized (JSON-LD, OpenGraph, Twitter Cards)
       ✅ Dropdown Menus with 300ms Hover Delay
       ✅ Live Search/Filter Functionality
       ====================================================== -->

  <!-- CMP (Consent Manager) -->
  <script type="text/javascript" data-cmp-ab="1"
    src="https://cdn.consentmanager.net/delivery/autoblocking/e11a25480244a.js"
    data-cmp-host="a.delivery.consentmanager.net"
    data-cmp-cdn="cdn.consentmanager.net" data-cmp-codesrc="16"></script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WZP891PZXJ"></script>
  <script>
    window.dataLayer=window.dataLayer||[];
    function gtag(){dataLayer.push(arguments);}
    gtag('js',new Date());
    gtag('config','G-WZP891PZXJ',{anonymize_ip:true});
  </script>

  <!-- Umami (secondary analytics) -->
  <script defer src="https://cloud.umami.is/script.js" data-website-id="9661a449-3ba9-49ea-88e8-4493363578d2"></script>

  <!-- Core -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="referrer" content="no-referrer-when-downgrade"/>

  <!-- SEO: Robots & Crawling -->
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1"/>
  <meta name="googlebot" content="index,follow"/>
  <meta name="bingbot" content="index,follow"/>

  <!-- SEO: Theme & Appearance -->
  <meta name="color-scheme" content="light"/>
  <meta name="theme-color" content="#0e6e8e"/>
  <meta name="version" content="3.010.200"/>
  <meta name="author" content="In the Wake"/>
  <meta name="publisher" content="In the Wake"/>

  <!-- SEO: Geographic -->
  <meta name="geo.region" content="US"/>
  <meta name="geo.placename" content="United States"/>

  <!-- Title & SEO -->
  <title>Cruise Lines — In the Wake (v3.010.200)</title>
  <meta name="description" content="Browse cruise line guides across Royal Caribbean, Celebrity, Princess, Carnival, Disney, Norwegian, MSC, Holland America, Viking, and Virgin Voyages."/>
  <meta name="keywords" content="cruise lines, Royal Caribbean, Celebrity, Princess, Carnival, Disney Cruise Line, Norwegian, MSC, Holland America, Viking, Virgin Voyages"/>
  <link rel="canonical" href="https://cruisinginthewake.com/cruise-lines.html"/>

  <!-- SEO: Author & Copyright -->
  <meta name="copyright" content="In the Wake"/>
  <link rel="author" href="https://cruisinginthewake.com/authors/ken-baker.html"/>

  <!-- OpenGraph / Facebook -->
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:title" content="Cruise Lines — In the Wake"/>
  <meta property="og:description" content="Line-by-line guides with ships, dining, accessibility notes, and planning tools."/>
  <meta property="og:url" content="https://cruisinginthewake.com/cruise-lines.html"/>
  <meta property="og:image" content="https://cruisinginthewake.com/assets/social/cruise-lines-hero.jpg"/>
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>
  <meta property="og:image:alt" content="Cruise Lines guide - In the Wake cruise planning"/>
  <meta property="og:locale" content="en_US"/>

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content="Cruise Lines — In the Wake"/>
  <meta name="twitter:description" content="Line-by-line guides with ships, dining, accessibility notes, and planning tools."/>
  <meta name="twitter:image" content="https://cruisinginthewake.com/assets/social/cruise-lines-hero.jpg"/>
  <meta name="twitter:image:alt" content="Cruise Lines guide - In the Wake cruise planning"/>

  <!-- JSON-LD: Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "In the Wake",
    "url": "https://cruisinginthewake.com",
    "logo": "https://cruisinginthewake.com/assets/logo_wake.png",
    "description": "A cruise traveler's logbook providing planning tools, travel tips, and faith-scented reflections for smoother sailings.",
    "sameAs": [
      "https://www.flickersofmajesty.com"
    ],
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "customer support",
      "url": "https://cruisinginthewake.com/about-us.html"
    }
  }
  </script>

  <!-- JSON-LD: WebSite with SearchAction -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "In the Wake",
    "url": "https://cruisinginthewake.com",
    "description": "A cruise traveler's logbook",
    "publisher": {
      "@type": "Organization",
      "name": "In the Wake"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://cruisinginthewake.com/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- JSON-LD: Breadcrumb -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://cruisinginthewake.com/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Cruise Lines",
        "item": "https://cruisinginthewake.com/cruise-lines.html"
      }
    ]
  }
  </script>

  <!-- JSON-LD: ItemList of Cruise Lines -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"ItemList",
    "name":"Cruise Lines",
    "itemListOrder":"https://schema.org/ItemListOrderAscending",
    "numberOfItems":10,
    "itemListElement":[
      {"@type":"ListItem","position":1,"url":"https://www.cruisinginthewake.com/cruise-lines/royal-caribbean.html","name":"Royal Caribbean"},
      {"@type":"ListItem","position":2,"url":"https://www.cruisinginthewake.com/cruise-lines/celebrity.html","name":"Celebrity Cruises"},
      {"@type":"ListItem","position":3,"url":"https://www.cruisinginthewake.com/cruise-lines/princess.html","name":"Princess"},
      {"@type":"ListItem","position":4,"url":"https://www.cruisinginthewake.com/cruise-lines/carnival.html","name":"Carnival"},
      {"@type":"ListItem","position":5,"url":"https://www.cruisinginthewake.com/cruise-lines/disney.html","name":"Disney Cruise Line"},
      {"@type":"ListItem","position":6,"url":"https://www.cruisinginthewake.com/cruise-lines/norwegian.html","name":"Norwegian"},
      {"@type":"ListItem","position":7,"url":"https://www.cruisinginthewake.com/cruise-lines/msc.html","name":"MSC Cruises"},
      {"@type":"ListItem","position":8,"url":"https://www.cruisinginthewake.com/cruise-lines/holland-america.html","name":"Holland America"},
      {"@type":"ListItem","position":9,"url":"https://www.cruisinginthewake.com/cruise-lines/viking.html","name":"Viking"},
      {"@type":"ListItem","position":10,"url":"https://www.cruisinginthewake.com/cruise-lines/virgin.html","name":"Virgin Voyages"}
    ]
  }
  </script>

  <!-- Favicon / PWA -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/in_the_wake_icon_32x32.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png"/>
  <link rel="manifest" href="/manifest.webmanifest"/>

  <!-- SEO: Sitemap & RSS -->
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <!-- Performance: DNS Prefetch & Preconnect -->
  <link rel="dns-prefetch" href="https://www.flickersofmajesty.com"/>
  <link rel="preconnect" href="https://cruisinginthewake.com"/>

  <!-- Unified CSS (global) -->
  <link rel="stylesheet" href="https://www.cruisinginthewake.com/assets/styles.css?v=3.010.200"/>
  <link rel="preload" as="image" href="https://www.cruisinginthewake.com/assets/compass_rose.svg"/>

  <!-- Site Cache helper + SW registration -->
  <script defer src="https://www.cruisinginthewake.com/assets/js/site-cache.js?v=3.010.200"></script>
  <script>
    if('serviceWorker' in navigator){
      addEventListener('load', ()=> {
        navigator.serviceWorker.register('https://www.cruisinginthewake.com/sw.js?v=3.010.200').catch(()=>{});
      });
    }
  </script>

  <!-- Page-local a11y + Unified Nav additions -->
  <style>
    :root{ --rope:#d9b382; --accent:#0e6e8e; --accent-dark:#005a9c; --text-muted:#2a4a5a; }
    html,body{overflow-x:hidden}

    /* Screen reader only */
    .sr-only {
      position: absolute !important;
      left: -10000px !important;
      width: 1px !important;
      height: 1px !important;
      overflow: hidden !important;
      clip: rect(1px, 1px, 1px, 1px) !important;
      white-space: nowrap !important;
    }

    .visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
    .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{left:12px;top:12px;width:auto;height:auto;background:#0e6e8e;color:#fff;border:0;padding:.45rem .7rem;z-index:10000;border-radius:10px}

    /* Enhanced focus indicators (WCAG 2.1 AA) */
    *:focus {
      outline: 3px solid var(--accent-dark);
      outline-offset: 2px;
    }

    a:focus,
    button:focus,
    [tabindex="0"]:focus {
      outline: 3px solid var(--accent-dark);
      outline-offset: 3px;
      box-shadow: 0 0 0 6px rgba(0, 90, 156, 0.15);
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* High contrast mode */
    @media (prefers-contrast: high) {
      :root {
        --text-muted: #1a2a3a;
      }

      button,
      a,
      .card {
        border: 2px solid currentColor;
      }

      *:focus {
        outline-width: 4px;
      }
    }

    /* Header rope above hero; prevent 100vw bleed */
    .hero-header{position:relative;border-bottom:6px double var(--rope);z-index:0}
    .hero-header > .hero{position:relative;z-index:-1;width:100% !important;margin-left:0 !important;overflow-x:clip !important}

    /* Unified Nav v3.010.200 */
    .navbar{display:flex;align-items:flex-end;gap:.6rem;max-width:1100px;margin:0 auto;padding:.5rem .9rem .35rem;position:relative;z-index:6}
    .brand{display:flex;align-items:flex-end;gap:.6rem;flex:0 0 auto}
    .brand img{height:28px;width:auto}
    .version-badge{font-size:.72rem;opacity:.8;margin-left:.35rem}
    .main-nav{flex:1 1 auto;min-width:0;display:flex;align-items:center;justify-content:center;gap:.45rem;white-space:nowrap;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;scrollbar-width:thin;padding-inline:.75rem;scroll-padding-inline:.75rem;
      mask-image:linear-gradient(to right, transparent, black .9rem, black calc(100% - .9rem), transparent);
      -webkit-mask-image:linear-gradient(to right, transparent, black .9rem, black calc(100% - .9rem), transparent);
    }
    .nav-item{position:relative;display:inline-block}
    .chip,.nav-disclosure{display:inline-flex;align-items:center;gap:.35rem;padding:.35rem .7rem;border-radius:10px;background:#fff;border:1px solid var(--rope);color:var(--accent);font:inherit;font-size:.9rem;line-height:1.2;cursor:pointer;text-decoration:none}
    .main-nav a[aria-current="page"]{outline:3px dashed var(--rope);outline-offset:2px;box-shadow:0 0 0 3px rgba(200,163,106,.15) inset}
    .submenu{position:absolute;left:0;top:calc(100% + 6px);min-width:220px;background:#fff;border:1px solid var(--rope);border-radius:12px;padding:.35rem;box-shadow:0 8px 24px rgba(8,48,65,.12);display:none;opacity:0;visibility:hidden;pointer-events:none;transition:opacity 0.2s ease, visibility 0.2s ease;z-index:20}
    .submenu a{display:block;padding:.35rem .6rem;border-radius:8px;border:1px solid transparent;color:inherit;white-space:nowrap}
    .submenu a:hover{background:#f9fdfd;border-color:#ecd7b7;text-decoration:none}
    .nav-group[data-open="true"] .submenu{display:block;opacity:1;visibility:visible;pointer-events:auto}

    /* Search strip */
    .searchbar{max-width:1100px;margin:.6rem auto 0;padding:0 14px}
    .searchbar input[type="search"]{width:100%;max-width:720px;padding:.65rem .8rem;border:1px solid #cfe1ea;border-radius:12px}

    /* Hero: logo + tagline BENEATH the ship/logo */
    .hero{position:relative;min-height:clamp(200px,24vw,340px);display:flex;align-items:flex-end;background:url('https://www.cruisinginthewake.com/assets/index_hero.jpg') center/cover no-repeat}
    .hero .latlon-grid{position:absolute;inset:0;pointer-events:none}
    .hero-title{position:absolute;left:min(3vw,1rem);bottom:clamp(.6rem,2vw,1.4rem);z-index:3;display:flex;flex-direction:column;align-items:flex-start;gap:.35rem;text-shadow:0 2px 6px rgba(0,0,0,.45)}
    .hero-title .logo{width:clamp(189px,23.1vw,378px);max-width:min(45vw,520px);filter:drop-shadow(0 3px 8px rgba(0,0,0,.45))}
    .hero .tagline{font-weight:700;letter-spacing:.2px;color:#e6f4f8;font-size:clamp(.9rem,1.5vw,1.35rem);white-space:nowrap}
    .hero .hero-compass{position:absolute;right:min(3vw,1rem);top:.5rem;width:86px;opacity:.95;filter:invert(39%) sepia(9%) saturate(1063%) hue-rotate(151deg) brightness(92%) contrast(89%);pointer-events:none}
  </style>
</head>

<body class="lines-page no-hero-filter">
  <!-- Skip Link -->
  <a class="skip-link" href="#content">Skip to main content</a>

  <!-- ARIA Live Regions -->
  <div id="a11y-status" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>
  <div id="a11y-alerts" role="alert" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

  <header class="site-header hero-header">
    <div class="navbar">
      <div class="brand">
        <img src="https://www.cruisinginthewake.com/assets/logo_wake.png" alt="In the Wake"/>
        <span class="version-badge">v3.010.200 (inline)</span>
      </div>

      <!-- Unified dropdown nav -->
      <nav class="main-nav" aria-label="Primary">
        <div class="nav-item"><a class="chip" href="https://www.cruisinginthewake.com/">Home</a></div>

        <div class="nav-item nav-group" id="nav-planning" data-open="false">
          <button class="nav-disclosure chip" type="button" aria-expanded="false" aria-controls="menu-planning">Planning ▾</button>
          <div id="menu-planning" class="submenu" role="menu" aria-label="Planning">
            <a role="menuitem" href="https://www.cruisinginthewake.com/planning.html">Planning (overview)</a>
            <a role="menuitem" href="https://www.cruisinginthewake.com/ports.html">Ports</a>
            <a role="menuitem" href="https://www.cruisinginthewake.com/restaurants.html">Restaurants &amp; Menus</a>
            <a role="menuitem" href="https://www.cruisinginthewake.com/ships.html">Ships</a>
            <a role="menuitem" href="https://www.cruisinginthewake.com/drink-calculator.html">Drink Calculator</a>
            <a role="menuitem" href="https://www.cruisinginthewake.com/cruise-lines.html" aria-current="page">Cruise Lines</a>
            <a role="menuitem" href="https://www.cruisinginthewake.com/packing-lists.html">Packing Lists</a>
            <a role="menuitem" href="https://www.cruisinginthewake.com/accessibility.html">Accessibility</a>
          </div>
        </div>

        <div class="nav-item nav-group" id="nav-travel" data-open="false">
          <button class="nav-disclosure chip" type="button" aria-expanded="false" aria-controls="menu-travel">Travel ▾</button>
          <div id="menu-travel" class="submenu" role="menu" aria-label="Travel">
            <a role="menuitem" href="https://www.cruisinginthewake.com/travel.html">Travel (overview)</a>
            <a role="menuitem" href="https://www.cruisinginthewake.com/solo.html">Solo</a>
          </div>
        </div>

        <div class="nav-item"><a class="chip" href="https://www.cruisinginthewake.com/about-us.html">About</a></div>
      </nav>
    </div>

    <!-- Single hero + single compass (tagline under ship) -->
    <div class="hero" role="img" aria-label="Open ocean at sunrise">
      <div class="latlon-grid" aria-hidden="true"></div>
      <img class="hero-compass" src="https://www.cruisinginthewake.com/assets/compass_rose.svg" alt="" aria-hidden="true"/>
      <div class="hero-title">
        <img class="logo" src="https://www.cruisinginthewake.com/assets/logo_wake.png" alt="In the Wake">
        <div class="tagline">A Cruise Traveler's Logbook</div>
      </div>
    </div>

    <!-- Search-first header filter -->
    <div class="searchbar" role="search" aria-label="Filter cruise lines">
      <label class="visually-hidden" for="q">Filter cruise lines by name</label>
      <input id="q" type="search" inputmode="search"
             placeholder="Type to filter… (e.g., royal, princess, disney)"
             aria-describedby="search-meta"/>
      <p id="search-meta" class="tiny" aria-live="polite">Showing all cruise lines</p>
    </div>
  </header>

  <main id="content" class="wrap">
    <section class="section">
      <h1>Cruise Lines</h1>
      <div class="divider" aria-hidden="true"></div>

      <div class="grid" id="line-grid">
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/royal-caribbean.html" aria-label="Royal Caribbean guide"><strong>Royal Caribbean</strong><br><small>Ships, dining, accessibility notes</small></a></div>
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/celebrity.html" aria-label="Celebrity Cruises guide"><strong>Celebrity Cruises</strong><br><small>Modern luxury at sea</small></a></div>
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/princess.html" aria-label="Princess guide"><strong>Princess</strong><br><small>Relaxed elegance &amp; MedallionClass</small></a></div>
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/carnival.html" aria-label="Carnival guide"><strong>Carnival</strong><br><small>Fun ships &amp; casual vibes</small></a></div>
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/disney.html" aria-label="Disney Cruise Line guide"><strong>Disney Cruise Line</strong><br><small>Family-forward magic</small></a></div>
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/norwegian.html" aria-label="Norwegian guide"><strong>Norwegian</strong><br><small>Freestyle cruising</small></a></div>
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/msc.html" aria-label="MSC Cruises guide"><strong>MSC Cruises</strong><br><small>European style &amp; Yacht Club</small></a></div>
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/holland-america.html" aria-label="Holland America guide"><strong>Holland America</strong><br><small>Classic ocean voyages</small></a></div>
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/viking.html" aria-label="Viking guide"><strong>Viking</strong><br><small>Adults-only discovery</small></a></div>
        <div class="card"><a href="https://www.cruisinginthewake.com/cruise-lines/virgin.html" aria-label="Virgin Voyages guide"><strong>Virgin Voyages</strong><br><small>Adult-by-design</small></a></div>
      </div>
    </section>
  </main>

  <footer class="wrap" role="contentinfo" style="text-align:center">
    <div class="tiny" style="margin-bottom:.35rem">v3.010.200</div>
    © 2025 In the Wake — A Cruise Traveler's Logbook ·
    <a href="https://www.cruisinginthewake.com/accessibility.html">Accessibility &amp; WCAG 2.1 AA Commitment</a>
    <p class="tiny center" style="margin-top:.5rem">
      Soli Deo Gloria — Every pixel and part of this project is offered as worship to God, in gratitude for the beautiful things He has created for us to enjoy.
    </p>
  </footer>

  <!-- Unified Nav behavior with 300ms hover delay -->
  <script>
  (function(){
    "use strict";

    /* ===== Dropdown Menu with 300ms Hover Delay ===== */
    const dropdownGroups = Array.from(document.querySelectorAll('.nav-group'));
    if (dropdownGroups.length) {
      const hoverTimeouts = new Map();
      const HOVER_DELAY = 300;

      function setOpen(group, isOpen) {
        group.dataset.open = isOpen ? "true" : "false";
        const button = group.querySelector('.nav-disclosure');
        if (button) {
          button.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
        }
      }

      function closeAll(except = null) {
        dropdownGroups.forEach(group => {
          if (group !== except) {
            setOpen(group, false);
            if (hoverTimeouts.has(group)) {
              clearTimeout(hoverTimeouts.get(group));
              hoverTimeouts.delete(group);
            }
          }
        });
      }

      dropdownGroups.forEach(group => {
        const button = group.querySelector('.nav-disclosure');
        const menu = group.querySelector('.submenu');
        if (!button || !menu) return;

        // Click to toggle
        button.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          const isOpen = group.dataset.open === "true";
          closeAll(group);
          setOpen(group, !isOpen);
        });

        // Mouse enter: Open immediately
        group.addEventListener('mouseenter', () => {
          if (hoverTimeouts.has(group)) {
            clearTimeout(hoverTimeouts.get(group));
            hoverTimeouts.delete(group);
          }
          closeAll(group);
          setOpen(group, true);
        });

        // Mouse leave: Close after delay
        group.addEventListener('mouseleave', () => {
          const timeoutId = setTimeout(() => {
            setOpen(group, false);
            hoverTimeouts.delete(group);
          }, HOVER_DELAY);
          hoverTimeouts.set(group, timeoutId);
        });

        // Keyboard navigation
        group.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            setOpen(group, false);
            button && button.focus();
          }
          if ((e.key === 'ArrowDown' || e.key === 'ArrowUp') && document.activeElement === button) {
            e.preventDefault();
            setOpen(group, true);
            const firstLink = menu.querySelector('a, button, [tabindex]:not([tabindex="-1"])');
            firstLink && firstLink.focus();
          }
        });

        // Close when tabbing away
        menu.addEventListener('focusout', () => {
          setTimeout(() => {
            if (!group.contains(document.activeElement)) {
              setOpen(group, false);
            }
          }, 0);
        });
      });

      // Close all when clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.nav-group')) {
          closeAll();
        }
      });

      // Close all when window loses focus
      window.addEventListener('blur', () => {
        closeAll();
      });
    }

    /* ===== Filter + respectful animation ===== */
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));
    const q = $('#q');
    const meta = $('#search-meta');
    const grid = $('#line-grid');
    const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;

    function norm(s){
      return String(s||'')
        .toLowerCase()
        .normalize('NFD')
        .replace(/[\u0300-\u036f]/g,'')
        .replace(/['']/g,"'")
        .trim();
    }

    function update(){
      const val = norm(q && q.value);
      let shown = 0;
      $$('#line-grid .card').forEach(c=>{
        const hit = !val || norm(c.textContent).includes(val);
        c.style.display = hit ? '' : 'none';
        if(hit) shown++;
      });
      if(meta){
        meta.textContent = val ? `Showing ${shown} of 10` : 'Showing all cruise lines';
      }

      // Announce to screen readers
      const status = $('#a11y-status');
      if(status) {
        status.textContent = val ? `${shown} cruise lines found` : 'Showing all 10 cruise lines';
      }

      if(prefersReduced) return;
      // graceful, minimal entry
      let i = 0;
      grid.querySelectorAll('.card').forEach(c=>{
        if(c.style.display==='none') return;
        c.style.setProperty('--stg', i++);
        c.classList.remove('--in');
        void c.offsetWidth;
        c.classList.add('--in');
      });
    }

    q && q.addEventListener('input', ()=>{ clearTimeout(q._t); q._t = setTimeout(update, 70); });
    requestAnimationFrame(update);
  })();
  </script>
</body>
</html>
