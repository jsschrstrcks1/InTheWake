<!doctype html>
<html lang="en">
<head>
  <!-- ======================================================
       In the Wake — Search
       Version: 3.010.300  |  Soli Deo Gloria

       Dynamic instant search across all site content
       ====================================================== -->

  <!-- Core -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="referrer" content="no-referrer-when-downgrade"/>

  <!-- SEO: Robots -->
  <meta name="robots" content="index,follow"/>
  <meta name="googlebot" content="index,follow"/>

  <!-- SEO: Theme -->
  <meta name="color-scheme" content="light"/>
  <meta name="theme-color" content="#0e6e8e"/>
  <meta name="author" content="In the Wake"/>

  <!-- ICP-Lite v1.0 -->
  <meta name="ai-summary" content="Search In the Wake for ships, restaurants, articles, cruise lines, and planning tools. Instant results as you type with fuzzy matching."/>
  <meta name="last-reviewed" content="2025-11-19"/>
  <meta name="content-protocol" content="ICP-Lite v1.0"/>

  <!-- Title & SEO -->
  <title>Search | In the Wake</title>
  <meta name="description" content="Search In the Wake for ships, restaurants, articles, cruise lines, and planning tools. Find exactly what you need for your cruise."/>
  <link rel="canonical" href="https://cruisinginthewake.com/search.html"/>

  <!-- OpenGraph -->
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:title" content="Search | In the Wake"/>
  <meta property="og:description" content="Search for ships, restaurants, articles, and cruise planning tools."/>
  <meta property="og:url" content="https://cruisinginthewake.com/search.html"/>

  <!-- Twitter -->
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:title" content="Search | In the Wake"/>
  <meta name="twitter:description" content="Search for ships, restaurants, articles, and cruise planning tools."/>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/in_the_wake_icon_32x32.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png"/>

  <!-- Fuse.js for fuzzy search -->
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>

  <!-- JSON-LD: WebPage (ICP-Lite) -->
  <script type="application/ld+json">
  {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Search",
  "url": "https://cruisinginthewake.com/search.html",
  "description": "Search In the Wake for ships, restaurants, articles, cruise lines, and planning tools. Find exactly what you need for your cruise."
}
  </script>  <link rel="stylesheet" href="/assets/styles.css?v=3.010.300"/>
  <!-- JSON-LD: FAQPage (ICP-Lite) -->
  <script type="application/ld+json">
  {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What information does this page provide?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "This page provides planning resources and information about search."
      }
    },
    {
      "@type": "Question",
      "name": "Is this information official?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "This page provides community insights. Always confirm with your cruise line before making decisions."
      }
    }
  ]
}
  </script>

  <!-- LCP Optimization: Preload critical hero images -->
  <link rel="preload" as="image" href="/assets/logo_wake_560.png" fetchpriority="high"/>
  <link rel="preload" as="image" href="/assets/compass_rose.svg?v=3.010.300" fetchpriority="high"/>
  <!-- Service Worker Registration -->
  <script>
  if('serviceWorker' in navigator){
    window.addEventListener('load',()=>navigator.serviceWorker.register('/sw.js').catch(()=>{}));
  }
  </script>

</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <!-- ARIA Live Regions -->
  <div id="a11y-status" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>
  <div id="a11y-alerts" role="alert" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

  <!-- HEADER -->
  <header class="hero-header" role="banner">
    <div class="navbar">
      <div class="brand">
        <a href="/">
          <img src="/assets/logo_wake_256.png" srcset="/assets/logo_wake_256.png 1x, /assets/logo_wake_512.png 2x" width="256" height="259" alt="In the Wake wordmark" decoding="async"/>
        </a>
        <span class="tiny version-badge" aria-label="Site version V1.Beta">V1.Beta</span>
      </div>
            <nav class="site-nav" aria-label="Main site navigation">
        <a class="nav-pill" href="/">Home</a>

        <!-- Planning Dropdown -->
        <div class="nav-dropdown" id="nav-planning">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Planning <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/planning.html">Planning (overview)</a>
            <a href="/ships.html">Ships</a>
            <a href="/restaurants.html">Restaurants &amp; Menus</a>
            <a href="/ports.html">Ports</a>
            <a href="/drink-packages.html">Drink Packages</a>
            <a href="/drink-calculator.html">Drink Calculator</a>
            <a href="/stateroom-check.html">Stateroom Check</a>
            <a href="/cruise-lines.html">Cruise Lines</a>
            <a href="/packing-lists.html">Packing Lists</a>
            <a href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <!-- Travel Dropdown -->
        <div class="nav-dropdown" id="nav-travel">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Travel <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/travel.html">Travel (overview)</a>
            <a href="/solo.html">Solo</a>
          </div>
        </div>

        <a class="nav-pill" href="/tools/port-tracker.html">Port Logbook</a>
        <a class="nav-pill" href="/tools/ship-tracker.html">Ship Logbook</a>
        <a class="nav-pill" href="/search.html">Search</a>
        <a class="nav-pill" href="/about-us.html">About</a>
      </nav></div>

    <div class="hero" role="img" aria-label="Ship wake at sunrise">
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.010.300" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake_560.png" srcset="/assets/logo_wake_560.png 1x, /assets/logo_wake_1120.png 2x" alt="In the Wake" decoding="async" fetchpriority="high" width="560" height="567"/>
      </div>
      <div class="tagline" aria-hidden="true">A Cruise Traveler's Logbook</div>
      <div class="hero-credit">
        <a class="pill" href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Photo © Flickers of Majesty</a>
      </div>
    </div></header>

  <!-- MAIN -->
  <main id="main-content" class="wrap" role="main">
    <!-- ICP-Lite Content Structure -->
    <section class="page-intro col-full">
      <p class="answer-line">
        <strong>Quick Answer:</strong> Search across ships, restaurants, ports, articles, and planning tools. Results appear instantly as you type.
      </p>

      <p class="content-text">
        <strong>Best For:</strong> Finding specific cruise content, comparing ships, locating restaurants, and discovering planning resources.
      </p>

      <div class="callout-box">
        <h3 class="mt-0 mb-05">Key Facts</h3>
        <ul class="list-indent">
          <li><strong>274+ searchable pages</strong> across ships, ports, restaurants</li>
          <li><strong>Fuzzy matching</strong> finds results even with typos</li>
          <li><strong>Smart filtering</strong> prioritizes relevant categories</li>
        </ul>
      </div>
    </section>

    <h1>Search In the Wake</h1>
    <p class="search-intro">Find ships, restaurants, articles, cruise lines, and planning tools. Results appear as you type.</p>

    <div class="search-container">
      <input
        type="search"
        id="searchInput"
        class="search-input"
        placeholder="Type to search... (e.g., chops, radiance, solo, drink)"
        autocomplete="off"
        autofocus
        aria-label="Search the site"
      />
      <div id="searchStatus" class="search-status" aria-live="polite"></div>
    </div>

    <div id="resultsContainer">
      <!-- Initial state with popular searches -->
      <div class="initial-state" id="initialState">
        <p>Start typing to search across 274 pages including ships, restaurants, articles, and tools.</p>
        <div class="popular-searches">
          <h3>Popular Searches</h3>
          <div class="popular-tags">
            <button class="popular-tag" onclick="doSearch('chops')"><a href="/restaurants/chops.html">Chops Grille</a></button>
            <button class="popular-tag" onclick="doSearch('icon')"><a href="/ships/rcl/icon-of-the-seas.html">Icon of the Seas</a></button>
            <button class="popular-tag" onclick="doSearch('solo')"><a href="/solo/solo-cruisers-companion.html">Solo Cruising</a> (see also <a href="/solo/why-i-started-solo-cruising.html">Tina's story</a>)</button>
            <button class="popular-tag" onclick="doSearch('drink')"><a href="/drink-calculator.html">Drink Calculator</a></button>
            <button class="popular-tag" onclick="doSearch('sushi')">Sushi</button>
            <button class="popular-tag" onclick="doSearch('grief')">Cruising After Loss</button>
            <button class="popular-tag" onclick="doSearch('wheelchair')"><a href="/accessibility.html">Accessibility</a></button>
          </div>
        </div>
      </div>
    </div>
  
    <!-- ICP-Lite FAQ Section -->
    <section class="card mt-15" id="faq" aria-labelledby="faq-heading">
      <h2 id="faq-heading">Frequently Asked Questions</h2>

      <details class="faq-item">
        <summary>What can I search for?</summary>
        <p class="faq-answer">Search across ships, restaurants, ports, articles, planning tools, and more. The search uses fuzzy matching so it works even with typos.</p>
      </details>

      <details class="faq-item">
        <summary>How does smart food search work?</summary>
        <p class="faq-answer">When you search for food items like "pizza," "sushi," or "steakhouse," the search automatically filters out port pages and prioritizes restaurants. This prevents irrelevant matches (like Naples appearing for pizza searches). To include ports in your results, add a location term like "pizza Italy" or "seafood Caribbean." The search recognizes cuisine types (Italian, Mexican, Asian), meal types (breakfast, buffet), dining terms (restaurant, menu), and Royal Caribbean venue names (Chops, Izumi, Wonderland, Giovanni's).</p>
      </details>

      <details class="faq-item">
        <summary>How can I get more help?</summary>
        <p class="faq-answer">For additional assistance, contact your cruise line directly or work with a travel advisor who specializes in cruises.</p>
      </details>
    </section>

    <!-- Recent Articles rail -->
    <section class="card" aria-labelledby="recent-rail-title">
      <h3 id="recent-rail-title">Recent Stories</h3>
      <p class="tiny content-text mb-1">
        Real cruising experiences, practical guides, and heartfelt reflections from our community. Explore stories that inform, inspire, and connect.
      </p>
      <div id="recent-rail" class="rail-list" aria-live="polite"></div>
      <p id="recent-rail-fallback" class="tiny hidden">Loading articles…</p>
    </section>

</main>

  <!-- FOOTER -->
    <footer class="wrap" role="contentinfo">
    <p>© 2025 In the Wake · A Cruise Traveler's Logbook · All rights reserved. <span class="tiny version-badge" aria-label="Site version V1.Beta">V1.Beta</span></p>
    <p class="tiny mt-05">
      <a href="/privacy.html">Privacy</a> ·
      <a href="/terms.html">Terms</a> ·
      <a href="/about-us.html">About</a> ·
      <a href="/accessibility.html">Accessibility &amp; WCAG 2.1 AA Commitment</a>
    </p>
    <p class="tiny center visually-hidden" aria-hidden="true">Soli Deo Gloria — Every pixel and part of this project is offered as worship to God, in gratitude for the beautiful things He has created for us to enjoy. ✝️</p>
  </footer>

  <script src="/assets/js/search.js"></script>
  <script>
  (function(){"use strict";
    /* ===== Dropdown Menu with 300ms Hover Delay ===== */
    const dropdownGroups = Array.from(document.querySelectorAll('.nav-group'));
    if (dropdownGroups.length) {
      const hoverTimeouts = new Map();
      const HOVER_DELAY = 300;

      function setOpen(group, isOpen) {
        group.dataset.open = isOpen ? "true" : "false";
        const button = group.querySelector('
      }

      function closeAllExcept(exceptGroup) {
        dropdownGroups.forEach(g => {
          if (g !== exceptGroup) {
            clearTimeout(hoverTimeouts.get(g));
            hoverTimeouts.delete(g);
            setOpen(g, false);
          }
        });
      }

      dropdownGroups.forEach(group => {
        group.addEventListener('mouseenter', () => {
          clearTimeout(hoverTimeouts.get(group));
          hoverTimeouts.set(group, setTimeout(() => {
            closeAllExcept(group);
            setOpen(group, true);
          }, HOVER_DELAY));
        });

        group.addEventListener('mouseleave', () => {
          clearTimeout(hoverTimeouts.get(group));
          hoverTimeouts.set(group, setTimeout(() => {
            setOpen(group, false);
          }, HOVER_DELAY));
        });

        const button = group.querySelector(');
        }
      });

      document.addEventListener('click', (e) => {
        if (!e.target.closest('.nav-group')) {
          dropdownGroups.forEach(g => setOpen(g, false));
        }
      });
    }
  })();

  // Handle URL query parameter
  const urlParams = new URLSearchParams(window.location.search);
  const q = urlParams.get('q');
  if (q) {
    document.getElementById('searchInput').value = q;
    // Wait for search index to load
    setTimeout(() => doSearch(q), 100);
  }
  </script>
  <script>
  (function(){
    "use strict";

    /* ===== Recent Articles Rail ===== */
    (async function recentRail(){
      const rail = document.getElementById('recent-rail');
      if(!rail) return;

      const fallback = document.getElementById('recent-rail-fallback');
      if(fallback) fallback.style.display = '';

      async function fetchJSONWithFallback(urls){
        for (const u of urls){
          try{
            const res = await fetch(u, { credentials: 'omit', cache: 'no-cache' });
            if (res.ok) return await res.json();
          }catch(err){

          }
        }
        return null;
      }

      const pick = (obj, keys, fallback=null)=>{ for(const k of keys){ if(obj && obj[k] != null) return obj[k]; } return fallback; };

      function setImageWithFallback(imgEl, primary, altPaths=[]){
        if(!imgEl) return;
        const stamp='v=3.010.300';
        const tried=new Set();
        const queue=[primary,...altPaths].filter(Boolean).map(p => p.includes('?')?p+'&'+stamp:p+'?'+stamp);
        function tryNext(){
          const next=queue.shift();
          if(!next){ imgEl.removeAttribute && imgEl.removeAttribute('onerror'); return; }
          if(tried.has(next)) return tryNext();
          tried.add(next);
          imgEl.src=next;
        }
        imgEl.onerror=tryNext;
        tryNext();
      }

      const raw = await fetchJSONWithFallback(['/assets/data/articles/index.json','/assets/data/articles.json']);
      if(!raw) {
        if(fallback) {
          fallback.textContent = 'Unable to load articles';
          fallback.style.display = '';
        }
        return;
      }

      const items = Array.isArray(raw?.articles) ? raw.articles : (Array.isArray(raw) ? raw : []);
      if(!items.length) return;

      const here = location.pathname.replace(/\/+$/,'');
      const view = items.filter(p=>{
        const href = pick(p,['url','path'],'#');
        const norm = (href||'').replace(/\/+$/,'');
        return norm && norm !== here;
      }).slice(0,6);

      rail.innerHTML = view.map(p=>{
        const title = pick(p,['title','name'],'Article');
        const href  = pick(p,['url','path'],'#');
        const excerpt = pick(p,['excerpt','description'],'');
        return `
          <article class="card article-card">
            <div class="article-card-grid">
              <div class="article-thumb-wrap">
                <img class="article-thumb" alt="" decoding="async" loading="lazy">
              </div>
              <div class="article-card-body">
                <h4><a href="\${href}">\${title}</a></h4>
                \${excerpt ? `<p class="tiny excerpt">\${excerpt}</p>` : ''}
              </div>
            </div>
            <a href="\${href}" class="pill read-more">Read Article →</a>
          </article>`;
      }).join('');

      const cards = [...rail.querySelectorAll('article.card')];
      cards.forEach((card,i)=>{
        const p = view[i] || {};
        const el = card.querySelector('img.article-thumb');
        const href  = (pick(p,['url','path'],'')||'').toLowerCase();
        const title = (pick(p,['title','name'],'')||'').toLowerCase();

        let primary = pick(p, ['thumb','thumbnail','image','cover','img'], null);

        // FORCE override for Top-20
        if (/(top-20|first-?cruise-?questions)/.test(href) || /top\s*20.*first.*cruise.*questions/.test(title)){
          primary = '/assets/articles/thumbs/top-20-questions/cover.webp';
        }
        // Friendly specifics
        if(!primary && (/freedom-of-your-own-wake/.test(href) || /freedom of your own wake/.test(title))){
          primary = '/assets/articles/thumbs/freedom-of-your-own-wake.webp';
        }
        if(!primary && (/why-i-started-solo-cruising/.test(href) || /why i started solo cruising/.test(title))){
          primary = '/assets/articles/thumbs/why-i-started-solo-cruising.webp';
        }
        if(!primary && (/\/travel(\.html)?$/.test(href) || /\btravel\b/.test(title))){
          primary = '/assets/articles/travel/cover.jpg';
        }

        // Heuristic fallback
        if(!primary){
          const slugify = s => (s||'').toLowerCase().replace(/https?:\/\/[^/]+/,'').replace(/[#?].*$/,'').split('/').filter(Boolean).pop()||'';
          const guess = slugify(href) || slugify(title);
          if(guess) primary = `/assets/articles/\${guess}/cover.jpg`;
        }

        const alts = [];
        if(primary){
          const base = primary.replace(/\.(jpg|jpeg|png|webp)$/i,'');
          alts.push(`\${base}.jpeg`, `\${base}.JPG`, `\${base}.webp`, `\${base}.png`);
        }
        setImageWithFallback(el, primary || '/assets/index_hero.webp', alts);
      });

      if(fallback) fallback.style.display = 'none';

      // Announce to screen readers
      const status = document.getElementById('a11y-status');
      if(status) {
        status.textContent = `\${view.length} recent articles loaded`;
      }
    })();
  })();
  </script>

<script src="/assets/js/dropdown.js"></script>

  <!-- In-App Browser Detection & Escape Banner -->
  <script src="/assets/js/in-app-browser-escape.js"></script>
</body>
</html>
