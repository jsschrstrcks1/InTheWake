<!doctype html>
<html lang="en">
<head>
  <!-- ======================================================
       In the Wake — Search
       Version: 3.010.300  |  Soli Deo Gloria

       Dynamic instant search across all site content
       ====================================================== -->

  <!-- Core -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="referrer" content="no-referrer-when-downgrade"/>

  <!-- SEO: Robots -->
  <meta name="robots" content="index,follow"/>
  <meta name="googlebot" content="index,follow"/>

  <!-- SEO: Theme -->
  <meta name="color-scheme" content="light"/>
  <meta name="theme-color" content="#0e6e8e"/>
  <meta name="author" content="In the Wake"/>

  <!-- ICP-Lite v1.4 -->
  <meta name="ai-summary" content="Search In the Wake for ships, restaurants, articles, cruise lines, and planning tools. Instant results as you type with fuzzy matching."/>
  <meta name="last-reviewed" content="2025-11-19"/>
  <meta name="content-protocol" content="ICP-Lite v1.4"/>

  <!-- Title & SEO -->
  <title>Search | In the Wake</title>
  <meta name="description" content="Search In the Wake for ships, restaurants, articles, cruise lines, and planning tools. Find exactly what you need for your cruise."/>
  <link rel="canonical" href="https://cruisinginthewake.com/search.html"/>

  <!-- OpenGraph -->
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:title" content="Search | In the Wake"/>
  <meta property="og:description" content="Search for ships, restaurants, articles, and cruise planning tools."/>
  <meta property="og:url" content="https://cruisinginthewake.com/search.html"/>

  <!-- Twitter -->
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:title" content="Search | In the Wake"/>
  <meta name="twitter:description" content="Search for ships, restaurants, articles, and cruise planning tools."/>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/in_the_wake_icon_32x32.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png"/>

  <!-- Fuse.js for fuzzy search -->
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>

  <!-- JSON-LD: WebPage (ICP-Lite) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Search",
    "url": "https://cruisinginthewake.com/search.html",
    "description": "Search In the Wake for ships, restaurants, articles, cruise lines, and planning tools. Instant results as you type with fuzzy matching.",
    "dateModified": "2025-11-19"
  }
  </script>  <link rel="stylesheet" href="/assets/styles.css?v=3.010.300"/>
  <!-- JSON-LD: FAQPage (ICP-Lite) -->
  <script type="application/ld+json">
  {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What information does this page provide?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "This page provides planning resources and information about search."
      }
    },
    {
      "@type": "Question",
      "name": "Is this information official?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "This page provides community insights. Always confirm with your cruise line before making decisions."
      }
    }
  ]
}
  </script>

  <!-- LCP Optimization: Preload critical hero images -->
  <link rel="preload" as="image" href="/assets/logo_wake_560.png" fetchpriority="high"/>
  <link rel="preload" as="image" href="/assets/compass_rose.svg?v=3.010.300" fetchpriority="high"/>
  <!-- Service Worker Registration -->
  <script>
  if('serviceWorker' in navigator){
    window.addEventListener('load',()=>navigator.serviceWorker.register('/sw.js').catch(()=>{}));
  }
  </script>

</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <!-- ARIA Live Regions -->
  <div id="a11y-status" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>
  <div id="a11y-alerts" role="alert" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

  <!-- HEADER -->
  <header class="hero-header" role="banner">
    <div class="navbar">
      <div class="brand">
        <a href="/">
          <img src="/assets/logo_wake_256.png" srcset="/assets/logo_wake_256.png 1x, /assets/logo_wake_512.png 2x" width="256" height="259" alt="In the Wake wordmark" decoding="async"/>
        </a>
        <span class="tiny version-badge" aria-label="Site version V1.Beta">V1.Beta</span>
      </div>
            <nav class="site-nav" aria-label="Main site navigation">
        <a class="nav-pill" href="/">Home</a>

        <!-- Planning Dropdown -->
        <div class="nav-dropdown" id="nav-planning">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Planning <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/planning.html">Planning (overview)</a>
            <a href="/ships.html">Ships</a>
            <a href="/restaurants.html">Restaurants &amp; Menus</a>
            <a href="/ports.html">Ports</a>
            <a href="/drink-packages.html">Drink Packages</a>
            <a href="/drink-calculator.html">Drink Calculator</a>
            <a href="/stateroom-check.html">Stateroom Check</a>
            <a href="/cruise-lines.html">Cruise Lines</a>
            <a href="/packing-lists.html">Packing Lists</a>
            <a href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <!-- Travel Dropdown -->
        <div class="nav-dropdown" id="nav-travel">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Travel <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/travel.html">Travel (overview)</a>
            <a href="/solo.html">Solo</a>
          </div>
        </div>

        <a class="nav-pill" href="/tools/port-tracker.html">Port Logbook</a>
        <a class="nav-pill" href="/tools/ship-tracker.html">Ship Logbook</a>
        <a class="nav-pill" href="/search.html">Search</a>
        <a class="nav-pill" href="/about-us.html">About</a>
      </nav></div>

    <div class="hero" role="img" aria-label="Ship wake at sunrise">
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.010.300" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake_560.png" srcset="/assets/logo_wake_560.png 1x, /assets/logo_wake_1120.png 2x" alt="In the Wake" decoding="async" fetchpriority="high" width="560" height="567"/>
      </div>
      <div class="tagline" aria-hidden="true">A Cruise Traveler's Logbook</div>
      <div class="hero-credit">
        <a class="pill" href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Photo © Flickers of Majesty</a>
      </div>
    </div></header>

  <!-- MAIN -->
  <main id="main-content" class="wrap" role="main">
    <!-- ICP-Lite Content Structure -->
    <section class="page-intro col-full">
      <p class="answer-line">
        <strong>Quick Answer:</strong> Search across ships, restaurants, ports, articles, and planning tools. Results appear instantly as you type.
      </p>

      <p class="content-text">
        <strong>Best For:</strong> Finding specific cruise content, comparing ships, locating restaurants, and discovering planning resources.
      </p>

      <div class="callout-box">
        <h3 class="mt-0 mb-05">Key Facts</h3>
        <ul class="list-indent">
          <li><strong>274+ searchable pages</strong> across ships, ports, restaurants</li>
          <li><strong>Fuzzy matching</strong> finds results even with typos</li>
          <li><strong>Smart filtering</strong> prioritizes relevant categories</li>
        </ul>
      </div>
    </section>

    <h1>Search In the Wake</h1>
    <p class="search-intro">Find ships, restaurants, articles, cruise lines, and planning tools. Results appear as you type.</p>

    <div class="search-container">
      <input
        type="search"
        id="searchInput"
        class="search-input"
        placeholder="Type to search... (e.g., chops, radiance, solo, drink)"
        autocomplete="off"
        autofocus
        aria-label="Search the site"
      />
      <div id="searchStatus" class="search-status" aria-live="polite"></div>
    </div>

    <div id="resultsContainer">
      <!-- Initial state with popular searches -->
      <div class="initial-state" id="initialState">
        <p>Start typing to search across 274 pages including ships, restaurants, articles, and tools.</p>
        <div class="popular-searches">
          <h3>Popular Searches</h3>
          <div class="popular-tags">
            <button class="popular-tag" onclick="doSearch('chops')"><a href="/restaurants/chops.html">Chops Grille</a></button>
            <button class="popular-tag" onclick="doSearch('icon')"><a href="/ships/rcl/icon-of-the-seas.html">Icon of the Seas</a></button>
            <button class="popular-tag" onclick="doSearch('solo')"><a href="/solo/solo-cruisers-companion.html">Solo Cruising</a> (see also <a href="/solo/why-i-started-solo-cruising.html">Tina's story</a>)</button>
            <button class="popular-tag" onclick="doSearch('drink')"><a href="/drink-calculator.html">Drink Calculator</a></button>
            <button class="popular-tag" onclick="doSearch('sushi')">Sushi</button>
            <button class="popular-tag" onclick="doSearch('grief')">Cruising After Loss</button>
            <button class="popular-tag" onclick="doSearch('wheelchair')"><a href="/accessibility.html">Accessibility</a></button>
          </div>
        </div>
      </div>
    </div>
  
    <!-- ICP-Lite FAQ Section -->
    <section class="card mt-15" id="faq" aria-labelledby="faq-heading">
      <h2 id="faq-heading">Frequently Asked Questions</h2>

      <details class="faq-item">
        <summary>What can I search for?</summary>
        <p class="faq-answer">Search across ships, restaurants, ports, articles, planning tools, and more. The search uses fuzzy matching so it works even with typos.</p>
      </details>

      <details class="faq-item">
        <summary>How does smart food search work?</summary>
        <p class="faq-answer">When you search for food items like "pizza," "sushi," or "steakhouse," the search automatically filters out port pages and prioritizes restaurants. This prevents irrelevant matches (like Naples appearing for pizza searches). To include ports in your results, add a location term like "pizza Italy" or "seafood Caribbean." The search recognizes cuisine types (Italian, Mexican, Asian), meal types (breakfast, buffet), dining terms (restaurant, menu), and Royal Caribbean venue names (Chops, Izumi, Wonderland, Giovanni's).</p>
      </details>

      <details class="faq-item">
        <summary>How can I get more help?</summary>
        <p class="faq-answer">For additional assistance, contact your cruise line directly or work with a travel advisor who specializes in cruises.</p>
      </details>
    </section>

    <!-- Recent Articles rail -->
    <section class="card" aria-labelledby="recent-rail-title">
      <h3 id="recent-rail-title">Recent Stories</h3>
      <p class="tiny content-text" style="margin-bottom: 0.75rem;">
        Real cruising experiences, practical guides, and heartfelt reflections from our community.
      </p>
      <nav id="recent-rail-nav-top" class="rail-nav" aria-label="Article pagination" style="display:none; margin-bottom: 0.5rem;"></nav>
      <div id="recent-rail" class="rail-list" aria-live="polite"></div>
      <nav id="recent-rail-nav-bottom" class="rail-nav" aria-label="Article pagination" style="display:none; margin-top: 0.75rem;"></nav>
      <p id="recent-rail-fallback" class="tiny" style="color: #666;">Loading articles…</p>
    </section>

    <!-- Authors rail -->
    <section class="card" aria-labelledby="authors-rail-title">
      <h3 id="authors-rail-title">Our Authors</h3>
      <p class="tiny content-text" style="margin-bottom: 0.75rem;">
        The voices behind In the Wake — cruisers, storytellers, and fellow travelers.
      </p>
      <div id="authors-rail" class="rail-list" aria-live="polite"></div>
    </section>

</main>

  <!-- FOOTER -->
    <footer class="wrap" role="contentinfo">
    <p>© 2025 In the Wake · A Cruise Traveler's Logbook · All rights reserved. <span class="tiny version-badge" aria-label="Site version V1.Beta">V1.Beta</span></p>
    <p class="tiny mt-05">
      <a href="/privacy.html">Privacy</a> ·
      <a href="/terms.html">Terms</a> ·
      <a href="/about-us.html">About</a> ·
      <a href="/accessibility.html">Accessibility &amp; WCAG 2.1 AA Commitment</a>
    </p>
    <p class="tiny center visually-hidden" aria-hidden="true">Soli Deo Gloria — Every pixel and part of this project is offered as worship to God, in gratitude for the beautiful things He has created for us to enjoy. ✝️</p>
  </footer>

  <script src="/assets/js/search.js"></script>
  <script>
  (function(){"use strict";
    /* ===== Dropdown Menu with 300ms Hover Delay ===== */
    const dropdownGroups = Array.from(document.querySelectorAll('.nav-group'));
    if (dropdownGroups.length) {
      const hoverTimeouts = new Map();
      const HOVER_DELAY = 300;

      function setOpen(group, isOpen) {
        group.dataset.open = isOpen ? "true" : "false";
        const button = group.querySelector('
      }

      function closeAllExcept(exceptGroup) {
        dropdownGroups.forEach(g => {
          if (g !== exceptGroup) {
            clearTimeout(hoverTimeouts.get(g));
            hoverTimeouts.delete(g);
            setOpen(g, false);
          }
        });
      }

      dropdownGroups.forEach(group => {
        group.addEventListener('mouseenter', () => {
          clearTimeout(hoverTimeouts.get(group));
          hoverTimeouts.set(group, setTimeout(() => {
            closeAllExcept(group);
            setOpen(group, true);
          }, HOVER_DELAY));
        });

        group.addEventListener('mouseleave', () => {
          clearTimeout(hoverTimeouts.get(group));
          hoverTimeouts.set(group, setTimeout(() => {
            setOpen(group, false);
          }, HOVER_DELAY));
        });

        const button = group.querySelector(');
        }
      });

      document.addEventListener('click', (e) => {
        if (!e.target.closest('.nav-group')) {
          dropdownGroups.forEach(g => setOpen(g, false));
        }
      });
    }
  })();

  // Handle URL query parameter
  const urlParams = new URLSearchParams(window.location.search);
  const q = urlParams.get('q');
  if (q) {
    document.getElementById('searchInput').value = q;
    // Wait for search index to load
    setTimeout(() => doSearch(q), 100);
  }
  </script>
  <!-- Article & Author Loader -->
  <script>
  (function(){
    const ARTICLES_PER_PAGE = 6;
    let allArticles = [];
    let currentPage = 0;

    async function loadArticles(){
      fetch('/assets/data/articles/index.json')
        .then(r => r.ok ? r.json() : Promise.reject('Failed to load'))
        .then(data => {
          allArticles = (data.articles || [])
            .filter(a => a.status === 'published')
            .sort((a, b) => new Date(b.published) - new Date(a.published));
          renderPage(0);
        })
        .catch(() => {
          document.getElementById('recent-rail-fallback').textContent = 'Unable to load articles.';
        });
    }

    function renderPage(page){
      currentPage = page;
      const start = page * ARTICLES_PER_PAGE;
      const pageArticles = allArticles.slice(start, start + ARTICLES_PER_PAGE);
      const totalPages = Math.ceil(allArticles.length / ARTICLES_PER_PAGE);

      const container = document.getElementById('recent-rail');
      const fallback = document.getElementById('recent-rail-fallback');
      const navTop = document.getElementById('recent-rail-nav-top');
      const navBottom = document.getElementById('recent-rail-nav-bottom');

      if(!pageArticles.length){
        fallback.textContent = 'No articles available.';
        return;
      }
      fallback.style.display = 'none';

      container.innerHTML = pageArticles.map(a => {
        const thumb = a.thumbnail || '/assets/img/default-thumb.jpg';
        const authorName = a.author?.name || 'Unknown';
        const href = '/solo/' + a.slug + '.html';
        return '<a href="' + href + '" class="rail-item" style="display:flex;gap:0.75rem;align-items:center;padding:0.5rem 0;border-bottom:1px solid #e0e8f0;text-decoration:none;color:inherit;">' +
          '<img src="' + thumb + '" alt="" width="56" height="56" style="border-radius:8px;object-fit:cover;flex-shrink:0;" loading="lazy"/>' +
          '<span style="display:flex;flex-direction:column;gap:0.15rem;min-width:0;">' +
            '<strong style="font-size:0.92rem;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;">' + a.title + '</strong>' +
            '<span class="tiny" style="color:#5a7a8a;">by ' + authorName + '</span>' +
          '</span></a>';
      }).join('');

      // Render pagination
      if(totalPages > 1){
        const navHTML = '<div style="display:flex;justify-content:space-between;align-items:center;">' +
          '<button onclick="window.__articlesNav(' + (page - 1) + ')" ' + (page === 0 ? 'disabled style="opacity:0.4;cursor:default;"' : '') + ' style="background:#0e6e8e;color:#fff;border:none;padding:0.4rem 0.8rem;border-radius:6px;font-size:0.85rem;cursor:pointer;">← Newer</button>' +
          '<span class="tiny" style="color:#5a7a8a;">' + (page + 1) + ' / ' + totalPages + '</span>' +
          '<button onclick="window.__articlesNav(' + (page + 1) + ')" ' + (page >= totalPages - 1 ? 'disabled style="opacity:0.4;cursor:default;"' : '') + ' style="background:#0e6e8e;color:#fff;border:none;padding:0.4rem 0.8rem;border-radius:6px;font-size:0.85rem;cursor:pointer;">Older →</button>' +
        '</div>';
        navTop.innerHTML = navHTML;
        navBottom.innerHTML = navHTML;
        navTop.style.display = 'block';
        navBottom.style.display = 'block';
      }
    }

    window.__articlesNav = renderPage;

    function loadAuthors(){
      fetch('/data/authors.json')
        .then(r => r.ok ? r.json() : Promise.reject('Failed'))
        .then(data => {
          const authors = data.authors || [];
          const container = document.getElementById('authors-rail');
          if(!authors.length) return;
          container.innerHTML = authors.map(a => {
            const img = a.avatar || '/assets/img/default-avatar.jpg';
            return '<a href="' + a.url + '" class="rail-item" style="display:flex;gap:0.75rem;align-items:center;padding:0.5rem 0;border-bottom:1px solid #e0e8f0;text-decoration:none;color:inherit;">' +
              '<img src="' + img + '" alt="" width="48" height="48" style="border-radius:50%;object-fit:cover;flex-shrink:0;" loading="lazy"/>' +
              '<span style="display:flex;flex-direction:column;gap:0.1rem;">' +
                '<strong style="font-size:0.92rem;">' + a.name + '</strong>' +
                '<span class="tiny" style="color:#5a7a8a;">' + (a.role || 'Contributor') + '</span>' +
              '</span></a>';
          }).join('');
        })
        .catch(() => {});
    }

    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', () => { loadArticles(); loadAuthors(); });
    } else {
      loadArticles(); loadAuthors();
    }
  })();
  </script>

<script src="/assets/js/dropdown.js"></script>

  <!-- In-App Browser Detection & Escape Banner -->
  <script src="/assets/js/in-app-browser-escape.js"></script>
</body>
</html>
