<!--
Soli Deo Gloria
All work on this project is offered as a gift to God.
"Trust in the LORD with all your heart..." — Proverbs 3:5
"Whatever you do, work heartily..." — Colossians 3:23
-->
<!-- ai-breadcrumbs
     entity: Costa Maya
     type: Port Information Page
     parent: /ports.html
     category: Caribbean Ports
     cruise-line: Royal Caribbean
     updated: 2025-11-29
-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="ai-summary" content="First-person logbook guide to Costa Maya, Mexico with tips for Mahahual beach town, Maya Chan snorkeling on the Mesoamerican Reef, and the authentic Chacchoben Mayan ruins."/>
  <meta name="last-reviewed" content="2025-11-29"/>
  <meta name="content-protocol" content="ICP-Lite v1.0"/>
  <title>Costa Maya Port Guide — Mahahual Beach & Chacchoben Ruins | In the Wake</title>
  <meta name="description" content="First-person logbook guide to Costa Maya — Mahahual beach town, Maya Chan snorkeling on the Mesoamerican Reef, and authentic Chacchoben Mayan ruins in Mexico's Quintana Roo."/>
  <link rel="canonical" href="https://cruisinginthewake.com/ports/costa-maya.html"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/in_the_wake_icon_32x32.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png"/>
  <link rel="manifest" href="/manifest.webmanifest"/>

  <!-- Service Worker Registration -->
  <script>
  if('serviceWorker' in navigator){
    window.addEventListener('load',()=>navigator.serviceWorker.register('/sw.js').catch(()=>{}));
  }
  </script>

  <link rel="stylesheet" href="/assets/styles.css?v=3.010.305"/>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://cruisinginthewake.com/"},
      {"@type": "ListItem", "position": 2, "name": "Ports", "item": "https://cruisinginthewake.com/ports.html"},
      {"@type": "ListItem", "position": 3, "name": "Costa Maya", "item": "https://cruisinginthewake.com/ports/costa-maya.html"}
    ]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Is Costa Maya worth visiting on a cruise?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Absolutely! Costa Maya offers world-class snorkeling on the Mesoamerican Reef, the authentic Chacchoben Mayan ruins, and the charming beach town of Mahahual. It's less crowded than Cozumel and offers better value with a more authentic Mexican experience."
        }
      },
      {
        "@type": "Question",
        "name": "Should I stay at the cruise port or go to Mahahual?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Go to Mahahual! The cruise port is purpose-built with pools and shops, but the real Costa Maya experience is in Mahahual — a 10-minute taxi ride south with authentic beach bars, incredible ceviche, and beautiful swimming beaches."
        }
      },
      {
        "@type": "Question",
        "name": "How long does the Chacchoben ruins tour take?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Plan for about 4-4.5 hours round trip, including approximately 45 minutes of travel each way and 1.5-2 hours exploring the ruins. It's a full morning or afternoon excursion."
        }
      },
      {
        "@type": "Question",
        "name": "Can you walk from the Costa Maya cruise port to the beach?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The port has its own beach area, but the better beaches in Mahahual require a short taxi ride (about 10 minutes, very affordable). The walk would be about 30-40 minutes in tropical heat — not recommended."
        }
      }
    ]
  }
  </script>
  <!-- LCP Optimization: Preload critical hero images -->
  <link rel="preload" as="image" href="/ports/img/costamaya/port-signpost.webp" fetchpriority="high"/>
  <link rel="preload" as="image" href="/assets/logo_wake_560.png" fetchpriority="high"/>
</head>
<body class="page">
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <div id="a11y-status" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>
  <div id="a11y-alerts" role="alert" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

  <header class="hero-header" role="banner">
    <div class="navbar">
      <div class="brand">
        <img src="/assets/logo_wake_256.png" srcset="/assets/logo_wake_256.png 1x, /assets/logo_wake_512.png 2x" width="256" height="259" alt="In the Wake wordmark" decoding="async"/>
        <span class="tiny version-badge" aria-label="Site version 3.010.305">v3.010.305</span>
      </div>
      <nav class="site-nav" aria-label="Main site navigation">
        <a class="nav-pill" href="/">Home</a>
        <div class="nav-dropdown" id="nav-planning">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Planning <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/planning.html">Planning (overview)</a>
            <a href="/ships.html">Ships</a>
            <a href="/restaurants.html">Restaurants &amp; Menus</a>
            <a href="/ports.html">Ports</a>
            <a href="/drink-packages.html">Drink Packages</a>
            <a href="/drink-calculator.html">Drink Calculator</a>
            <a href="/stateroom-check.html">Stateroom Check</a>
            <a href="/cruise-lines.html">Cruise Lines</a>
            <a href="/packing-lists.html">Packing Lists</a>
            <a href="/accessibility.html">Accessibility</a>
          </div>
        </div>
        <div class="nav-dropdown" id="nav-travel">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Travel <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/travel.html">Travel (overview)</a>
            <a href="/solo.html">Solo</a>
          </div>
        </div>
        <a class="nav-pill" href="/tools/port-tracker.html">Port Logbook</a>
        <a class="nav-pill" href="/tools/ship-tracker.html">Ship Logbook</a>
        <a class="nav-pill" href="/search.html">Search</a>
        <a class="nav-pill" href="/about-us.html">About</a>
      </nav>
    </div>
    <div class="hero">
      <img class="hero-compass" src="/assets/brand/compassrose.png" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake_560.png" srcset="/assets/logo_wake_560.png 1x, /assets/logo_wake_1120.png 2x" alt="In the Wake" decoding="async" fetchpriority="high" width="560" height="567"/>
      </div>
      <div class="tagline" aria-hidden="true">A Cruise Traveler's Logbook</div>
    </div>
  </header>

  <main class="wrap page-grid" id="main-content" role="main">
    <nav aria-label="Breadcrumb" style="grid-column: 1 / -1; margin-bottom: 1rem;">
      <ol style="list-style: none; padding: 0; margin: 0; font-size: 0.9rem; color: #666;">
        <li style="display: inline;"><a href="/">Home</a> &rsaquo; </li>
        <li style="display: inline;"><a href="/ports.html">Ports</a> &rsaquo; </li>
        <li style="display: inline;" aria-current="page">Costa Maya</li>
      </ol>
    </nav>

    <div style="grid-column: 1; grid-row: 1;">
      <div class="port-hero">
        <img src="/ports/img/costamaya/port-signpost.webp" alt="Costa Maya port signpost with colorful direction signs pointing to Miami, Cuba, Roatan, Belize, and other Caribbean destinations" loading="eager"/>
        <div class="port-hero-overlay">
          <h1 class="port-hero-title">Costa Maya</h1>
        </div>
      </div>

      <article class="card">
        <h2>Costa Maya: My Mayan Riviera Escape</h2>

        <p class="answer-line" style="margin: 0.75rem 0 1.5rem; padding: 0.5rem 0.75rem; border-left: 3px solid var(--rope, #d9b382); background: #f7fdff; border-radius: 8px;">
          <strong>Quick Answer:</strong> Costa Maya is the perfect "Mayan Riviera meets chill beach town" day — crystal-clear snorkeling on the Mesoamerican Reef, authentic (less-touristy) ruins at Chacchoben, and the laid-back fishing village of Mahahual make it one of my absolute favorite Mexico stops.
        </p>

        <div class="logbook-entry">
          <p>We woke up to turquoise water so bright it looked Photoshopped. The ship docks at a purpose-built cruise village on the southern coast of Mexico's Quintana Roo state — far from the tourist madness of Cancun and even calmer than Cozumel. This is the "other" Mexican Riviera, and it's become one of my favorite Western Caribbean stops.</p>

          <div class="clearfix">
            <img class="inline-image" src="/ports/img/costamaya/harp-musician.webp" alt="Local harp musician in white traditional clothing playing on the Costa Maya pier with palm trees and turquoise water behind him" loading="lazy"/>
            <p>The cruise port itself is impressive in a Vegas-on-the-beach kind of way: swimming pools, artificial islands, a dolphin encounter, flamingos wandering the grounds, and more jewelry shops than you could visit in a week. What I love most about the welcome here is the music — you might find a traditional harpist in white guayabera playing jarocho melodies right on the pier, palm trees swaying behind him and that impossible turquoise water sparkling in the sun. It's the kind of authentic Mexican moment that reminds you this isn't just another port.</p>
          </div>

          <p>But here's the secret — <strong>skip the port complex</strong>. The real Costa Maya is a 10-minute taxi ride south in the fishing village of <strong>Mahahual</strong> (pronounced mah-hah-WAHL).</p>

          <div class="poignant-highlight">
            <strong>The Moment That Stays With Me:</strong> Floating face-down above a hawksbill turtle the size of a coffee table, watching it graze on seagrass in absolute silence — the only sound my own breath through the snorkel and the distant crunch-crunch of parrotfish biting coral. This was 50 feet from shore, no boat required, and it felt like I'd slipped into a nature documentary.
          </div>

          <p>The second we hopped in a shared taxi to Mahahual, the real Mexico appeared — colorful palapa restaurants lining a perfect strip of powdery sand, mariachi drifting on the breeze, and barely another cruiser in sight. This is a working fishing village that happens to have one of the healthiest sections of the <strong>Mesoamerican Barrier Reef</strong> right offshore.</p>

          <p>We spent the morning snorkeling at <strong>Maya Chan</strong>, one of several beach clubs that offer all-inclusive packages. Within five minutes of wading in, I was floating above brain coral the size of dining tables, schools of electric-blue tangs, and a curious 3-foot barracuda that shadowed us like a bodyguard. The reef here is stupidly healthy — purple sea fans waving like flags, giant parrotfish crunching coral with audible bites, and visibility that stretched 80+ feet on a calm day.</p>

          <div class="clearfix">
            <img class="inline-image-left" src="/ports/img/costamaya/krazy-lobster.webp" alt="The Krazy Lobster Restaurant Bar and Grill sign in Mahahual with a cartoon lobster mascot welcoming visitors" loading="lazy"/>
            <p>Lunch in Mahahual is where the magic happens. Skip the cruise port restaurants and head to local spots like <strong>The Krazy Lobster</strong> — a no-frills beach bar that serves some of the best lobster I've had in the Caribbean. The hand-painted sign says "Bienvenidos Welcome" and they mean it — sit down and they'll bring you a free margarita just for showing up. A travel companion once told me that most port margaritas taste like salt and sadness, but the Krazy Lobster's is the one worth going back for. Order the whole grilled lobster with garlic butter, or try the freshest <strong>ceviche</strong> of your life — grouper caught that morning, mixed with lime, cilantro, jalapeño, and enough habanero to make your lips tingle for an hour. Wash it down with ice-cold <strong>micheladas</strong> rimmed with tajín (that magical Mexican chili-lime salt). Then claim a palapa for the afternoon and do absolutely nothing except float, read, and watch pelicans dive-bomb the shallows.</p>
          </div>

          <p>On a different visit, we skipped the beach entirely and headed inland to <strong>Chacchoben</strong> (pronounced cha-CHO-ben), a Mayan archaeological site about 45 minutes away. Unlike the massive crowds at Tulum or Chichen Itza, Chacchoben feels like a secret. We climbed pyramids with howler monkeys roaring in the jungle canopy above us. The original red paint is still visible under the moss on Temple 24 — 1,400 years old and properly Indiana Jones. Our guide explained the astronomical alignments while spider monkeys swung through the trees overhead.</p>

          <p>The pros: way less crowded than Cozumel or Playa del Carmen, genuinely friendly locals, incredible food value, and snorkeling that rivals anywhere in the Caribbean. The cons: the cruise-port village itself is a soulless trap — avoid it and head straight to Mahahual.</p>
        </div>

        <section class="port-section">
          <h3>Getting Around Costa Maya</h3>
          <p>The port is purpose-built and walkable within the terminal area, but you'll need transport to reach the good stuff:</p>
          <ul>
            <li><strong>Mahahual:</strong> Shared taxis wait just outside the port exit. About $8–10 per person each way (10 minutes). Negotiate before getting in.</li>
            <li><strong>Golf Cart Rental:</strong> Super fun option — rent for the day and explore at your own pace. Available at the port.</li>
            <li><strong>Chacchoben Ruins:</strong> Book through the ship or arrange a taxi at the port. About 45 minutes each way, plan 4+ hours total.</li>
            <li><strong>Maya Chan Beach Club:</strong> They offer shuttle pickup from the port if you pre-book their all-inclusive package.</li>
          </ul>
        </section>

        <section class="port-section">
          <h3>Depth Soundings Ashore</h3>
          <p class="tiny" style="margin-bottom: 0.5rem; font-style: italic; color: #678;">Practical tips before you step off the ship.</p>
          <ul>
            <li><strong>Sun Intensity:</strong> Nuclear-strength tropical sun. Reapply sunscreen every time you get out of the water. Seriously.</li>
            <li><strong>Water Shoes:</strong> Sea urchins hide in the seagrass near shore. Reef-safe shoes are worth the suitcase space.</li>
            <li><strong>Currency:</strong> Mexican pesos are preferred but USD widely accepted. ATMs available at the port.</li>
            <li><strong>Reef-Safe Sunscreen:</strong> Required by Mexican law in many areas. The reef is protected — be a good visitor.</li>
            <li><strong>Hydration:</strong> Drink twice as much water as you think you need. The heat and sun are deceptively intense.</li>
            <li><strong>Bug Spray:</strong> If visiting Chacchoben, bring it. The jungle has mosquitoes.</li>
          </ul>
        </section>

        <section class="port-section">
          <h3>Frequently Asked Questions</h3>

          <p><strong>Q: Is Costa Maya worth visiting on a cruise?</strong><br/>
          A: 110% yes — one of the best Mexico ports I actually get excited for. Less crowded than Cozumel with better snorkeling and more authentic vibes.</p>

          <p><strong>Q: Should I stay at the cruise port or go to Mahahual?</strong><br/>
          A: Go to Mahahual! The port is fine for a drink by the pool, but the real experience — beach bars, incredible ceviche, snorkeling — is in the village.</p>

          <p><strong>Q: How long does the Chacchoben ruins tour take?</strong><br/>
          A: About 4–4.5 hours round-trip including transport. It's a full morning or afternoon excursion, but worth every minute.</p>

          <p><strong>Q: Can you walk from the cruise port to the beach?</strong><br/>
          A: Not really — Mahahual is about 10 minutes by taxi. Walking would take 30–40 minutes in tropical heat. Just grab a cab.</p>
        </section>

      </article>

      <!-- Port Images Gallery -->
      <div style="margin: 2rem 0;">
        <h3>More Costa Maya Moments</h3>
        <div class="gallery-grid">
          <figure class="gallery-item">
            <img src="/ports/img/costamaya/coastline.webp" alt="Costa Maya coastline with turquoise Caribbean water and white sand beach" loading="lazy"/>
            <figcaption>
              The stunning coastline that draws visitors to this quieter corner of Mexico
              <div class="photo-credit">Photo © <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a></div>
            </figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="/ports/img/costamaya/cruise-ship-mahahual.webp" alt="Cruise ship anchored near Mahahual beach with palm trees in foreground" loading="lazy"/>
            <figcaption>
              Your floating hotel waits while you explore Mahahual's treasures
              <div class="photo-credit">Photo © <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a></div>
            </figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="/ports/img/costamaya/dolphin-encounter.webp" alt="Dolphin encounter experience at Costa Maya cruise port" loading="lazy"/>
            <figcaption>
              The port's dolphin encounter is popular with families
              <div class="photo-credit">Photo © <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a></div>
            </figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="/ports/img/costamaya/fish-sculpture.webp" alt="Colorful fish sculpture art installation at Costa Maya port" loading="lazy"/>
            <figcaption>
              Whimsical art welcomes you to this Mexican Caribbean gem
              <div class="photo-credit">Photo © <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a></div>
            </figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="/ports/img/costamaya/jaguar-sculpture.webp" alt="Mayan jaguar sculpture at Costa Maya representing ancient heritage" loading="lazy"/>
            <figcaption>
              Jaguar sculptures honor the Mayan heritage of the region
              <div class="photo-credit">Photo © <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a></div>
            </figcaption>
          </figure>
        </div>
      </div>

      <p style="margin-top: 2rem;"><a href="/ports.html">&larr; Back to Ports Guide</a></p>
    </div>

    <aside class="rail" style="grid-column: 2;">
      <details class="card" open>
        <summary>At a Glance</summary>
        <div class="card-content">
          <div class="at-a-glance-grid">
            <div class="at-a-glance-item">
              <strong>Country</strong>
              <span>Mexico</span>
            </div>
            <div class="at-a-glance-item">
              <strong>Language</strong>
              <span>Spanish / English</span>
            </div>
            <div class="at-a-glance-item">
              <strong>Currency</strong>
              <span>MXN / USD</span>
            </div>
            <div class="at-a-glance-item">
              <strong>Port Type</strong>
              <span>Purpose-Built</span>
            </div>
            <div class="at-a-glance-item">
              <strong>Best For</strong>
              <span>Snorkeling, Ruins</span>
            </div>
            <div class="at-a-glance-item">
              <strong>Walking</strong>
              <span>Taxi to Mahahual</span>
            </div>
          </div>
        </div>
      </details>

      <details class="card" open>
        <summary>About the Author</summary>
        <div class="card-content author-card-vertical">
          <a href="/authors/ken-baker.html" aria-label="View Ken Baker's profile">
            <picture>
              <source srcset="/authors/img/ken1.webp?v=3.010.305" type="image/webp"/>
              <img class="author-avatar" src="/authors/img/ken1_96.webp" srcset="/authors/img/ken1_96.webp 1x, /authors/img/ken1_192.webp 2x" width="96" height="96" alt="Ken Baker" style="border-radius: 12px;" decoding="async" loading="lazy"/>
            </picture>
          </a>
          <h4><a href="/authors/ken-baker.html">Ken Baker</a></h4>
          <p class="tiny">Founder of In the Wake; writer and editor of the logbook.</p>
          <p class="tiny"><a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a></p>
        </div>
      </details>

      <details class="card" open>
        <summary>Nearby Ports</summary>
        <div class="card-content">
          <p class="tiny" style="margin-bottom: 0.75rem; color: var(--ink-mid, #3d5a6a); line-height: 1.5;">
            Other Caribbean ports near Costa Maya:
          </p>
          <div id="nearby-ports" class="rail-list" aria-live="polite"></div>
        </div>
      </details>

      <details class="card" open>
        <summary>Recent Stories</summary>
        <div class="card-content">
          <p class="tiny" style="margin-bottom: 1rem; color: var(--ink-mid, #3d5a6a); line-height: 1.5;">
            Real cruising experiences, practical guides, and heartfelt reflections from our community.
          </p>
          <div id="recent-rail" class="rail-list" aria-live="polite"></div>
          <p id="recent-rail-fallback" class="tiny" style="display:none">Loading articles…</p>
        </div>
      </details>
    
    <!-- Whimsical Distance Units -->
    <section class="card" id="whimsical-units-container" style="background:#f7fdff;border:1px solid #e0f0f5;border-radius:12px;padding:1.25rem;">
    </section>

  </aside>
  </main>

  <footer class="wrap" role="contentinfo">
    <p>© 2025 In the Wake · A Cruise Traveler's Logbook · All rights reserved.</p>
    <p class="tiny" style="margin-top: 0.5rem;">
      <a href="/privacy.html">Privacy</a> ·
      <a href="/terms.html">Terms</a> ·
      <a href="/about-us.html">About</a> ·
      <a href="/accessibility.html">Accessibility &amp; WCAG 2.1 AA Commitment</a>
    </p>
    <p class="tiny center" style="opacity:0;position:absolute;pointer-events:none;" aria-hidden="true">Soli Deo Gloria — Every pixel and part of this project is offered as worship to God, in gratitude for the beautiful things He has created for us to enjoy. ✝️</p>
  </footer>

  <script>
    /* Recent Articles Rail */
    (async function(){
      var rail = document.getElementById('recent-rail');
      if(!rail) return;
      try {
        var res = await fetch('/assets/data/articles/index.json');
        var articles = await res.json();
        if(articles && articles.length){
          rail.innerHTML = articles.slice(0,5).map(function(a){
            return '<div style="margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px solid #e0e8f0;"><h4 style="margin:0 0 .25rem;font-size:.95rem;"><a href="'+a.url+'">'+a.title+'</a></h4><p style="margin:0;font-size:.8rem;color:#666;">'+a.date+'</p></div>';
          }).join('');
        }
      } catch(e){}
    })();

    /* Nearby Ports Rail with Whimsical Units */
    (async function(){
      var rail = document.getElementById('nearby-ports');
      if(!rail) return;
      var currentPortId = 'costa-maya';
      var NM_TO_INCHES = 72913.385827;

      function haversineDistance(lat1, lon1, lat2, lon2) {
        var R = 3440.065;
        var dLat = (lat2 - lat1) * Math.PI / 180;
        var dLon = (lon2 - lon1) * Math.PI / 180;
        var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                Math.sin(dLon/2) * Math.sin(dLon/2);
        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
        return R * c;
      }

      function formatNumber(n) {
        if (n >= 1e9) return (n / 1e9).toFixed(1).replace(/\.0$/, '') + ' billion';
        if (n >= 1e6) return (n / 1e6).toFixed(1).replace(/\.0$/, '') + ' million';
        if (n >= 1e3) return Math.round(n).toLocaleString();
        return Math.round(n).toLocaleString();
      }

      function pickRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

      function getWhimsicalUnits(distNm, units) {
        var inches = distNm * NM_TO_INCHES;
        var byCategory = {};
        units.forEach(function(u) {
          if (!byCategory[u.category]) byCategory[u.category] = [];
          byCategory[u.category].push(u);
        });
        var reasonable = pickRandom(byCategory.massive || byCategory.large || []);
        var medium = pickRandom(byCategory.medium || []);
        var ridiculous = pickRandom(byCategory.tiny || []);
        var results = [];
        if (reasonable) {
          var count = inches / reasonable.approx_length_in_inches;
          results.push({ count: count, label: count === 1 ? reasonable.label_singular : reasonable.label_plural, note: reasonable.notes });
        }
        if (medium) {
          var count2 = inches / medium.approx_length_in_inches;
          results.push({ count: count2, label: count2 === 1 ? medium.label_singular : medium.label_plural, note: medium.notes });
        }
        if (ridiculous) {
          var count3 = inches / ridiculous.approx_length_in_inches;
          results.push({ count: count3, label: count3 === 1 ? ridiculous.label_singular : ridiculous.label_plural, note: ridiculous.notes });
        }
        return results;
      }

      try {
        var [portsRes, unitsRes] = await Promise.all([
          fetch('/assets/data/ports/ports-geo.json'),
          fetch('/assets/data/fun-distance-units.json')
        ]);
        var data = await portsRes.json();
        var unitsData = await unitsRes.json();
        var funUnits = unitsData.units || [];
        var currentPort = data.ports.find(function(p){ return p.id === currentPortId; });
        if(!currentPort) return;

        var nearby = data.ports
          .filter(function(p){ return p.id !== currentPortId; })
          .map(function(p){
            p.distance = haversineDistance(currentPort.lat, currentPort.lon, p.lat, p.lon);
            return p;
          })
          .sort(function(a,b){ return a.distance - b.distance; })
          .slice(0, 10);

        rail.innerHTML = nearby.map(function(p, idx){
          var distLabel = Math.round(p.distance) + ' nm';
          var whimsy = getWhimsicalUnits(p.distance, funUnits);
          var whimsyHtml = whimsy.length ? '<div class="whimsy-units" id="whimsy-'+idx+'" style="display:none;margin-top:0.5rem;padding:0.5rem;background:#f9fafb;border-radius:6px;font-size:0.75rem;color:#556;line-height:1.6;">' +
            '<span style="font-style:italic;color:#789;">That\'s roughly...</span><br>' +
            whimsy.map(function(w){ return '• <strong>' + formatNumber(w.count) + '</strong> ' + w.label; }).join('<br>') +
            '</div>' : '';
          return '<div style="border-bottom:1px solid #e0e8f0;">' +
            '<div class="port-row" data-whimsy="whimsy-'+idx+'" style="display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0;cursor:pointer;">' +
            '<a href="'+p.url+'" style="font-size:0.9rem;text-decoration:none;color:inherit;" onclick="event.stopPropagation();">'+p.name+'</a>' +
            '<span style="font-size:0.75rem;color:#678;display:flex;align-items:center;gap:4px;">'+distLabel+' <span style="font-size:0.6rem;opacity:0.6;">▼</span></span>' +
            '</div>' + whimsyHtml + '</div>';
        }).join('');

        rail.querySelectorAll('.port-row').forEach(function(row){
          row.addEventListener('click', function(e){
            if(e.target.tagName === 'A') return;
            var whimsyId = row.getAttribute('data-whimsy');
            var whimsyEl = document.getElementById(whimsyId);
            if(whimsyEl) whimsyEl.style.display = whimsyEl.style.display === 'none' ? 'block' : 'none';
          });
        });
      } catch(e){ console.log('Nearby ports error:', e); }
    })();
  </script>

  <!-- Navigation Dropdown Script -->
  <script src="/assets/js/dropdown.js"></script>

  <!-- Whimsical Distance Units Script -->
  <script src="/assets/js/whimsical-port-units.js"></script>

</body>
</html>
