<!--
Soli Deo Gloria
All work on this project is offered as a gift to God.
“Trust in the LORD with all your heart, and do not lean on your own understanding.” — Proverbs 3:5
“Whatever you do, work heartily, as for the Lord and not for men.” — Colossians 3:23
-->
<!doctype html>
<html lang="en">
<head>
  <!-- Core Meta -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="referrer" content="no-referrer">
  <meta name="theme-color" content="#0e6e8e">

  <!-- Version Trinity -->
  <title>Solo Travel — In the Wake (v3.008)</title>
  <meta name="page:version" content="v3.008">
  <meta name="standards:baseline" content="3.006">

  <!-- Canonical & Description -->
  <link rel="canonical" href="https://www.cruisinginthewake.com/solo.html"/>
  <meta name="description" content="Solo cruising tips, faith-scented reflections, and practical guides from real sailings.">
  <meta name="robots" content="index, follow"/>

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="In the Wake">
  <meta property="og:url" content="https://www.cruisinginthewake.com/solo.html">
  <meta property="og:title" content="Solo Travel — In the Wake">
  <meta property="og:description" content="Solo cruising tips, faith-scented reflections, and practical guides from real sailings.">
  <meta property="og:image" content="https://www.cruisinginthewake.com/assets/index_hero.jpg?v=3.008">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Schema.org: CollectionPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"CollectionPage",
    "name":"Solo Travel — In the Wake",
    "url":"https://www.cruisinginthewake.com/solo.html",
    "isPartOf":{"@type":"WebSite","name":"In the Wake","url":"https://www.cruisinginthewake.com"}
  }
  </script>

  <!-- CSS (same-origin so cache-buster can touch it) -->
  <link rel="stylesheet" href="/assets/styles.css?v=3.008"/>

  <!-- Preconnects -->
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="preconnect" href="https://cloud.umami.is" crossorigin>
  <link rel="preconnect" href="https://cdn.consentmanager.net" crossorigin>

  <!-- Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WZP891PZXJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date()); gtag('config', 'G-WZP891PZXJ');
  </script>
  <script defer src="https://cloud.umami.is/script.js" data-website-id="9661a449-3ba9-49ea-88e8-4493363578d2"></script>

  <!-- ConsentManager a11y widget (deferred) -->
  <script defer src="https://cdn.consentmanager.net/delivery/js/accessibility.min.js"
    data-acc-accid="774c13e29978"
    data-acc-host="delivery.consentmanager.net"
    data-acc-cdn="cdn.consentmanager.net"></script>

  <!-- Absolute URL helper -->
  <script>
  (function(){
    const ORIGIN=(location.origin||(location.protocol+'//'+location.host)).replace(/\/$/,'');
    window._abs=function(p){p=String(p||''); if(!p.startsWith('/')) p='/'+p; return ORIGIN+p;};
  })();
  </script>

  <!-- Cache-Buster (supports page:version or version) -->
  <script>
  (function(){
    const VER = document.querySelector('meta[name="page:version"]')?.content
             || document.querySelector('meta[name="version"]')?.content
             || new Date().toISOString().slice(0,10).replace(/-/g,"");
    const ORIGIN = (location.origin || (location.protocol+'//'+location.host));
    function sameOrigin(u){ try{ return new URL(u, ORIGIN).origin === ORIGIN; }catch(_){ return false; } }
    for(const el of document.querySelectorAll('link[rel="stylesheet"], script[src]')){
      const url = el.href || el.src;
      if(!url || !sameOrigin(url) || /\bv=/.test(url)) continue;
      const bust = url + (url.includes('?') ? '&' : '?') + 'v=' + encodeURIComponent(VER);
      if(el.tagName==='LINK') el.href = bust; else el.src = bust;
    }
  })();
  </script>

  <!-- External link hardener -->
  <script>
  (function(){
    const here = location.origin;
    document.addEventListener('click',function(e){
      const a=e.target.closest && e.target.closest('a[href]');
      if(!a) return;
      const href=a.getAttribute('href')||'';
      if (/^(#|mailto:|tel:)/i.test(href)) return;
      try{
        const u=new URL(href, location.href);
        if(u.origin!==here){ a.target='_blank'; a.rel = (a.rel||'').includes('noopener')? a.rel : (a.rel||'')+' noopener'; }
      }catch(_){}
    }, true);
  })();
  </script>

  <!-- Page CSS tweaks -->
  <style id="brand-title-hide">.brand-title{display:none!important}</style>

  <!-- Hero vibrancy -->
  <style id="hero-vibrancy">
    .hero{
      background:url('/assets/index_hero.jpg?v=3.008') center/cover no-repeat!important;
      filter:saturate(1.2) contrast(1.08) brightness(1.03)
    }
    .hero::before,.hero::after{content:none!important}
  </style>

  <!-- Hero photo credit -->
  <style id="hero-credit-css">
    .hero{position:relative}
    .hero-credit{
      position:absolute; right:12px; bottom:10px; background:rgba(255,255,255,.9);
      padding:.3rem .55rem; border-radius:.5rem; font-size:.85rem;
      box-shadow:0 2px 6px rgba(0,0,0,.12)
    }
  </style>

  <!-- Page watermark (behind cards) -->
  <style id="page-watermark">
    body::before{
      content:""; position:fixed; inset:0;
      background:url('/assets/watermark.png?v=3.008') center right/520px auto no-repeat;
      opacity:.10; pointer-events:none; z-index:0
    }
    .wrap,.cards,.card{position:relative; z-index:1}
  </style>

  <!-- Nav pills emphasis -->
  <style id="nav-pills-emphasis">
    .nav.pill-nav.pills a[aria-current="page"],
    .nav.pill-nav.pills a.is-current{
      border:2px solid rgba(14,110,142,.35);
      background:rgba(14,110,142,.06);
      font-weight:700;
    }
  </style>

  <!-- A11y no-overlap shim for share bar -->
  <style>html.a11y-launcher-present{--share-bar-bottom:84px}</style>
  <script>
  (function(){
    new MutationObserver(function(){
      document.documentElement.classList.add('a11y-launcher-present');
    }).observe(document.documentElement,{subtree:true,childList:true});
  })();
  </script>

  <!-- Floating share bar (versioned) -->
  <script defer src="/assets/js/share-bar.js?v=3.008"></script>

  <!-- RIGHT-RAIL LAYOUT (this is the missing piece) -->
  <style id="right-rail-layout">
    .layout{
      display:grid;
      grid-template-columns:minmax(0,1fr) minmax(280px,340px);
      gap:1.25rem;
      align-items:start;
    }
    .maincol{grid-column:1;min-width:0;}
    aside.rail{grid-column:2;position:sticky;top:1rem;align-self:start;}
    @media (max-width:1024px){
      .layout{grid-template-columns:1fr;}
      aside.rail{grid-column:1;position:static;}
    }
    /* Article rail tiles */
    #articles-rail{display:grid;gap:.75rem;}
    #articles-rail .rail-item{
      display:grid;grid-template-columns:112px 1fr;gap:.6rem;
      align-items:start;border-top:1px dashed rgba(0,0,0,.08);padding-top:.6rem;
    }
    #articles-rail .rail-item:first-child{border-top:none;padding-top:0;}
    #articles-rail .thumb img{width:112px;height:72px;object-fit:cover;border-radius:.5rem;display:block;}
    #articles-rail .avatar{width:18px;height:18px;border-radius:50%;vertical-align:middle;margin-right:.25rem;}
    /* Authors rail */
    #authors-list .author{display:grid;grid-template-columns:56px 1fr;gap:.6rem;align-items:center;margin:.5rem 0;}
    #authors-list .author .avatar img{width:56px;height:56px;border-radius:50%;object-fit:cover;display:block;}
    #authors-list .roll{display:flex;flex-wrap:wrap;gap:.35rem .5rem;margin-left:56px;}
  </style>

  <!-- Standards Invocation (docstring) -->
  <!-- EVERY-PAGE v3.008 · SOLO-MODULE v3.008 · UNIFIED-NAV v3.008 -->
</head>
<body class="page">
  <a href="#content" class="skip-link">Skip to main content</a>

  <header class="hero-header">
    <div class="navbar">
      <div class="brand">
        <img src="/assets/logo_wake.png?v=3.008" alt="In the Wake wordmark" width="256" height="64"/>
        <span class="version-badge">v3.008</span>
      </div>
      <!-- Unified pill nav (absolute URLs) -->
      <nav class="nav pill-nav pills" aria-label="Primary">
        <a href="https://www.cruisinginthewake.com/">Home</a>
        <a href="https://www.cruisinginthewake.com/ships/">Ships</a>
        <a href="https://www.cruisinginthewake.com/restaurants.html">Restaurants &amp; Menus</a>
        <a href="https://www.cruisinginthewake.com/ports.html">Ports</a>
        <a href="https://www.cruisinginthewake.com/disability-at-sea.html">Disability at Sea</a>
        <a href="https://www.cruisinginthewake.com/drink-packages.html">Drink Packages</a>
        <a href="https://www.cruisinginthewake.com/packing-lists.html">Packing Lists</a>
        <a href="https://www.cruisinginthewake.com/planning.html">Planning</a>
        <a href="https://www.cruisinginthewake.com/solo.html" aria-current="page">Solo</a>
        <a href="https://www.cruisinginthewake.com/travel.html">Travel</a>
        <a href="https://www.cruisinginthewake.com/cruise-lines.html">Cruise Lines</a>
        <a href="https://www.cruisinginthewake.com/about-us.html">About Us</a>
      </nav>
    </div>

    <div class="hero" role="img" aria-label="Ship wake at sunrise">
      <div class="latlon-grid" aria-hidden="true"></div>
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.008" width="180" height="180" alt="" aria-hidden="true"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake.png?v=3.008" width="256" height="64" alt="In the Wake">
        <div class="tagline">A Cruise Traveler’s Logbook</div>
      </div>
      <div class="hero-credit">
        Photo © <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a> ·
        <a href="https://instagram.com/flickersofmajesty" target="_blank" rel="noopener">Instagram</a>
      </div>
    </div>
  </header>

  <main class="wrap layout" id="content" role="main">
    <div class="maincol">
      <section class="cards stack">
        <article class="card card-intro">
          <h2>Solo, but Never Alone</h2>
          <p>Here on the open sea, the wake behind us tells a story — not of crowds, but of courage.
          <strong>In the Wake’s</strong> world-roaming authors chart this course together, penning reflections and real-world helps for those who sail solo.
          From the first nervous gangway step to that quiet coffee at sunrise, you’ll find stories here that steady your compass and stir your sense of wonder.</p>
          <p>In the weeks ahead, our team will be sharing <em>travel logs, lessons, and laughter</em> from journeys across the world’s oceans —
          all written to help you navigate the beauty and balance of cruising on your own.
          Whether you’re plotting your first voyage or your fiftieth, consider this your friendly harbor: a place to learn, to rest, and to remember that even when you sail solo, you sail in good company.</p>
          <p>Fair winds, following seas, and space to breathe — your solo journey begins here.</p>
          <p>~Ken</p>
        </article>
      </section>

      <!-- Active article host (hash or ?a=slug) -->
      <section class="cards stack">
        <article class="card" id="solo-article-host" aria-live="polite">
          <h2>Loading your article…</h2>
          <p>Trimming the sails — this will just take a moment.</p>
        </article>
      </section>
    </div>

    <!-- Right rail -->
    <aside class="rail">
      <section class="cards stack" aria-label="Articles">
        <article class="card">
          <h2>Articles</h2>
          <div id="articles-rail" class="rail" aria-live="polite">Loading feed…</div>
        </article>
      </section>

      <section class="cards stack" id="solo-authors-rail" aria-label="Authors">
        <article class="card card-authors">
          <h2>Authors</h2>
          <div id="authors-list" class="authors"></div>
        </article>
      </section>
    </aside>
  </main>

  <footer class="wrap" role="contentinfo">
    © 2025 In the Wake — A Cruise Traveler’s Logbook
    <span class="version-badge">v3.008</span>
    <div class="tiny center">Soli Deo Gloria — All work on this project is offered to God.</div>
  </footer>

  <!-- Nav aria-current setter -->
  <script>
  (function(){
    const nav = document.querySelector('.nav[aria-label="Primary"]');
    if(!nav) return;
    const here = location.pathname.replace(/\/+$/,'').toLowerCase();
    for (const a of nav.querySelectorAll('a[href]')) {
      try {
        const url = new URL(a.getAttribute('href'), location.origin);
        const path = url.pathname.replace(/\/+$/,'').toLowerCase();
        if (path === here) { a.setAttribute('aria-current','page'); a.classList.add('is-current'); }
      } catch(_) {}
    }
  })();
  </script>

  <!-- Solo article loader + deep-link SEO injector + authors rail -->
  <script>
  (function(){
    "use strict";

    const ORIGIN = (location.origin || (location.protocol + '//' + location.host));
    const ARTICLE_BASE = "/solo/articles/";
    const PERMALINK_BASE = ORIGIN + ARTICLE_BASE;

    const RAW_AUTHORS = [
      { id:"ken",  name:"Ken Baker",  url:"https://ken-baker.com",        avatarBase:"/authors/img/ken1",
        socials:[ {label:"Site",href:"https://ken-baker.com"},
                  {label:"IG",href:"https://instagram.com/flickersofmajesty"},
                  {label:"Facebook Solo Travel Group",href:"https://www.facebook.com/share/g/17XBdqRCsM/?mibextid=wwXIfr"},
                  {label:"Community (mobile)",href:"https://m.me/cm/Aba2d_mIzlMxlCA5/?send_source=cm:copy_invite_link"} ]},
      { id:"tina", name:"Tina Maulsby", url:"/authors/tina-maulsby.html", avatarBase:"/authors/img/tina3",
        socials:[ {label:"TikTok",href:"https://www.tiktok.com/@beyondboundarieswithtina"},
                  {label:"Etsy",href:"https://www.etsy.com/shop/YOUR_SHOP?section_id=CRUISE_ONLY"},
                  {label:"Facebook Group",href:"https://www.facebook.com/share/g/17XBdqRCsM/?mibextid=wwXIfr"},
                  {label:"Community (mobile)",href:"https://m.me/cm/Aba2d_mIzlMxlCA5/?send_source=cm:copy_invite_link"} ]}
    ];

    const RAW_ARTICLES = [
      { slug:"freedom-of-your-own-wake",
        title:"The Freedom of Your Own Wake",
        hero: ORIGIN + "/assets/solo/freedom-hero.jpg",
        dek:"A gentle case for sailing alone: rest, rhythm, and room to breathe.",
        authorId:"ken", tags:["solo","tips","reflection"] },
      { slug:"why-i-started-solo-cruising",
        title:"Why I Started Solo Cruising (and Built a Community)",
        hero: ORIGIN + "/authors/tinas-images/ncl-jade.png",
        dek:"From that first solo gangway to a thriving community — lessons, safety, and the joy of sailing on your own terms.",
        authorId:"tina", tags:["solo","story","community","women"] }
    ];

    function normArticle(a){ return { slug:a.slug||"", title:a.title||"", hero:a.hero||"", dek:a.dek||"", authorId:a.authorId||"", tags:Array.isArray(a.tags)?a.tags:[] }; }
    function normAuthor(a){ return { id:a.id||"", name:a.name||"", url:a.url||"", avatarBase:a.avatarBase||"", socials:Array.isArray(a.socials)?a.socials:[] }; }

    const AUTHORS  = RAW_AUTHORS.map(normAuthor);
    const ARTICLES = RAW_ARTICLES.map(normArticle);

    const authorById = Object.fromEntries(AUTHORS.map(a => [a.id, a]));
    const articlesByAuthor = ARTICLES.reduce(function(acc,a){ (acc[a.authorId] = acc[a.authorId] || []).push(a); return acc; }, {});

    const qs   = new URLSearchParams(location.search);
    const hash = (location.hash||"").replace(/^#/, "");
    var slug   = qs.get("a") || hash || "";

    const last = localStorage.getItem("solo:lastSlug");
    if(!slug){
      const pool = ARTICLES.filter(function(a){return a.slug && a.slug!==last;});
      const pick = pool.length ? pool[Math.floor(Math.random()*pool.length)] : ARTICLES[0];
      slug = (pick && pick.slug) || (ARTICLES[0] && ARTICLES[0].slug) || "";
      if(slug) history.replaceState(null, "", location.pathname + "#" + slug);
    }

    const article = ARTICLES.find(function(a){return a.slug===slug;}) || ARTICLES[0];
    localStorage.setItem("solo:lastSlug", article.slug);
    window.__soloArticle = article;

    const host = document.getElementById("solo-article-host");
    if(host){
      fetch(ARTICLE_BASE + encodeURIComponent(article.slug) + ".html", {
        credentials:"omit", cache:"no-store", redirect:"follow"
      })
      .then(function(r){ return r.ok ? r.text() : Promise.reject(r.status); })
      .then(function(html){
        host.innerHTML = html;
        wireShareButtons(article);
        injectArticleSEO(article);
        ensureBylineAuthorFallback(article);
      })
      .catch(function(){
        host.innerHTML = '<h2>We hit rough seas loading this article.</h2><p>Try refreshing or <a href="'+ORIGIN+'/solo.html">return to Solo home</a>.</p>';
      });
    }

    renderAuthorsRail();

    function renderAuthorsRail(){
      const rail = document.getElementById("authors-list");
      if(!rail) return;
      rail.innerHTML = "";

      const ver = document.querySelector('meta[name="page:version"]')?.content || "";
      const sorted = AUTHORS.slice().sort(function(a,b){
        const aa = (articlesByAuthor[a.id]||[]).length;
        const bb = (articlesByAuthor[b.id]||[]).length;
        return bb - aa;
      });

      sorted.forEach(function(a){
        const authored = (articlesByAuthor[a.id]||[]);
        const div = document.createElement('div'); div.className = "author";

        const fallbackExt = a.id === "ken" ? "jpg" : "png";
        const webp = a.avatarBase + ".webp" + (ver?("?v="+encodeURIComponent(ver)):"");
        const fall = a.avatarBase + "." + fallbackExt + (ver?("?v="+encodeURIComponent(ver)):"");

        div.innerHTML = ''+
          '<div class="avatar">'+
            '<picture>'+
              '<source type="image/webp" srcset="'+webp+'">'+
              '<img src="'+fall+'" alt="'+escapeHtml(a.name)+'" width="80" height="80" loading="lazy" decoding="async">'+
            '</picture>'+
          '</div>'+
          '<div class="meta">'+
            '<a href="'+(a.url||'#')+'"'+(a.url?' target="_blank" rel="noopener"':'')+'>'+escapeHtml(a.name)+'</a>'+
            '<div class="links">'+
              (a.socials||[]).map(function(s){return '<a href="'+s.href+'" target="_blank" rel="noopener">'+escapeHtml(s.label)+'</a>';}).join('')+
            '</div>'+
          '</div>';
        rail.appendChild(div);

        const roll = document.createElement('div'); roll.className = "roll";
        const max  = Math.min(4, authored.length);
        for(var i=0;i<max;i++){
          const art = authored[(i + Math.floor(Math.random()*authored.length)) % authored.length];
          const aTag = document.createElement('a');
          aTag.href = permalink(art.slug);
          aTag.textContent = art.title;
          aTag.addEventListener('click', function(e){
            e.preventDefault();
            const u = new URL(this.href, location.origin);
            const s = u.pathname.split('/').pop().replace(/\.html$/,'');
            history.pushState(null, "", location.pathname + "#" + s);
            location.reload();
          });
          roll.appendChild(aTag);
        }
        rail.appendChild(roll);
      });
    }

    function permalink(slug){ return PERMALINK_BASE + encodeURIComponent(slug) + ".html"; }

    function wireShareButtons(a){
      const el = document.querySelector('.byline .share');
      if(!el) return;
      const url = permalink(a.slug);
      el.addEventListener('click', function(e){
        e.preventDefault();
        navigator.clipboard.writeText(url).then(function(){
          el.textContent = "Link copied!";
          setTimeout(function(){ el.textContent = "Share this article"; }, 1500);
        });
      });
    }

    function injectArticleSEO(a){
      if(!(location.search.includes("a=") || location.hash)) return;
      const url = permalink(a.slug);
      setMeta('og:title', a.title + " — In the Wake");
      setMeta('og:description', a.dek || "Solo cruising reflections and tips.");
      setMeta('og:image', a.hero || (ORIGIN + "/assets/index_hero.jpg?v=3.008"));
      setMeta('og:url', url);
      setNameMeta('description', a.dek || "Solo cruising reflections and tips.");
      setMeta('twitter:card','summary_large_image');
      if (a.hero && /\.webp(\?|$)/i.test(a.hero)) { setMeta('og:image:type','image/webp'); }

      const existingLD = document.querySelector('script[type="application/ld+json"].solo-article-ld');
      if (existingLD) existingLD.remove();
      const ld = document.createElement('script');
      ld.type = "application/ld+json";
      ld.className = "solo-article-ld";
      ld.textContent = JSON.stringify({
        "@context":"https://schema.org",
        "@type":"BlogPosting",
        "headline": a.title,
        "description": a.dek || "Solo cruising reflections and tips.",
        "image": a.hero || (ORIGIN + "/assets/index_hero.jpg?v=3.008"),
        "url": url,
        "isPartOf": {"@type":"Blog","name":"Solo Cruising","url": ORIGIN + "/solo.html"}
      });
      document.head.appendChild(ld);

      function setMeta(p,c){
        var m=document.querySelector('meta[property="'+p+'"]');
        if(!m){ m=document.createElement('meta'); m.setAttribute('property',p); document.head.appendChild(m); }
        m.setAttribute('content', c);
      }
      function setNameMeta(n,c){
        var m=document.querySelector('meta[name="'+n+'"]');
        if(!m){ m=document.createElement('meta'); m.setAttribute('name',n); document.head.appendChild(m); }
        m.setAttribute('content', c);
      }
    }

    function ensureBylineAuthorFallback(a){
      const hasByline = !!document.querySelector('footer.byline');
      if(hasByline) return;
      const mounted = document.getElementById('solo-article-host');
      if(!mounted) return;
      const auth = authorById[a.authorId] || null;
      if(!auth) return;

      const ver = document.querySelector('meta[name="page:version"]')?.content || "3.008";
      const fallbackExt = auth.id === "ken" ? "jpg" : "png";
      const webp = auth.avatarBase + ".webp?v=" + encodeURIComponent(ver);
      const fall = auth.avatarBase + "." + fallbackExt + "?v=" + encodeURIComponent(ver);

      const footer = document.createElement('footer');
      footer.className = "byline";
      footer.innerHTML = ''+
        '<div class="avatar" style="width:48px;height:48px;border-radius:999px;overflow:hidden;flex:none">'+
          '<picture>'+
            '<source type="image/webp" srcset="'+webp+'">'+
            '<img src="'+fall+'" alt="'+escapeHtml(auth.name)+'" width="48" height="48" loading="lazy" decoding="async" style="width:100%;height:100%;object-fit:cover">'+
          '</picture>'+
        '</div>'+
        '<div style="margin-left:.5rem">'+
          '<strong><a href="'+auth.url+'"'+(auth.url?' target="_blank" rel="noopener"':'')+'>'+escapeHtml(auth.name)+'</a></strong>'+
          '<a class="share" href="#" role="button" style="margin-left:.75rem">Share this article</a>'+
        '</div>';
      mounted.appendChild(footer);
    }

    function escapeHtml(s){
      return String(s||"").replace(/[&<>"']/g, function(m){ return ({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;" })[m]; });
    }
  })();
  </script>

  <!-- Articles rail (Unified source: /assets/data/articles/index.json) -->
  <script>
  (function(){
    const mount = document.getElementById('articles-rail');
    if (!mount) return;

    const SRC = '/assets/data/articles/index.json?v=3.008';
    const PLACEHOLDER = '/assets/placeholders/article-thumb.jpg?v=3.008';
    const AV_PLACEHOLDER = '/assets/placeholders/author.jpg?v=3.008';
    const CONTEXT_TAGS = ['solo']; // Solo page → solo-tagged (and dual-tagged) items

    const localSeed = [
      {
        id:'freedom-of-your-own-wake',
        title:'Freedom of Your Own Wake',
        url:'/solo/articles/freedom-of-your-own-wake.html',
        date:'2024-08-14',
        excerpt:'On choosing solitude without being alone.',
        image:'/assets/articles/freedom-of-your-own-wake.jpg?v=3.008',
        author:{name:'Ken Baker', url:'/authors/ken-baker.html', image:'/assets/authors/ken-baker.jpg?v=3.008'},
        keywords:['solo','travel']
      },
      {
        id:'why-i-started-solo-cruising',
        title:'Why I Started Solo Cruising',
        url:'/solo/articles/why-i-started-solo-cruising.html',
        date:'2024-06-01',
        excerpt:'From that first solo gangway to a thriving community — freedom found at sea.',
        image:'/assets/articles/solo/why-i-started-solo-cruising.jpg?v=3.008',
        author:{name:'Tina', url:'/authors/tina.html', image:'/assets/authors/tina.jpg?v=3.008'},
        keywords:['solo']
      }
    ];

    function dedupe(arr){
      const seen=new Set();
      return arr.filter(a=>{
        const k=a.url||a.id;
        if(seen.has(k)) return false;
        seen.add(k);
        return true;
      });
    }

    function byContext(list){
      return list.filter(a=>{
        const kws = Array.isArray(a.keywords)? a.keywords : [];
        return kws.some(k => CONTEXT_TAGS.includes(k));
      });
    }

    function card(a){
      const d = a.date ? new Date(a.date).toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'}) : '';
      const img = (a.image && a.image.trim()) || PLACEHOLDER;
      const author = a.author || {};
      const avatar = author.image
        ? `<img class="avatar" src="${author.image}" alt="${author.name||'Author'}" onerror="this.onerror=null;this.src='${AV_PLACEHOLDER}'" width="18" height="18">`
        : `<img class="avatar" src="${AV_PLACEHOLDER}" alt="" width="18" height="18">`;
      return `<article class="rail-item">
        <a class="thumb" href="${a.url}">
          <img src="${img}" alt="${a.title||'Article image'}" onerror="this.onerror=null;this.src='${PLACEHOLDER}'">
        </a>
        <div class="meta">
          <h4><a href="${a.url}">${a.title||''}</a></h4>
          <p class="tiny muted">${d}${author.name ? ` · ${avatar}<a class="author" href="${author.url||'#'}">${author.name}</a>` : ''}</p>
          <p class="tiny">${a.excerpt||''}</p>
        </div>
      </article>`;
    }

    function render(list){
      mount.innerHTML = list.map(card).join('') || '<div class="tiny muted">No articles yet.</div>';
    }

    fetch(SRC,{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject())
      .then(json=>{
        let list = Array.isArray(json?.articles) ? json.articles : [];
        list = byContext(list);
        list = dedupe([...list, ...localSeed]).slice(0,4);
        render(list);
      })
      .catch(()=>{
        render(localSeed.slice(0,3));
      });
  })();
  </script>

  <!-- Service worker registration + gentle seeding -->
  <script>
  (function(){
    if(!('serviceWorker' in navigator)) return;

    const ver  = document.querySelector('meta[name="page:version"]')?.content || '3.008';
    const sw   = '/sw.js?v=' + encodeURIComponent(ver);

    const precacheHint = ['/precache-manifest.json'];
    precacheHint.forEach(u=>{ try{ fetch(u, {cache:'no-store'}).catch(()=>{});}catch(_){}});

    window.addEventListener('load', function(){
      navigator.serviceWorker.register(sw, { scope: '/' })
        .then(()=>navigator.serviceWorker.ready)
        .then(()=>{
          fetch('/precache-manifest.json', {cache:'no-store'})
            .then(r=>r.ok?r.json():[])
            .then(list=>{
              if(!Array.isArray(list)) return;
              list.slice(0, 50).forEach(u=>{
                try{ const url=new URL(u, location.origin); if(url.origin===location.origin) fetch(url.href).catch(()=>{}); }catch(_){}
              });
              if (navigator.serviceWorker.controller) {
                try { navigator.serviceWorker.controller.postMessage({type:'SEED_FROM_PAGE', urls:list}); } catch(_){}
              }
            })
            .catch(()=>{});
        })
        .catch(()=>{});
    });
  })();
  </script>
</body>
</html>
