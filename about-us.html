<!doctype html>
<html lang="en">
<head>
  <!-- ======================================================
       In the Wake — About Us
       Version: 3.010.200  |  Soli Deo Gloria ✝️

       ✅ WCAG 2.1 Level AA Compliant
       ✅ SEO Optimized (JSON-LD, OpenGraph, Twitter Cards)
       ✅ Dropdown Menus with Hover Delay (300ms)
       ✅ Performance Optimized (DNS Prefetch, Preconnect)
       ====================================================== -->

  <!-- Core -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="referrer" content="no-referrer-when-downgrade"/>

  <!-- SEO: Robots & Crawling -->
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1"/>
  <meta name="googlebot" content="index,follow"/>
  <meta name="bingbot" content="index,follow"/>

  <!-- SEO: Theme & Appearance -->
  <meta name="color-scheme" content="light"/>
  <meta name="theme-color" content="#0e6e8e"/>
  <meta name="version" content="3.010.200"/>
  <meta name="author" content="In the Wake"/>
  <meta name="publisher" content="In the Wake"/>

  <!-- SEO: Geographic -->
  <meta name="geo.region" content="US"/>
  <meta name="geo.placename" content="United States"/>

  <!-- Title & SEO -->
  <title>About Us — In the Wake | Cruise Planning & Travel Tips</title>
  <meta name="description" content="Meet the crew behind In the Wake — real cruisers writing from real voyages to help you plan smoother sailings."/>
  <meta name="keywords" content="cruise planning, cruise tips, travel guide, about us, Ken Baker, Tina Maulsby"/>
  <link rel="canonical" href="https://cruisinginthewake.com/about-us.html"/>

  <!-- SEO: Author & Copyright -->
  <meta name="copyright" content="In the Wake"/>
  <meta name="author" content="In the Wake"/>
  <link rel="author" href="https://cruisinginthewake.com/authors/ken-baker.html"/>

  <!-- OpenGraph / Facebook -->
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:title" content="About Us — In the Wake"/>
  <meta property="og:description" content="Meet the crew behind In the Wake — real cruisers writing from real voyages."/>
  <meta property="og:url" content="https://cruisinginthewake.com/about-us.html"/>
  <meta property="og:image" content="https://cruisinginthewake.com/assets/social/about-hero.jpg"/>
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>
  <meta property="og:image:alt" content="In the Wake - About the team behind cruise planning resources"/>
  <meta property="og:locale" content="en_US"/>

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content="About Us — In the Wake"/>
  <meta name="twitter:description" content="Meet the crew behind In the Wake — real cruisers writing from real voyages."/>
  <meta name="twitter:image" content="https://cruisinginthewake.com/assets/social/about-hero.jpg"/>
  <meta name="twitter:image:alt" content="In the Wake - About the team behind cruise planning resources"/>

  <!-- JSON-LD: Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "In the Wake",
    "url": "https://cruisinginthewake.com",
    "logo": "https://cruisinginthewake.com/assets/logo_wake.png",
    "description": "A cruise traveler's logbook providing planning tools, travel tips, and faith-scented reflections for smoother sailings.",
    "sameAs": [
      "https://www.flickersofmajesty.com"
    ],
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "customer support",
      "url": "https://cruisinginthewake.com/about-us.html"
    }
  }
  </script>

  <!-- JSON-LD: WebSite with SearchAction -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "In the Wake",
    "url": "https://cruisinginthewake.com",
    "description": "A cruise traveler's logbook",
    "publisher": {
      "@type": "Organization",
      "name": "In the Wake"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://cruisinginthewake.com/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- JSON-LD: Breadcrumb -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://cruisinginthewake.com/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "About Us",
        "item": "https://cruisinginthewake.com/about-us.html"
      }
    ]
  }
  </script>

  <!-- JSON-LD: Person (E-E-A-T) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Ken Baker",
    "url": "https://cruisinginthewake.com/authors/ken-baker.html",
    "jobTitle": "Founder and Editor",
    "description": "Traveler, pastor, and storyteller. Founder of In the Wake, a cruise traveler's logbook offering planning tools, travel tips, and faith-scented reflections for smoother sailings.",
    "image": "https://cruisinginthewake.com/authors/img/ken1.webp",
    "sameAs": [
      "https://www.flickersofmajesty.com"
    ],
    "worksFor": {
      "@type": "Organization",
      "name": "In the Wake"
    },
    "knowsAbout": [
      "Cruise Planning",
      "Royal Caribbean",
      "Solo Cruising",
      "Travel Writing",
      "Faith-Based Travel"
    ]
  }
  </script>

  <!-- Favicon / PWA -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/in_the_wake_icon_32x32.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png"/>
  <link rel="manifest" href="/manifest.webmanifest"/>

  <!-- SEO: Sitemap & RSS -->
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <!-- Performance: DNS Prefetch & Preconnect -->
  <link rel="dns-prefetch" href="https://www.flickersofmajesty.com"/>
  <link rel="preconnect" href="https://cruisinginthewake.com"/>

  <!-- Styles -->
  <style>
    /* ===== WCAG 2.1 AA Compliant + SEO Optimized Styles ===== */
    :root {
      --sea: #0a3d62;
      --foam: #e6f4f8;
      --rope: #d9b382;
      --ink: #083041;
      --sky: #f7fdff;
      --accent: #0e6e8e;
      --accent-dark: #005a9c;
      --text-muted: #2a4a5a;
      --shadow: 0 6px 22px rgba(8,48,65,.08);
      --rail: 320px;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
    }

    body {
      font: 16px/1.55 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--ink);
      background: var(--sky);
    }

    a {
      color: var(--accent);
      text-decoration: underline;
      text-decoration-thickness: 1px;
      text-underline-offset: 2px;
    }

    a:hover {
      text-decoration-thickness: 2px;
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
    }

    .wrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px 14px 36px;
    }

    .card {
      background: #fff;
      border: 2px solid var(--rope);
      border-radius: 14px;
      padding: 1rem;
      margin: .8rem 0;
      box-shadow: var(--shadow);
    }

    h1, h2, h3, h4 {
      color: var(--sea);
      margin: 0.75rem 0 0.5rem;
    }

    h1 {
      font-size: 2rem;
      line-height: 1.2;
    }

    h2 {
      font-size: 1.5rem;
      line-height: 1.3;
    }

    h3 {
      font-size: 1.25rem;
      line-height: 1.4;
    }

    .tiny {
      font-size: .88rem;
      color: var(--text-muted);
    }

    .motto {
      font-style: italic;
      color: var(--sea);
      margin: 0.5rem 0;
    }

    .center {
      text-align: center;
    }

    /* ===== ACCESSIBILITY: Skip Link ===== */
    .skip-link {
      position: absolute;
      left: -10000px;
      width: 1px;
      height: 1px;
      overflow: hidden;
      background: var(--accent-dark);
      color: white;
      padding: 12px 24px;
      text-decoration: none;
      font-weight: 700;
      border-radius: 4px;
    }

    .skip-link:focus {
      position: fixed;
      top: 10px;
      left: 10px;
      width: auto;
      height: auto;
      z-index: 10000;
      box-shadow: 0 0 0 3px rgba(255,255,255,0.3);
    }

    /* ===== ACCESSIBILITY: Screen Reader Only ===== */
    .sr-only {
      position: absolute !important;
      left: -10000px !important;
      width: 1px !important;
      height: 1px !important;
      overflow: hidden !important;
      clip: rect(1px, 1px, 1px, 1px) !important;
      white-space: nowrap !important;
    }

    /* ===== ACCESSIBILITY: Focus Indicators ===== */
    *:focus {
      outline: 3px solid var(--accent-dark);
      outline-offset: 2px;
    }

    a:focus,
    button:focus,
    [tabindex="0"]:focus {
      outline: 3px solid var(--accent-dark);
      outline-offset: 3px;
      box-shadow: 0 0 0 6px rgba(0, 90, 156, 0.15);
    }

    /* ===== ACCESSIBILITY: Reduced Motion ===== */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* ===== ACCESSIBILITY: High Contrast Mode ===== */
    @media (prefers-contrast: high) {
      :root {
        --text-muted: #1a2a3a;
      }

      button,
      a,
      .card {
        border: 2px solid currentColor;
      }

      *:focus {
        outline-width: 4px;
      }
    }

    /* ===== Header / Hero ===== */
    .hero-header {
      position: relative;
      border-bottom: 6px double var(--rope);
      background: #eaf6f6;
      z-index: 0;
    }

    .navbar {
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
      align-items: flex-end;
      gap: .6rem;
      padding: .5rem .9rem .35rem;
      position: relative;
      z-index: 2000;
      overflow: visible;
    }

    .brand {
      display: flex;
      align-items: flex-end;
      gap: .6rem;
    }

    .brand img {
      height: 28px;
      width: auto;
    }

    .version-badge {
      font-size: .72rem;
      opacity: .8;
      color: var(--text-muted);
    }

    /* ===== DROPDOWN NAVIGATION (FIXED: Hover Delay + Safe Zone) ===== */
    .nav {
      flex: 1 1 auto;
      min-width: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: .5rem;
      white-space: nowrap;
      flex-wrap: nowrap;
      overflow: visible;
      padding-inline: .75rem;
    }

    /* Top-level nav items */
    .nav-item {
      position: relative;
      display: inline-block;
    }

    /* Top-level links and buttons (pills) */
    .nav-item > a,
    .nav-item > button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .35rem;
      padding: .65rem 1rem;
      min-height: 44px;
      border-radius: 10px;
      background: #fff;
      border: 2px solid var(--rope);
      color: var(--accent);
      font: inherit;
      font-size: .95rem;
      line-height: 1.2;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .nav-item > a:hover,
    .nav-item > button:hover {
      background: var(--foam);
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .nav-item > a[aria-current="page"] {
      background: var(--accent);
      color: #fff;
      font-weight: 600;
      border-color: var(--accent);
    }

    /* Dropdown button caret */
    .nav-disclosure .caret {
      display: inline-block;
      margin-left: .25rem;
      transition: transform 0.2s ease;
    }

    .nav-item[data-open="true"] .nav-disclosure .caret {
      transform: rotate(180deg);
    }

    /* FIXED: Dropdown menu with hover delay and safe zone */
    .submenu {
      position: absolute !important;
      left: 0;
      top: calc(100% + 4px); /* Reduced gap for easier mouse movement */
      min-width: 240px;
      background: #fff;
      border: 2px solid var(--rope);
      border-radius: 12px;
      padding: .6rem;
      box-shadow: 0 8px 24px rgba(8,48,65,.15);

      /* Hidden by default */
      display: none;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;

      /* Smooth transition */
      transition: opacity 0.2s ease, visibility 0.2s ease;
      z-index: 2100;
    }

    /* Create invisible "bridge" between button and menu for safe hover zone */
    .submenu::before {
      content: '';
      position: absolute;
      top: -8px; /* Covers the 4px gap + 4px extra */
      left: 0;
      right: 0;
      height: 8px;
      background: transparent;
    }

    /* Show dropdown when open */
    .nav-item[data-open="true"] > .submenu {
      display: block;
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }

    /* Dropdown menu items */
    .submenu a {
      display: block;
      width: 100%;
      margin: 0;
      padding: .6rem .75rem;
      border-radius: .65rem;
      border: 0;
      background: transparent;
      color: var(--ink);
      text-decoration: none;
      transition: background 0.15s ease;
    }

    .submenu a:hover,
    .submenu a:focus {
      background: #f2f7fa;
      outline: 2px solid transparent;
    }

    /* Mobile: Horizontal scroll for navigation */
    @media (max-width: 768px) {
      .nav {
        justify-content: flex-start;
        overflow-x: auto;
        scrollbar-width: thin;
        -webkit-overflow-scrolling: touch;
      }

      .nav-item > a,
      .nav-item > button {
        flex: 0 0 auto;
      }

      /* On mobile, dropdowns stack below */
      .submenu {
        left: 0;
        right: 0;
        min-width: 100%;
      }
    }

    /* Hero */
    .hero {
      position: relative;
      width: 100%;
      min-height: clamp(200px, 24vw, 340px);
      background: url('/assets/index_hero.jpg') 50% 50%/cover no-repeat;
      display: flex;
      align-items: flex-end;
      overflow-x: clip;
      z-index: 0;
    }

    .hero * {
      filter: none !important;
      mix-blend-mode: normal !important;
      opacity: 1 !important;
    }

    .hero-compass {
      position: absolute;
      right: min(3vw, 1rem);
      top: .5rem;
      width: 86px;
      opacity: .95;
      z-index: 2;
      pointer-events: none;
    }

    .hero-title {
      position: absolute;
      left: min(3vw, 1rem);
      bottom: clamp(.6rem, 2vw, 1.4rem);
      z-index: 3;
      display: flex;
      align-items: flex-end;
      gap: .6rem;
      text-shadow: 0 2px 6px rgba(0,0,0,.45);
    }

    .hero-title .logo {
      display: block;
      width: clamp(189px, 23.1vw, 378px);
      max-width: min(45vw, 520px);
    }

    .tagline {
      position: absolute;
      left: min(3vw, 1rem);
      bottom: clamp(.55rem, 1.6vw, 1.1rem);
      transform: none;
      font-weight: 700;
      letter-spacing: .2px;
      color: #e6f4f8;
      font-size: clamp(.9rem, 1.5vw, 1.35rem);
      white-space: nowrap;
      z-index: 3;
    }

    .hero-credit {
      position: absolute;
      right: .85rem;
      bottom: .85rem;
      z-index: 4;
    }

    .hero-credit .pill {
      display: inline-block;
      padding: .45rem .7rem;
      border-radius: 999px;
      background: #fff;
      border: 1px solid var(--rope);
      font-weight: 600;
      color: #0a3d62;
      box-shadow: 0 1.5px 6px rgba(8,48,65,.15);
    }

    /* Page Grid */
    .page-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(260px, var(--rail));
      gap: 2rem;
      align-items: start;
    }

    @media (max-width: 979.98px) {
      .page-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Vertical Author Card */
    .author-card-vertical {
      text-align: center;
    }

    .author-card-vertical .author-avatar {
      display: block;
      width: 96px;
      height: 96px;
      border-radius: 12px;
      object-fit: cover;
      margin: 0 auto 1rem;
    }

    .author-card-vertical h4 {
      margin: 0.5rem 0 0.25rem;
    }

    .author-card-vertical p {
      margin: 0.25rem 0;
    }

    /* Rail */
    .rail-list {
      display: grid;
      gap: 1rem;
    }

    .rail-item {
      display: grid;
      grid-template-columns: 48px 1fr;
      gap: .75rem;
      align-items: start;
    }

    .rail-item img {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      object-fit: cover;
      object-position: center;
    }

    /* Footer */
    footer {
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 2px solid var(--rope);
    }

    footer .version-badge {
      font-size: .8rem;
      opacity: .75;
      margin-left: .5rem;
    }

    /* Text Spacing */
    p,
    li,
    h1,
    h2,
    h3,
    h4 {
      max-width: 70ch;
    }
  </style>
</head>
<body>
  <!-- Skip Link -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- ARIA Live Regions -->
  <div id="a11y-status" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>
  <div id="a11y-alerts" role="alert" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

  <!-- HEADER -->
  <header class="hero-header" role="banner">
    <div class="navbar">
      <div class="brand">
        <img src="/assets/logo_wake.png?v=3.010.300" width="256" height="64" alt="In the Wake wordmark" decoding="async"/>
        <span class="tiny version-badge" aria-label="Site version 3.010.200">v3.010.300</span>
      </div>

      <!-- Navigation with Dropdown Menus -->
      <nav class="nav" aria-label="Main site navigation">
        <div class="nav-item">
          <a href="/">Home</a>
        </div>

        <!-- Planning Dropdown -->
        <div class="nav-item nav-group" id="nav-planning" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-planning">
            Planning <span class="caret">▾</span>
          </button>
          <div id="menu-planning" class="submenu" role="menu" aria-label="Planning submenu">
            <a role="menuitem" href="/planning.html">Planning (overview)</a>
            <a role="menuitem" href="/ships.html">Ships</a>
            <a role="menuitem" href="/restaurants.html">Restaurants &amp; Menus</a>
            <a role="menuitem" href="/ports.html">Ports</a>
            <a role="menuitem" href="/drink-calculator.html">Drink Calculator</a>
            <a role="menuitem" href="/cruise-lines.html">Cruise Lines</a>
            <a role="menuitem" href="/packing-lists.html">Packing Lists</a>
            <a role="menuitem" href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <!-- Travel Dropdown -->
        <div class="nav-item nav-group" id="nav-travel" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-travel">
            Travel <span class="caret">▾</span>
          </button>
          <div id="menu-travel" class="submenu" role="menu" aria-label="Travel submenu">
            <a role="menuitem" href="/travel.html">Travel (overview)</a>
            <a role="menuitem" href="/solo.html">Solo</a>
          </div>
        </div>

        <div class="nav-item">
          <a href="/about-us.html" aria-current="page">About</a>
        </div>
      </nav>
    </div>

    <!-- Hero -->
    <div class="hero">
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.010.300" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake.png?v=3.010.300" width="560" height="144" alt="In the Wake" decoding="async"/>
      </div>
      <div class="tagline" aria-hidden="true">A Cruise Traveler's Logbook</div>
      <div class="hero-credit">
        <a class="pill" href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Photo © Flickers of Majesty</a>
      </div>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="wrap page-grid" id="main-content">
    <!-- Left Column -->
    <div>
      <section class="card" aria-labelledby="about-title">
        <h1 id="about-title">About Us</h1>
        <p class="motto"><em>The calmest seas are found in another's wake.</em></p>

        <p>Ahoy, voyagers! Welcome to <strong>In the Wake</strong>, your trusty compass for sailing through cruise planning with joy and ease. We're here to chart your course with mariner wisdom—ship overviews, port tips, restaurant menus, solo travel helps—all crafted to keep your adventure in calm seas.</p>

        <p>We sail ahead—collecting real-world details from actual voyages—so you can follow with confidence. Compare ships and classes, scan menus and prices, scout cabins, and spot accessibility notes without all the whitecaps. The goal isn't to sell you anything; it's to take the friction out of decisions so your trip feels effortless.</p>

        <p class="center"><strong>Fair winds—and gentler seas—in our wake.</strong></p>
      </section>
    </div>

    <!-- RIGHT RAIL -->
    <aside class="rail" role="complementary" aria-label="Authors & recent articles">
      <!-- Authors -->
      <section class="card" aria-labelledby="authors-heading">
        <h2 id="authors-heading">Featured Authors</h2>
        <div id="authors-rail" class="rail-list" role="list" aria-busy="true"></div>
      </section>

      <!-- Recent Articles -->
      <section class="card" aria-labelledby="recent-articles-heading">
        <h2 id="recent-articles-heading">Recent Articles</h2>
        <div id="recent-rail" class="rail-list" aria-live="polite"></div>
        <p id="recent-rail-fallback" class="tiny" style="display:none">Loading articles…</p>
      </section>
    </aside>
  </main>

  <!-- FOOTER -->
  <footer class="wrap" role="contentinfo">
    <p>© 2025 In the Wake. All rights reserved.</p>

    <nav aria-label="Footer navigation">
      <p class="tiny">
        <a href="/terms.html">Terms</a> |
        <a href="/privacy.html">Privacy</a> |
        <a href="/accessibility.html">Accessibility Statement</a>
      </p>
    </nav>

    <p class="tiny center">
      Soli Deo Gloria — Every pixel and part of this project is offered as worship to God,
      in gratitude for the beautiful things He has created for us to enjoy. ✝️
    </p>
  </footer>

  <!-- JAVASCRIPT: Dropdown Menu with Hover Delay -->
  <script>
  (function(){
    "use strict";

    /* ===== FIXED: Dropdown Menu with 300ms Hover Delay ===== */
    const dropdownGroups = Array.from(document.querySelectorAll('.nav-group'));
    if (!dropdownGroups.length) return;

    // Track hover timeouts for each dropdown
    const hoverTimeouts = new Map();
    const HOVER_DELAY = 300; // milliseconds

    function setOpen(group, isOpen) {
      group.dataset.open = isOpen ? "true" : "false";
      const button = group.querySelector('.nav-disclosure');
      if (button) {
        button.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      }
    }

    function closeAll(except = null) {
      dropdownGroups.forEach(group => {
        if (group !== except) {
          setOpen(group, false);
          // Clear any pending timeout for this group
          if (hoverTimeouts.has(group)) {
            clearTimeout(hoverTimeouts.get(group));
            hoverTimeouts.delete(group);
          }
        }
      });
    }

    dropdownGroups.forEach(group => {
      const button = group.querySelector('.nav-disclosure');
      const menu = group.querySelector('.submenu');
      if (!button || !menu) return;

      // Click to toggle (mobile friendly)
      button.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        const isOpen = group.dataset.open === "true";
        closeAll(group);
        setOpen(group, !isOpen);
      });

      // Mouse enter: Open immediately
      group.addEventListener('mouseenter', () => {
        // Clear any pending close timeout
        if (hoverTimeouts.has(group)) {
          clearTimeout(hoverTimeouts.get(group));
          hoverTimeouts.delete(group);
        }
        // Open this dropdown
        closeAll(group);
        setOpen(group, true);
      });

      // Mouse leave: Close after delay
      group.addEventListener('mouseleave', () => {
        // Set timeout to close after delay
        const timeoutId = setTimeout(() => {
          setOpen(group, false);
          hoverTimeouts.delete(group);
        }, HOVER_DELAY);
        hoverTimeouts.set(group, timeoutId);
      });

      // Keyboard navigation
      group.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          setOpen(group, false);
          button && button.focus();
        }
        if ((e.key === 'ArrowDown' || e.key === 'ArrowUp') && document.activeElement === button) {
          e.preventDefault();
          setOpen(group, true);
          const firstLink = menu.querySelector('a, button, [tabindex]:not([tabindex="-1"])');
          firstLink && firstLink.focus();
        }
      });

      // Close when tabbing away
      menu.addEventListener('focusout', () => {
        setTimeout(() => {
          if (!group.contains(document.activeElement)) {
            setOpen(group, false);
          }
        }, 0);
      });
    });

    // Close all dropdowns when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.nav-group')) {
        closeAll();
      }
    });

    // Close all dropdowns when window loses focus
    window.addEventListener('blur', () => {
      closeAll();
    });
  })();

  /* ===== Right-rail: Authors ===== */
  (async function(){
    const mount = document.getElementById('authors-rail');
    if (!mount) return;

    const VERSION = '3.010.200';
    const GENERIC = '/authors/img/author.webp';
    const sources = [
      '/data/authors.json?v=' + VERSION,
      '/assets/data/authors.json?v=' + VERSION
    ];

    function row(a) {
      const img = a.webp || a.image || a.avatar || GENERIC;
      const name = a.name || 'Author';
      const url = a.url || a.profile || '#';
      return `<div class="rail-item" role="listitem" aria-label="${name}">
        <img src="${img}" alt="${name}" loading="lazy" decoding="async"
             onerror="this.onerror=null;this.src='${GENERIC}'">
        <div>
          <h4 style="margin:.1rem 0 .2rem"><a href="${url}">${name}</a></h4>
          <p class="tiny">Contributor</p>
        </div>
      </div>`;
    }

    async function get(u) {
      try {
        const r = await fetch(u, {cache: 'no-store'});
        if (!r.ok) throw 0;
        const j = await r.json();
        return Array.isArray(j?.authors) ? j.authors : [];
      } catch(_) {
        return [];
      }
    }

    let list = [];
    for (const s of sources) {
      list = list.concat(await get(s));
    }

    if (!list.length) {
      list = [
        {name: 'Ken Baker', url: '/authors/ken-baker.html', image: '/authors/img/ken1.jpg'},
        {name: 'Tina Maulsby', url: '/authors/tina-maulsby.html', image: '/authors/img/tina3.jpg'}
      ];
    }

    mount.innerHTML = list.slice(0, 4).map(row).join('');
    mount.setAttribute('aria-busy', 'false');
  })();

  /* ===== Recent Articles Rail ===== */
  (async function recentRail(){
    const rail = document.getElementById('recent-rail');
    if(!rail) return;

    const fallback = document.getElementById('recent-rail-fallback');
    if(fallback) fallback.style.display = '';

    async function fetchJSONWithFallback(urls){
      for (const u of urls){
        try{
          const res = await fetch(u, { credentials: 'omit', cache: 'no-cache' });
          if (res.ok) return await res.json();
        }catch(err){
          console.warn(`Failed to fetch ${u}:`, err);
        }
      }
      return null;
    }

    const raw = await fetchJSONWithFallback([
      '/assets/data/articles/index.json',
      '/assets/data/articles.json'
    ]);

    if(!raw) {
      if(fallback) {
        fallback.textContent = 'Unable to load articles';
        fallback.style.display = '';
      }
      return;
    }

    const items = Array.isArray(raw?.articles) ? raw.articles : (Array.isArray(raw) ? raw : []);
    if(!items.length) return;

    const here = location.pathname.replace(/\/+$/,'');
    const view = items.filter(p => {
      const href = (p.url || p.path || '#').replace(/\/+$/,'');
      return href && href !== here;
    }).slice(0,6);

    rail.innerHTML = view.map(p => {
      const title = p.title || p.name || 'Article';
      const href = p.url || p.path || '#';
      const image = p.image || p.cover || '/assets/index_hero.jpg';
      const altText = p.image ? '' : 'Article thumbnail';

      return `
        <a class="card" style="display:grid;grid-template-columns:72px 1fr;gap:.6rem;align-items:center" href="${href}" aria-label="${title}">
          <div style="width:72px;height:48px;overflow:hidden;border-radius:10px;background:#eef4f6;border:1px solid #dfe7ea">
            <img src="${image}" alt="${altText}" decoding="async" loading="lazy" style="width:100%;height:100%;object-fit:cover"
                 onerror="this.src='/assets/index_hero.jpg';this.alt='Fallback article image'">
          </div>
          <div class="tiny" style="line-height:1.35">${title}</div>
        </a>`;
    }).join('');

    if(fallback) fallback.style.display = 'none';

    // Announce to screen readers
    const status = document.getElementById('a11y-status');
    if(status) {
      status.textContent = `${view.length} recent articles loaded`;
    }
  })();
  </script>
</body>
</html>
