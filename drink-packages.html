<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Royal Caribbean Drink Package Calculator (Is It Worth It?)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Compare Royal Caribbean Soda, Refreshment, and Deluxe packages vs. à-la-carte — with gratuity — to see what’s cheapest for your cruise." />
  <link rel="icon" href="/assets/favicon.svg?v=3.010.109">
  <meta property="og:title" content="Royal Caribbean Drink Package Calculator" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://cruisinginthewake.com/drink-packages.html" />
  <meta property="og:image" content="https://cruisinginthewake.com/assets/social/drink-calculator-2025.jpg?v=3.010.109" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root{
      --bg:#f5fbfe; --card:#fff; --ink:#0e1b2a; --muted:#6b7a8c; --rail:#f1f5f9;
      --brand:#0f5380; --pill:#e6f6ec; --pill-ink:#166534; --ring:#93c5fd;
      --line:#e5e7eb; --good:#16a34a; --bad:#b91c1c; --cta:#0ea5e9;
      --radius:14px; --radius-sm:10px; --shadow:0 8px 24px rgba(14,27,42,.08);
    }
    html,body{background:var(--bg);color:var(--ink);font:16px/1.4 ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;}
    a{color:var(--brand);text-decoration:underline}
    .wrap{max-width:1180px;margin-inline:auto;padding:18px;}
    header.hero{height:240px;display:grid;place-items:end start;background:url(/assets/hero/sky-royal.jpg) center/cover no-repeat;color:#fff}
    header.hero h1{margin:0 0 18px 18px;font-weight:800;font-size:28px;text-shadow:0 2px 18px rgba(0,0,0,.5)}
    nav.breadcrumbs{padding:12px 18px}
    nav.breadcrumbs a{color:var(--muted);text-decoration:none}
    nav.breadcrumbs span.sep{opacity:.5;margin:0 6px}

    /* 2-col grid that *recenters* the left column even when the rail is light */
    .grid{
      display:grid;gap:24px;
      grid-template-columns: minmax(0, 1fr) 340px;
      align-items:start;
    }
    @media (max-width:980px){
      .grid{grid-template-columns:1fr}
      aside.rail{position:static}
    }

    main .card, aside .card, .banner{
      background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
      border:1px solid var(--line);
    }

    /* BEST-VALUE BANNER now stands *outside* the calculator card */
    .banner{
      padding:12px 16px; margin:0 0 16px 0; display:flex; align-items:center; gap:10px;
    }
    .banner .pill{background:var(--pill); color:var(--pill-ink); border-radius:999px; padding:4px 10px; font-weight:600; font-size:13px}
    .banner small{color:var(--muted)}

    .calc.card{padding:18px}
    .row{display:grid; grid-template-columns:1fr 120px; gap:14px; padding:8px 0; align-items:center; border-bottom:1px dashed var(--line)}
    .row:last-child{border-bottom:0}
    .row label{font-weight:600}
    .row .hint{display:block;color:var(--muted);font-weight:400;font-size:13px;margin-top:2px}
    .row input[type="number"]{width:120px;padding:10px;border-radius:10px;border:1px solid var(--line)}
    .totals{display:flex;gap:12px;align-items:center;margin:2px 0 14px 0}
    .totals b{font-size:18px}
    .totals .ver{color:var(--muted);font-size:12px}

    .pkg-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px;margin-top:16px}
    @media (max-width:960px){.pkg-grid{grid-template-columns:1fr}}
    .pkg{border-radius:var(--radius);overflow:hidden;border:1px solid var(--line);background:#0e2233}
    .pkg header{background:#143247;color:#fff;padding:14px 16px;font-weight:800}
    .pkg .body{background:#fff;color:var(--ink);padding:14px 16px}
    .pkg .price{font-weight:800}
    .pkg .range{color:var(--muted);font-size:13px;margin-top:2px}
    .pkg ul{margin:10px 0 0 18px}
    .pkg .footer{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
    .edit-btn{appearance:none;border:1px solid var(--line);background:#fff;border-radius:999px;padding:6px 10px;font-size:13px}
    .edit-btn:focus{outline:3px solid var(--ring);outline-offset:2px}

    aside.rail{position:sticky; top:16px}
    .rail .card{padding:14px}
    .rail h3{margin:2px 0 10px 0}
    .rail .rec{display:grid;grid-template-columns:64px 1fr; gap:12px; align-items:center; padding:10px 0; border-bottom:1px dashed var(--line)}
    .rail .rec:last-child{border-bottom:0}
    .rail img{width:64px;height:48px;object-fit:cover;border-radius:8px;border:1px solid var(--line)}

    footer{padding:28px 0;color:var(--muted);text-align:center}
    .sr{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}
    dialog.modal{border:1px solid var(--line);border-radius:12px;box-shadow:var(--shadow);padding:0}
    dialog.modal header{padding:14px 16px;border-bottom:1px solid var(--line);font-weight:800}
    dialog.modal form{padding:14px 16px;display:grid;gap:10px}
    dialog.modal .row{grid-template-columns:1fr 140px;border:0;padding:0}
    dialog.modal .actions{display:flex;gap:10px;justify-content:flex-end;padding:12px 16px;border-top:1px solid var(--line)}
    button.primary{background:var(--cta);color:#fff;border:0;border-radius:10px;padding:8px 12px}
  </style>
</head>

<body>
  <header class="hero">
    <h1>Royal Caribbean Drink Package Calculator</h1>
  </header>

  <nav class="breadcrumbs wrap" aria-label="Breadcrumbs">
    <a href="/">Home</a><span class="sep">›</span>
    <a href="/planning.html">Planning</a><span class="sep">›</span>
    <span aria-current="page">Drink Packages</span>
  </nav>

  <main class="wrap">
    <!-- Best-value banner (now separate, full-width) -->
    <div id="bestBanner" class="banner" role="status" aria-live="polite" hidden>
      <span class="pill" id="winnerPill">Best value</span>
      <div id="winnerText">—</div>
    </div>

    <div class="grid">
      <section class="card calc" aria-labelledby="calcTitle">
        <h2 id="calcTitle" class="sr">Beverage Calculator</h2>

        <div class="totals">
          <b id="totals">$0.00/day • $0.00 trip</b>
          <span class="ver">v3.010.109 • includes gratuity for packages and à-la-carte.</span>
        </div>

        <div class="row">
          <label for="days">Cruise days</label>
          <input id="days" type="number" min="1" max="30" value="7" />
        </div>
        <div class="row">
          <label for="soda">Soda per day</label>
          <input id="soda" type="number" min="0" step="1" value="0" />
        </div>
        <div class="row">
          <label for="coffee">Premium coffee per day</label>
          <input id="coffee" type="number" min="0" step="1" value="0" />
        </div>
        <div class="row">
          <label for="beer">Beer per day</label>
          <input id="beer" type="number" min="0" step="1" value="0" />
        </div>
        <div class="row">
          <label for="wine">Wine per day</label>
          <input id="wine" type="number" min="0" step="1" value="0" />
        </div>
        <div class="row">
          <label for="cocktail">Cocktail per day</label>
          <input id="cocktail" type="number" min="0" step="1" value="0" />
        </div>
        <div class="row">
          <label for="mocktail">Mocktail/juice per day</label>
          <input id="mocktail" type="number" min="0" step="1" value="0" />
        </div>

        <div class="pkg-grid" id="pkgGrid" aria-describedby="pkgHelp"></div>
        <p id="pkgHelp" class="sr">Cards list per-day price (gratuity included), typical sale range, and what each package covers.</p>
      </section>

      <aside class="rail" aria-label="Recommended and related">
        <section class="card">
          <h3>Recommended Reading</h3>
          <div class="rec">
            <img loading="lazy" src="/assets/rec/refreshment.jpg" alt="Sunset at sea" />
            <a href="/articles/royal-refreshment-package.html">Royal Caribbean Refreshment Package: What’s Included</a>
          </div>
          <div class="rec">
            <img loading="lazy" src="/assets/rec/gratuity.jpg" alt="Ocean waves" />
            <a href="/articles/gratuity-on-drinks-and-packages.html">How gratuity works on drinks &amp; packages</a>
          </div>
          <div class="rec">
            <img loading="lazy" src="/assets/rec/deluxe.jpg" alt="Cocktail glass at sunset" />
            <a href="/articles/deluxe-beverage-worth-it.html">Deluxe Beverage Package: When it’s worth it</a>
          </div>
        </section>

        <section class="card" style="margin-top:14px">
          <h3>Other Calculators</h3>
          <p><a href="/carnival-drink-package-calculator.html">Carnival Drink Package Calculator</a></p>
          <p><a href="/ncl-drink-package-calculator.html">NCL Drink Package Calculator</a></p>
        </section>

        <section class="card" style="margin-top:14px">
          <h3>About the author</h3>
          <p>By <a href="/authors/ken-baker.html">Ken Baker</a>. Pastor, coder, cruiser. Soli Deo Gloria.</p>
        </section>
      </aside>
    </div>
  </main>

  <footer>
    <small>Soli Deo Gloria • WCAG-minded • © In the Wake</small>
  </footer>

  <!-- Inline editor (replaces prompt) -->
  <dialog id="editModal" class="modal" aria-labelledby="editTitle" aria-describedby="editDesc">
    <header id="editTitle">Edit package price</header>
    <form method="dialog" id="editForm">
      <p id="editDesc" class="sr">Change the per-day list price and optional range text.</p>
      <div class="row">
        <label for="editPrice">Price (per day)</label>
        <input id="editPrice" name="price" type="number" step="0.01" min="0" required />
      </div>
      <div class="row">
        <label for="editRange">Range text (optional)</label>
        <input id="editRange" name="range" type="text" placeholder="$56–$115/day" />
      </div>
      <div class="actions">
        <button value="cancel" type="button">Cancel</button>
        <button class="primary" value="save" type="submit">Save</button>
      </div>
    </form>
  </dialog>

  <!-- Calculator app -->
  <script id="calc-app">
  (function(){
    const STATE = {
      data:null,
      gratuity:0.18,         // overwritten by JSON rules.gratuity
      picks:{ days:7, soda:0, coffee:0, beer:0, wine:0, cocktail:0, mocktail:0 },
      overrides: JSON.parse(localStorage.getItem('itw.pkgOverrides')||'{}') // { soda:{price,range}, ... }
    };

    const el = (sel) => document.querySelector(sel);
    const grid = el('#pkgGrid');
    const banner = el('#bestBanner');
    const bannerText = el('#winnerText');
    const bannerPill = el('#winnerPill');
    const totals = el('#totals');

    // Input wiring
    ['days','soda','coffee','beer','wine','cocktail','mocktail'].forEach(id=>{
      const node = el('#'+id);
      node.addEventListener('input', ()=> {
        const v = Number(node.value||0);
        STATE.picks[id] = Math.max(0, isFinite(v)? v : 0);
        computeAndRender();
      });
    });

    // Load JSON (prices, sets, gratuity)
    loadDataset('/data/royal-caribbean.json?v=3.010.109').then(data=>{
      STATE.data = data;
      if (data?.rules?.gratuity >= 0) STATE.gratuity = data.rules.gratuity;
      // initial paint
      computeAndRender();
    }).catch(()=> {
      // fallback minimal data
      STATE.data = {
        items:[
          {id:'soda',price:3.5},{id:'coffee',price:4.75},{id:'beer',price:8},{id:'wine',price:12},
          {id:'cocktail',price:13.5},{id:'mocktail',price:5.5}
        ],
        sets:{ soda:['soda'], refresh:['soda','coffee','mocktail'], alcohol:['beer','wine','cocktail']},
        packages:{
          soda:{name:'Classic Soda',price:13,range:'$12–$15/day',includes:['Soda']},
          refreshment:{name:'Refreshment',price:30,range:'$28–$38/day',includes:['Soda + non-alcoholic']},
          deluxe:{name:'Deluxe (Alcohol)',price:70,range:'$63–$89/day',includes:['Alcoholic drinks up to cap']}
        }
      };
      computeAndRender();
    });

    async function loadDataset(url){
      const res = await fetch(url, {cache:'default', credentials:'omit'});
      if (!res.ok) throw new Error('dataset');
      return res.json();
    }

    // Helpers to read JSON quickly
    function priceOf(id){
      return STATE.data.items.find(x=>x.id===id)?.price ?? 0;
    }
    function setHas(setName, id){
      const arr = STATE.data?.sets?.[setName] || [];
      return arr.includes(id);
    }

    // Cost math
    function alaCarteDaily(){
      // 18% gratuity applied to each paid drink
      const g = STATE.gratuity;
      const p = STATE.picks;
      const sum =
        p.soda*priceOf('soda') +
        p.coffee*priceOf('coffee') +
        p.beer*priceOf('beer') +
        p.wine*priceOf('wine') +
        p.cocktail*priceOf('cocktail') +
        p.mocktail*priceOf('mocktail');
      return sum * (1+g);
    }

    function packageDaily(key){
      const base = effectivePkg(key).price;
      return base; // JSON says package prices already include gratuity
    }

    function coveredValuePerDay(key){
      // Value the package gives *based on user picks that are covered*
      const picks = STATE.picks;
      const coveredSets = {
        soda: ['soda'],
        refreshment: ['soda','refresh'],
        deluxe: ['soda','refresh','alcohol']
      }[key] || [];

      const want = {
        soda: picks.soda,
        coffee: picks.coffee,
        mocktail: picks.mocktail,
        beer: picks.beer,
        wine: picks.wine,
        cocktail: picks.cocktail
      };

      let value = 0;
      // soda
      if (coveredSets.some(s=>setHas(s,'soda'))) value += want.soda * priceOf('soda') * (1+STATE.gratuity);
      // coffee/mocktail
      if (coveredSets.some(s=>setHas(s,'coffee'))) value += want.coffee * priceOf('coffee') * (1+STATE.gratuity);
      if (coveredSets.some(s=>setHas(s,'mocktail'))) value += want.mocktail * priceOf('mocktail') * (1+STATE.gratuity);
      // alcohol
      if (coveredSets.some(s=>setHas(s,'beer'))) value += want.beer * priceOf('beer') * (1+STATE.gratuity);
      if (coveredSets.some(s=>setHas(s,'wine'))) value += want.wine * priceOf('wine') * (1+STATE.gratuity);
      if (coveredSets.some(s=>setHas(s,'cocktail'))) value += want.cocktail * priceOf('cocktail') * (1+STATE.gratuity);

      return value;
    }

    function dollars(n){ return '$'+(Math.round(n*100)/100).toFixed(2); }

    function effectivePkg(key){
      const base = STATE.data.packages[key];
      const ov = STATE.overrides[key] || {};
      return { ...base, price: (ov.price ?? base.price), range: (ov.range ?? base.range) };
    }

    // Render
    function computeAndRender(){
      if (!STATE.data) return;

      const days = Math.max(1, STATE.picks.days|0);
      const alaDaily = alaCarteDaily();

      const pkgKeys = ['soda','refreshment','deluxe'];
      const pkgDaily = Object.fromEntries(pkgKeys.map(k => [k, packageDaily(k)]));
      const options = [
        {key:'none', name:'à-la-carte', daily:alaDaily},
        ...pkgKeys.map(k => ({key:k, name:effectivePkg(k).name, daily:pkgDaily[k]}))
      ];
      const winner = options.reduce((a,b)=> a.daily<=b.daily? a : b);

      // Totals line
      totals.textContent = `${dollars(winner.daily)}/day • ${dollars(winner.daily*days)} trip`;

      // Banner
      banner.hidden = false;
      bannerPill.textContent = `Best value: ${winner.name}`;
      bannerText.textContent = (winner.key==='none')
        ? 'Your daily picks are cheapest without a package.'
        : `This beats à-la-carte for your current picks.`;

      // Cards
      grid.innerHTML = '';
      const frag = document.createDocumentFragment();
      ['soda','refreshment','deluxe'].forEach(key=>{
        const pkg = effectivePkg(key);
        const covered = coveredValuePerDay(key);
        const card = document.createElement('article');
        card.className = 'pkg';
        card.innerHTML = `
          <header>${pkg.name}</header>
          <div class="body">
            <div class="price">${dollars(pkg.price)}/day</div>
            ${pkg.range ? `<div class="range">range ${escapeHtml(pkg.range)}</div>`:''}
            <ul>${(pkg.includes||[]).map(li=>`<li>${escapeHtml(li)}</li>`).join('')}</ul>
            <div class="footer">
              <small class="muted">Included value from your picks: ${dollars(covered)}/day</small>
              <button class="edit-btn" data-key="${key}">Edit price</button>
            </div>
          </div>
        `;
        frag.appendChild(card);
      });
      grid.appendChild(frag);

      // edit buttons
      grid.querySelectorAll('.edit-btn').forEach(btn=>{
        btn.addEventListener('click', ()=> openEditor(btn.dataset.key));
      });
    }

    function escapeHtml(s){ return (s??'').toString().replace(/[&<>"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c])); }

    // Inline editor
    const dlg = document.getElementById('editModal');
    const form = document.getElementById('editForm');
    const fPrice = document.getElementById('editPrice');
    const fRange = document.getElementById('editRange');
    let editingKey = null;

    function openEditor(key){
      editingKey = key;
      const pkg = effectivePkg(key);
      fPrice.value = pkg.price;
      fRange.value = pkg.range || '';
      dlg.showModal();
      fPrice.focus();
    }

    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      if (!editingKey) return dlg.close();
      const price = Number(fPrice.value || 0);
      const range = fRange.value.trim();
      STATE.overrides[editingKey] = { price: isFinite(price)? price : 0, range: range || undefined };
      localStorage.setItem('itw.pkgOverrides', JSON.stringify(STATE.overrides));
      dlg.close();
      computeAndRender();
    });
    dlg.addEventListener('close', ()=>{ editingKey = null; });

  })();
  </script>
</body>
</html>
