<!--
Soli Deo Gloria
-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="ai-summary" content="First-person logbook guide to Bergen with tips for Bryggen wharf, Mount Fløyen funicular, and fish market."/>
  <meta name="last-reviewed" content="2025-11-21"/>
  <meta name="content-protocol" content="ICP-Lite v1.0"/>
  <title>Bergen Port Guide — Hanseatic Wharf & Gateway to Fjords | In the Wake</title>
  <meta name="description" content="First-person logbook guide to Bergen, Norway — colorful Bryggen wharf houses, Mount Fløyen funicular, fish market, and gateway to the fjords."/>
  <link rel="canonical" href="https://cruisinginthewake.com/ports/bergen.html"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/in_the_wake_icon_32x32.png"/>
  <!-- Service Worker Registration -->
  <script>
  if('serviceWorker' in navigator){
    window.addEventListener('load',()=>navigator.serviceWorker.register('/sw.js').catch(()=>{}));
  }
  </script>

  <link rel="stylesheet" href="/assets/styles.css"/>

  <!-- Leaflet CSS for interactive maps -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <link rel="stylesheet" href="/assets/css/components/port-map.css"/>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://cruisinginthewake.com/"},
      {"@type": "ListItem", "position": 2, "name": "Ports", "item": "https://cruisinginthewake.com/ports.html"},
      {"@type": "ListItem", "position": 3, "name": "Bergen", "item": "https://cruisinginthewake.com/ports/bergen.html"}
    ]
  }
  </script>
  <!-- LCP Optimization: Preload critical hero images -->
  <link rel="preload" as="image" href="/ports/img/bergen/bergen-1.webp" fetchpriority="high"/>
  <link rel="preload" as="image" href="/assets/logo_wake_560.png" fetchpriority="high"/>

  <!-- Swiper CSS/JS (primary + CDN fallback) -->
  <script>
  (function ensureSwiper(){
    function addCSS(h){ const l=document.createElement('link'); l.rel='stylesheet'; l.href=h; document.head.appendChild(l); }
    function addJS(src, ok, fail){
      const s=document.createElement('script'); s.src=src; s.async=true; s.onload=ok; s.onerror=fail||function(){}; document.head.appendChild(s);
    }
    const primaryCSS="https://cruisinginthewake.com/vendor/swiper/swiper-bundle.min.css";
    const primaryJS ="https://cruisinginthewake.com/vendor/swiper/swiper-bundle.min.js";
    const cdnCSS    ="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css";
    const cdnJS     ="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js";
    addCSS(primaryCSS);
    addJS(primaryJS, function(){ window.__swiperReady=true; }, function(){ addCSS(cdnCSS); addJS(cdnJS, function(){ window.__swiperReady=true; }); });
  })();
  </script>
</head>
<body class="page">
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <!-- ARIA Live Regions -->
  <div id="a11y-status" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>
  <div id="a11y-alerts" role="alert" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

  <header class="hero-header" role="banner">
    <div class="navbar">
      <div class="brand">
        <img src="/assets/logo_wake_256.png" srcset="/assets/logo_wake_256.png 1x, /assets/logo_wake_512.png 2x" width="256" height="259" alt="In the Wake wordmark" decoding="async"/>
        <span class="tiny version-badge" aria-label="Site version V1.Beta">V1.Beta</span>
      </div>
            <nav class="site-nav" aria-label="Main site navigation">
        <a class="nav-pill" href="/">Home</a>

        <!-- Planning Dropdown -->
        <div class="nav-dropdown" id="nav-planning">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Planning <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/planning.html">Planning (overview)</a>
            <a href="/ships.html">Ships</a>
            <a href="/restaurants.html">Restaurants &amp; Menus</a>
            <a href="/ports.html">Ports</a>
            <a href="/drink-packages.html">Drink Packages</a>
            <a href="/drink-calculator.html">Drink Calculator</a>
            <a href="/stateroom-check.html">Stateroom Check</a>
            <a href="/cruise-lines.html">Cruise Lines</a>
            <a href="/packing-lists.html">Packing Lists</a>
            <a href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <!-- Travel Dropdown -->
        <div class="nav-dropdown" id="nav-travel">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Travel <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/travel.html">Travel (overview)</a>
            <a href="/solo.html">Solo</a>
          </div>
        </div>

        <a class="nav-pill" href="/tools/port-tracker.html">Port Logbook</a>
        <a class="nav-pill" href="/tools/ship-tracker.html">Ship Logbook</a>
        <a class="nav-pill" href="/search.html">Search</a>
        <a class="nav-pill" href="/about-us.html">About</a>
      </nav></div>

    <!-- Hero -->
    <div class="hero">
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.010.400" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake_560.png" srcset="/assets/logo_wake_560.png 1x, /assets/logo_wake_1120.png 2x" alt="In the Wake" decoding="async" fetchpriority="high" width="560" height="567"/>
      </div>
      <div class="tagline" aria-hidden="true">A Cruise Traveler's Logbook</div>
      <div class="hero-credit">
        <a class="pill" href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Photo © Flickers of Majesty</a>
      </div>
    </div>
  </header>

  <main class="wrap page-grid" id="main-content" role="main">
    <nav aria-label="Breadcrumb" style="margin-bottom: 1rem;"><ol style="list-style: none; padding: 0; margin: 0; font-size: 0.9rem; color: #666;"><li style="display: inline;"><a href="/">Home</a> &rsaquo; </li><li style="display: inline;"><a href="/ports.html">Ports</a> &rsaquo; </li><li style="display: inline;" aria-current="page">Bergen</li></ol></nav>
    <div style="grid-column: 1; grid-row: 1;">
    <article class="card">
      <!-- Port Hero Image -->
      <div class="port-hero-container" style="position: relative; margin-bottom: 1.5rem; border-radius: 12px; height: 280px; overflow: hidden;">
        <img src="/ports/img/bergen/bergen-1.webp" alt="Bergen - Heart of the Fjords with colorful waterfront" style="width: 100%; height: 100%; object-fit: cover;" fetchpriority="high"/>
        <div class="port-name-overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; background: linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.4) 100%);">
          <span style="font-family: 'Palatino Linotype', 'Book Antiqua', Palatino, Georgia, serif; font-size: clamp(2.5rem, 10vw, 5rem); font-weight: 700; color: #fff; text-shadow: 2px 2px 8px rgba(0,0,0,0.6), 0 0 40px rgba(0,0,0,0.4); letter-spacing: 0.08em; text-transform: uppercase;">Bergen</span>
        </div>
      </div>

      <h1>Bergen: My Gateway to the Fjords</h1>
      <div class="logbook-entry">
        <img class="inline-image" src="/ports/img/bergen/bergen-2.webp" alt="View over Store Lungegårdsvann in Bergen" loading="lazy"/>
        <p>We sailed into the harbor at dawn, and I understood immediately why they call this the "city between seven mountains" – Bergen sits cradled in the space where Norway's two largest fjords almost meet, with peaks rising on every side like cathedral walls. Bryggen's crooked wooden façades glowed like gingerbread against the mist, their foundations reaching back nine hundred years to Viking trading posts. King Olav Kyrre declared this a proper city in 1070, and for over two centuries Bergen served as Norway's capital until Oslo claimed that honor in 1299. The wharf we see today – a UNESCO World Heritage Site since 1979 – tells the story of the Hanseatic League, those German merchants who arrived in 1350 and built a commercial empire on dried cod from the Lofoten Islands. This was their only overseas office to survive into our time, the last of four scattered across the North Atlantic. The great fire of 1702 consumed most of the medieval timbers, but down in the stone cellars you can still touch walls from the 1400s, cool and damp and impossibly old.</p>

      <figure class="logbook-image float-right">
        <img src="img/bergen/bergen-1.webp" alt="Bergen harbor view" loading="lazy">
        <figcaption>Bergen — <a href="https://commons.wikimedia.org/w/index.php?search=Bergen&title=Special:MediaSearch&type=image" target="_blank" rel="noopener">WikiMedia Commons</a> (CC BY-SA)</figcaption>
      </figure>

        <img class="inline-image-left" src="/ports/img/bergen/bergen-3.webp" alt="Bergen panorama from the mountains" loading="lazy"/>
        <p>The fish market has opened every single day for over eight centuries – I watched vendors arrange smoked salmon and caviar and fat pink shrimp on ice at dawn, the same choreography their ancestors performed in wooden stalls on this exact spot. We had lunch standing up: grilled seafood platters and fish soup so rich it tasted like the sea had been distilled into a bowl, washed down with Aquavit that burned like Christmas morning. Afterward I rode the Fløibanen funicular, that six-minute lift to heaven that's been hauling pilgrims up Mount Fløyen since 1901. From the summit I could see why Bergen became Norway's largest cruise port – it's the gateway to the fjords, and on clear days you can almost see the Mostraumen strait where cliffs plunge into narrow water and waterfalls tumble straight from snowmelt to salt. Down at the waterfront, Bergenhus Fortress hunches against the harbor like it has since the 13th century, its medieval banquet hall – Håkonshallen, built for King Håkon Håkonsson – still the largest secular building to survive from Norway's Middle Ages.</p>

        <p>Bergen limits itself to four cruise ships and eight thousand passengers per day now, a gentleness I appreciate. The city rains a lot (it did, three times during our visit), but every shower left rainbows over the fjord and made the colors pop even more brilliantly. The pros: compact, ridiculously pretty, genuinely Norwegian, and steeped in history you can touch with your hands. The cons: that rain is real, but the Norwegians just smile and keep walking, and after a day I found myself doing the same.</p>

        <div class="poignant-highlight">
          <strong>The Moment That Stays With Me:</strong> Standing on Fløyen in complete silence while low cloud poured over the ridge like dry ice and the first sunbeam hit Bryggen far below, turning the whole city gold for exactly thirty perfect seconds.
        </div>
      </div>

      <section class="port-section">
        <h3>Getting Around Bergen</h3>
        <p>Ship docks 5-minute walk <span class="distance-fun">approximately 33 school buses, 16 blue whales end-to-end, or 352 emperor penguins stacked skyward</span> from the fish market and Bryggen. Everything is walkable or quick funicular ride.</p>
      </section>

      <section class="port-section">
        <h3>Depth Soundings Ashore</h3>
        <p class="tiny" style="margin-bottom: 0.5rem; font-style: italic; color: #678;">Practical tips before you step off the ship.</p>
        <p>Bergen's weather changes every ten minutes – a light rain jacket lives in my day bag and has never once been unnecessary.</p>

      <figure class="logbook-image float-left">
        <img src="img/bergen/bergen-2.webp" alt="Bergen waterfront" loading="lazy">
        <figcaption>Bergen scenery — <a href="https://commons.wikimedia.org/w/index.php?search=Bergen&title=Special:MediaSearch&type=image" target="_blank" rel="noopener">WikiMedia Commons</a> (CC BY-SA)</figcaption>
      </figure>
      </section>

      <section class="port-section">
        <h3>Frequently Asked Questions</h3>
        <p><strong>Q: Is Bergen worth it?</strong><br/>A: The prettiest city in Norway, full stop.</p>
        <p><strong>Q: Best thing?</strong><br/>A: Fløibanen funicular + Bryggen wander.</p>
        <p><strong>Q: How long on Fløyen?</strong><br/>A: 2–3 hours including short hike.</p>
        <p><strong>Q: Walk from port?</strong><br/>A: Yes – right into the postcard.</p>
      </section>

      <!-- Photo Gallery -->
      <section class="port-section" style="background: transparent; border: none; padding: 0;">
        <h3>Bergen Gallery</h3>
        <div class="gallery-grid">
          <figure class="gallery-item">
            <img src="/ports/img/bergen/bergen-5.webp" alt="Bergen waterfront view" loading="lazy"/>
            <figcaption>
              Bergen's iconic waterfront where colorful wooden houses meet the harbor.
              <div class="photo-credit">Photo: <a href="https://commons.wikimedia.org/wiki/File:Bergen_(24654157362).jpg" target="_blank" rel="noopener">Wikimedia Commons</a> (CC BY 2.0)</div>
            </figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="/ports/img/bergen/bergen-6.webp" alt="Bergen harbor panorama" loading="lazy"/>
            <figcaption>
              Seven mountains surround Bergen, earning it the nickname "City Between Seven Mountains."
              <div class="photo-credit">Photo: <a href="https://commons.wikimedia.org/wiki/File:Bergen_(24654170912).jpg" target="_blank" rel="noopener">Wikimedia Commons</a> (CC BY 2.0)</div>
            </figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="/ports/img/bergen/bergen-7.webp" alt="Bergen fjord islands" loading="lazy"/>
            <figcaption>
              The fjords and islands around Bergen offer endless natural beauty.
              <div class="photo-credit">Photo: <a href="https://commons.wikimedia.org/wiki/File:2010-08-06_-_Bergen_-_Panoramafahrt_-_Inseln_und_Fjorde_-_panoramio_(1).jpg" target="_blank" rel="noopener">Wikimedia Commons</a> (CC BY-SA 3.0)</div>
            </figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="/ports/img/bergen/bergen-8.webp" alt="Bergen coastal panorama" loading="lazy"/>
            <figcaption>
              Cruising the waters around Bergen reveals Norway's stunning coastal landscape.
              <div class="photo-credit">Photo: <a href="https://commons.wikimedia.org/wiki/File:2010-08-06_-_Bergen_-_Panoramafahrt_-_Inseln_und_Fjorde_-_panoramio.jpg" target="_blank" rel="noopener">Wikimedia Commons</a> (CC BY-SA 3.0)</div>
            </figcaption>
          </figure>
        </div>
      </section>

    <!-- Interactive Port Map -->
    <section class="port-section port-map-section" id="port-map-section">
      <h3>Bergen Port Map</h3>
      <p class="map-intro">Interactive map showing cruise terminal and Bergen attractions. Click any marker for details.</p>
      <div id="bergen-port-map" class="port-map-container" role="application" aria-label="Interactive map of Bergen port and points of interest">
        <noscript>
          <p style="padding: 2rem; text-align: center; color: #678;">
            Interactive map requires JavaScript. <a href="https://www.openstreetmap.org/?mlat=60.3975&mlon=5.3200#map=14/60.39/5.33" target="_blank" rel="noopener">View on OpenStreetMap</a>.
          </p>
        </noscript>
      </div>
      <div class="port-map-actions">
        <button type="button" class="btn btn-secondary" onclick="document.getElementById('bergen-port-map')._portMap?.fitBounds(document.getElementById('bergen-port-map')._portMap.getBounds())">
          Reset View
        </button>
      </div>
    </section>

    <!-- Photo Gallery Section -->
    <section class="port-section photo-gallery">
      <h2>Photo Gallery</h2>
      <div class="gallery-grid">
        <figure class="gallery-item">
          <img src="img/bergen/bergen-1.webp" alt="Harbor view of Bergen" loading="lazy">
          <figcaption>
            Harbor view of Bergen
            <div class="photo-credit">Photo: WikiMedia Commons</div>
          </figcaption>
        </figure>
        <figure class="gallery-item">
          <img src="img/bergen/bergen-2.webp" alt="Waterfront of Bergen" loading="lazy">
          <figcaption>
            Waterfront of Bergen
            <div class="photo-credit">Photo: WikiMedia Commons</div>
          </figcaption>
        </figure>
        <figure class="gallery-item">
          <img src="img/bergen/bergen-3.webp" alt="Port panorama of Bergen" loading="lazy">
          <figcaption>
            Port panorama of Bergen
            <div class="photo-credit">Photo: WikiMedia Commons</div>
          </figcaption>
        </figure>
        <figure class="gallery-item">
          <img src="img/bergen/bergen-4.webp" alt="Coastal landscape of Bergen" loading="lazy">
          <figcaption>
            Coastal landscape of Bergen
            <div class="photo-credit">Photo: WikiMedia Commons</div>
          </figcaption>
        </figure>
        <figure class="gallery-item">
          <img src="img/bergen/bergen-5.webp" alt="Harbor view of Bergen" loading="lazy">
          <figcaption>
            Harbor view of Bergen
            <div class="photo-credit">Photo: WikiMedia Commons</div>
          </figcaption>
        </figure>
        <figure class="gallery-item">
          <img src="img/bergen/bergen-6.webp" alt="Waterfront of Bergen" loading="lazy">
          <figcaption>
            Waterfront of Bergen
            <div class="photo-credit">Photo: WikiMedia Commons</div>
          </figcaption>
        </figure>
        <figure class="gallery-item">
          <img src="img/bergen/bergen-7.webp" alt="Port panorama of Bergen" loading="lazy">
          <figcaption>
            Port panorama of Bergen
            <div class="photo-credit">Photo: WikiMedia Commons</div>
          </figcaption>
        </figure>
        <figure class="gallery-item">
          <img src="img/bergen/bergen-8.webp" alt="Coastal landscape of Bergen" loading="lazy">
          <figcaption>
            Coastal landscape of Bergen
            <div class="photo-credit">Photo: WikiMedia Commons</div>
          </figcaption>
        </figure>
      </div>
    </section>

    <!-- Image Credits Section -->
    <section class="port-section image-credits">
      <h2>Image Credits</h2>
      <ul>
        <li><strong>bergen-1.webp</strong>: WikiMedia Commons (CC BY-SA)</li><li><strong>bergen-2.webp</strong>: WikiMedia Commons (CC BY-SA)</li><li><strong>bergen-3.webp</strong>: WikiMedia Commons (CC BY-SA)</li><li><strong>bergen-4.webp</strong>: WikiMedia Commons (CC BY-SA)</li><li><strong>bergen-5.webp</strong>: WikiMedia Commons (CC BY-SA)</li><li><strong>bergen-6.webp</strong>: WikiMedia Commons (CC BY-SA)</li><li><strong>bergen-7.webp</strong>: WikiMedia Commons (CC BY-SA)</li><li><strong>bergen-8.webp</strong>: WikiMedia Commons (CC BY-SA)</li>
      </ul>
      <p><em>Images sourced from WikiMedia Commons under Creative Commons licenses.</em></p>
    </section>
</article>
  </div>
  <aside class="rail" style="grid-column: 2; grid-row: 1; align-self: start;">
    <!-- Key Facts -->
    <section class="page-intro" style="margin: 0 0 1rem 0;">
      <p class="answer-line" style="margin: 0.75rem 0; padding: 0.5rem 0.75rem; border-left: 3px solid var(--rope, #d9b382); background: #f7fdff; border-radius: 8px;">
        <strong>Quick Answer:</strong> Bergen is seven mountains, colorful Hanseatic wharf houses, and rain that somehow makes everything more beautiful – the gateway to the fjords.
      </p>
    </section>

        <section class="card author-card-vertical" aria-labelledby="author-heading">
      <h3 id="author-heading">About the Author</h3>
      <a href="/authors/ken-baker.html" aria-label="View Ken Baker's profile">
        <picture>
          <source srcset="/authors/img/ken1.webp?v=3.010.400" type="image/webp"/>
          <img class="author-avatar" src="/authors/img/ken1_96.webp" srcset="/authors/img/ken1_96.webp 1x, /authors/img/ken1_192.webp 2x" width="96" height="96" alt="Author photo" decoding="async" loading="lazy"/>
        </picture>
      </a>
      <h4><a href="/authors/ken-baker.html">Ken Baker</a></h4>
      <p class="tiny">Founder of In the Wake; writer and editor of the logbook.</p>
      <p class="tiny">
        <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a>
      </p>
    </section>

    <!-- Nearby Ports Rail -->
    <section class="card" aria-labelledby="nearby-ports-title">
        <h3 id="nearby-ports-title">Nearby Ports</h3>
        <p class="tiny" style="margin-bottom: 0.75rem; color: var(--ink-mid, #3d5a6a); line-height: 1.5;">
          Other ports in this region:
        </p>
        <div id="nearby-ports" class="rail-list" aria-live="polite"></div>
      </section>

      <!-- Recent Articles rail -->
      <section style="grid-column: 1;" class="card" aria-labelledby="recent-rail-title">
        <h3 id="recent-rail-title">Recent Stories</h3>
        <p class="tiny" style="margin-bottom: 1rem; color: var(--ink-mid, #3d5a6a); line-height: 1.5;">
          Real cruising experiences, practical guides, and heartfelt reflections from our community. Explore stories that inform, inspire, and connect.
        </p>
        <div id="recent-rail" class="rail-list" aria-live="polite"></div>
        <p id="recent-rail-fallback" class="tiny" style="display:none">Loading articles…</p>
      </section>
    
  
    <!-- Whimsical Distance Units -->
    <section class="card" id="whimsical-units-container" style="background:#f7fdff;border:1px solid #e0f0f5;border-radius:12px;padding:1.25rem;">
    </section>

  </aside>

    <p style="margin-top: 2rem;"><a href="/ports.html">&larr; Back to Ports Guide</a></p>

    <!-- Image Attribution Section -->
    <section class="card" style="margin-top: 2rem; background: #f7fdff;">
      <h3>Image Credits</h3>
      <p class="tiny" style="margin-bottom: 0.75rem;">The following images are used under Creative Commons licenses:</p>
      <ul class="tiny" style="line-height: 1.8; padding-left: 1.25rem;">
        <li><strong>Bergen Heart of Fjords:</strong> Photo from <a href="https://commons.wikimedia.org/wiki/File:%22Bergen,_das_Herz_der_Fjorde%22_09.jpg" target="_blank" rel="noopener">Wikimedia Commons</a>, used under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener">CC BY-SA 3.0</a></li>
        <li><strong>Store Lungegårdsvann View:</strong> Photo from <a href="https://commons.wikimedia.org/wiki/File:00_4400_View_over_the_store_Lungeg%C3%A5rdsvann_-_Bergen_(Norway).jpg" target="_blank" rel="noopener">Wikimedia Commons</a>, used under <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener">CC BY-SA 4.0</a></li>
        <li><strong>Bergen Panorama:</strong> Photo from <a href="https://commons.wikimedia.org/wiki/File:2010-08-06_-_Bergen_-_Panorama_-_panoramio_(1).jpg" target="_blank" rel="noopener">Wikimedia Commons</a>, used under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener">CC BY-SA 3.0</a></li>
        <li><strong>Bergen Waterfront:</strong> Photos from <a href="https://commons.wikimedia.org/wiki/Category:Views_of_Bergen,_Norway" target="_blank" rel="noopener">Wikimedia Commons Bergen views</a>, used under <a href="https://creativecommons.org/licenses/by/2.0/" target="_blank" rel="noopener">CC BY 2.0</a></li>
        <li><strong>Fjord Islands:</strong> Photo from <a href="https://commons.wikimedia.org/wiki/File:2010-08-06_-_Bergen_-_Panoramafahrt_-_Inseln_und_Fjorde_-_panoramio.jpg" target="_blank" rel="noopener">Wikimedia Commons</a>, used under <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener">CC BY-SA 3.0</a></li>
      </ul>
    </section>
  </main>
    <footer class="wrap" role="contentinfo">
    <p>© 2025 In the Wake · A Cruise Traveler's Logbook · All rights reserved.</p>
    <p class="tiny" style="margin-top: 0.5rem;">
      <a href="/privacy.html">Privacy</a> ·
      <a href="/terms.html">Terms</a> ·
      <a href="/about-us.html">About</a> ·
      <a href="/accessibility.html">Accessibility &amp; WCAG 2.1 AA Commitment</a>
    </p>
    <p class="tiny center" style="opacity:0;position:absolute;pointer-events:none;" aria-hidden="true">Soli Deo Gloria — Every pixel and part of this project is offered as worship to God, in gratitude for the beautiful things He has created for us to enjoy. ✝️</p>
  </footer>

  <script>
    // Load recent articles
    (async function() {
      try {
        const response = await fetch('/assets/data/articles/index.json');
        const articles = await response.json();
        const rail = document.getElementById('recent-rail');

        if (rail && articles && articles.length > 0) {
          rail.innerHTML = articles.slice(0, 5).map(article => `
            <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e0e8f0;">
              <h4 style="margin: 0 0 0.25rem; font-size: 0.95rem;">
                <a href="${article.url}">${article.title}</a>
              </h4>
              <p style="margin: 0; font-size: 0.8rem; color: #666;">${article.date}</p>
            </div>
          `).join('');
        }
      } catch (err) {
        console.log('Could not load articles:', err);
      }
    })();
  </script>

  <script>
  (function(){
    "use strict";

    /* ===== Recent Articles Rail ===== */
    (async function recentRail(){
      const rail = document.getElementById('recent-rail');
      if(!rail) return;

      const fallback = document.getElementById('recent-rail-fallback');
      if(fallback) fallback.style.display = '';

      async function fetchJSONWithFallback(urls){
        for (const u of urls){
          try{
            const res = await fetch(u, { credentials: 'omit', cache: 'no-cache' });
            if (res.ok) return await res.json();
          }catch(err){

          }
        }
        return null;
      }

      const pick = (obj, keys, fallback=null)=>{ for(const k of keys){ if(obj && obj[k] != null) return obj[k]; } return fallback; };

      function setImageWithFallback(imgEl, primary, altPaths=[]){
        if(!imgEl) return;
        const stamp='v=3.010.400';
        const tried=new Set();
        const queue=[primary,...altPaths].filter(Boolean).map(p => p.includes('?')?p+'&'+stamp:p+'?'+stamp);
        function tryNext(){
          const next=queue.shift();
          if(!next){ imgEl.removeAttribute && imgEl.removeAttribute('onerror'); return; }
          if(tried.has(next)) return tryNext();
          tried.add(next);
          imgEl.src=next;
        }
        imgEl.onerror=tryNext;
        tryNext();
      }

      const raw = await fetchJSONWithFallback(['/assets/data/articles/index.json','/assets/data/articles.json']);
      if(!raw) {
        if(fallback) {
          fallback.textContent = 'Unable to load articles';
          fallback.style.display = '';
        }
        return;
      }

      const items = Array.isArray(raw?.articles) ? raw.articles : (Array.isArray(raw) ? raw : []);
      if(!items.length) return;

      const here = location.pathname.replace(/\/+$/,'');
      const view = items.filter(p=>{
        const href = pick(p,['url','path'],'#');
        const norm = (href||'').replace(/\/+$/,'');
        return norm && norm !== here;
      }).slice(0,6);

      rail.innerHTML = view.map(p=>{
        const title = pick(p,['title','name'],'Article');
        const href  = pick(p,['url','path'],'#');
        const excerpt = pick(p,['excerpt','description'],'');
        return `
          <article class="card article-card">
            <div class="article-card-grid">
              <div class="article-thumb-wrap">
                <img class="article-thumb" alt="" decoding="async" loading="lazy">
              </div>
              <div class="article-card-body">
                <h4><a href="\${href}">\${title}</a></h4>
                \${excerpt ? `<p class="tiny excerpt">\${excerpt}</p>` : ''}
              </div>
            </div>
            <a href="\${href}" class="pill read-more">Read Article →</a>
          </article>`;
      }).join('');

      const cards = [...rail.querySelectorAll('article.card')];
      cards.forEach((card,i)=>{
        const p = view[i] || {};
        const el = card.querySelector('img.article-thumb');
        const href  = (pick(p,['url','path'],'')||'').toLowerCase();
        const title = (pick(p,['title','name'],'')||'').toLowerCase();

        let primary = pick(p, ['thumb','thumbnail','image','cover','img'], null);

        // FORCE override for Top-20
        if (/(top-20|first-?cruise-?questions)/.test(href) || /top\s*20.*first.*cruise.*questions/.test(title)){
          primary = '/assets/articles/thumbs/top-20-questions/cover.webp';
        }
        // Friendly specifics
        if(!primary && (/freedom-of-your-own-wake/.test(href) || /freedom of your own wake/.test(title))){
          primary = '/assets/articles/thumbs/freedom-of-your-own-wake.webp';
        }
        if(!primary && (/why-i-started-solo-cruising/.test(href) || /why i started solo cruising/.test(title))){
          primary = '/assets/articles/thumbs/why-i-started-solo-cruising.webp';
        }
        if(!primary && (/\/travel(\.html)?$/.test(href) || /\btravel\b/.test(title))){
          primary = '/assets/articles/travel/cover.jpg';
        }

        // Heuristic fallback
        if(!primary){
          const slugify = s => (s||'').toLowerCase().replace(/https?:\/\/[^/]+/,'').replace(/[#?].*$/,'').split('/').filter(Boolean).pop()||'';
          const guess = slugify(href) || slugify(title);
          if(guess) primary = `/assets/articles/\${guess}/cover.jpg`;
        }

        const alts = [];
        if(primary){
          const base = primary.replace(/\.(jpg|jpeg|png|webp)$/i,'');
          alts.push(`\${base}.webp`, `\${base}.JPG`, `\${base}.webp`, `\${base}.png`);
        }
        setImageWithFallback(el, primary || '/assets/index_hero.webp', alts);
      });

      if(fallback) fallback.style.display = 'none';

      // Announce to screen readers
      const status = document.getElementById('a11y-status');
      if(status) {
        status.textContent = `\${view.length} recent articles loaded`;
      }
    })();
  })();
  </script>
<!-- Navigation dropdown functionality -->
    <!-- Navigation dropdown functionality (New Clean Implementation) -->
  <script>
  (function() {
    'use strict';
    var dropdowns = document.querySelectorAll('.nav-dropdown');
    function toggleDropdown(dropdown) {
      var isOpen = dropdown.classList.contains('open');
      closeAllDropdowns();
      if (!isOpen) {
        dropdown.classList.add('open');
        var btn = dropdown.querySelector('button');
        if (btn) btn.setAttribute('aria-expanded', 'true');
      }
    }
    function closeAllDropdowns() {
      dropdowns.forEach(function(dd) {
        dd.classList.remove('open');
        var btn = dd.querySelector('button');
        if (btn) btn.setAttribute('aria-expanded', 'false');
      });
    }
    dropdowns.forEach(function(dropdown) {
      var btn = dropdown.querySelector('button');
      if (btn) {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          toggleDropdown(dropdown);
        });
        btn.addEventListener('keydown', function(e) {
          if (e.key === 'Escape') { closeAllDropdowns(); btn.focus(); }
          if (e.key === 'ArrowDown') {
            e.preventDefault();
            dropdown.classList.add('open');
            btn.setAttribute('aria-expanded', 'true');
            var firstLink = dropdown.querySelector('.dropdown-menu a');
            if (firstLink) firstLink.focus();
          }
        });
      }
      var menu = dropdown.querySelector('.dropdown-menu');
      if (menu) {
        menu.addEventListener('keydown', function(e) {
          if (e.key === 'Escape') { closeAllDropdowns(); if (btn) btn.focus(); }
        });
      }
    });
    document.addEventListener('click', function(e) {
      var isInsideDropdown = false;
      dropdowns.forEach(function(dd) { if (dd.contains(e.target)) isInsideDropdown = true; });
      if (!isInsideDropdown) closeAllDropdowns();
    });
  })();
  </script>

  <!-- Nearby Ports Script -->
  <script>window.currentPortId = 'bergen';</script>
  <script src="/assets/js/nearby-ports.js"></script>

  <!-- Whimsical Distance Units Script -->
  <script src="/assets/js/whimsical-port-units.js"></script>

  <!-- Leaflet JS for interactive maps -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script src="/assets/js/modules/port-map.js"></script>

  <!-- Initialize Bergen Port Map -->
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof PortMap !== 'undefined' && typeof L !== 'undefined') {
      PortMap.init({
        containerId: 'bergen-port-map',
        portSlug: 'bergen'
      });
    }
  });
  </script>

</body>
</html>
