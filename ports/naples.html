<!--
Soli Deo Gloria
All work on this project is offered as a gift to God.
"Trust in the LORD with all your heart, and do not lean on your own understanding." — Proverbs 3:5
"Whatever you do, work heartily, as for the Lord and not for men." — Colossians 3:23
-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="referrer" content="no-referrer-when-downgrade"/>

  <!-- ICP-Lite v1.0 -->
  <meta name="ai-summary" content="First-person logbook guide to Naples with tips for visiting Pompeii, the Amalfi Coast, Sorrento, and experiencing authentic Neapolitan pizza."/>
  <meta name="last-reviewed" content="2025-11-19"/>
  <meta name="content-protocol" content="ICP-Lite v1.0"/>

  <!-- SEO -->
  <title>Naples Port Guide — Pompeii & Amalfi Coast | In the Wake</title>
  <meta name="description" content="First-person logbook guide to Naples — gateway to Pompeii, the Amalfi Coast, and Sorrento. Tips for exploring Naples and eating authentic pizza."/>
  <link rel="canonical" href="https://cruisinginthewake.com/ports/naples.html"/>

  <!-- OpenGraph -->
  <meta property="og:type" content="article"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:title" content="Naples Port Guide"/>
  <meta property:og:description" content="First-person logbook guide to Naples from a cruise traveler's perspective."/>
  <meta property="og:url" content="https://cruisinginthewake.com/ports/naples.html"/>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/in_the_wake_icon_32x32.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png"/>

  <!-- Global CSS -->
  <!-- Service Worker Registration -->
  <script>
  if('serviceWorker' in navigator){
    window.addEventListener('load',()=>navigator.serviceWorker.register('/sw.js').catch(()=>{}));
  }
  </script>

  <link rel="stylesheet" href="/assets/styles.css"/>

  <!-- JSON-LD: BreadcrumbList -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://cruisinginthewake.com/"},
      {"@type": "ListItem", "position": 2, "name": "Ports", "item": "https://cruisinginthewake.com/ports.html"},
      {"@type": "ListItem", "position": 3, "name": "Naples", "item": "https://cruisinginthewake.com/ports/naples.html"}
    ]
  }
  </script>

  <!-- JSON-LD: WebPage -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Naples Port Guide",
    "url": "https://cruisinginthewake.com/ports/naples.html",
    "description": "First-person logbook guide to Naples with tips for visiting Pompeii, the Amalfi Coast, and Sorrento."
  }
  </script>

  <style>
    /* Page Grid Layout (2-column with right rail) */
    .page-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
      align-items: start;
    }

    @media (min-width: 980px) {
      .page-grid {
        grid-template-columns: 1fr 360px;
      }
    }

    .rail {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .rail-list {
      display: grid;
      gap: 1rem;
    }

    .logbook-entry {
      font-size: 1.05rem;
      line-height: 1.8;
      color: #134;
    }
    .logbook-entry p {
      margin-bottom: 1.25rem;
    }
    .poignant-highlight {
      background: linear-gradient(135deg, #f0f9ff 0%, #e6f4f8 100%);
      border-left: 4px solid var(--accent, #0e6e8e);
      padding: 1.25rem 1.5rem;
      margin: 1.5rem 0;
      border-radius: 0 12px 12px 0;
      font-style: italic;
    }
    .port-section {
      margin: 2rem 0;
      padding: 1.25rem;
      background: #f7fdff;
      border-radius: 12px;
      border: 1px solid #e0f0f5;
    }
    .port-section h3 {
      margin-top: 0;
      color: var(--sea, #0a3d62);
    }
  
    .author-card-vertical {
      text-align: center;
    }
    .author-card-vertical .author-avatar {
      width: 96px;
      height: 96px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto 1rem;
    }
    .author-card-vertical h4 {
      margin: 0.5rem 0 0.25rem;
    }
    .author-card-vertical p {
      margin: 0.25rem 0;
    }
  </style>

  <!-- LCP Optimization: Preload critical hero images -->
  <link rel="preload" as="image" href="/assets/logo_wake_560.png" fetchpriority="high"/>
  <link rel="preload" as="image" href="/assets/compass_rose.svg?v=3.010.300" fetchpriority="high"/>
</head>
<body class="page">
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <!-- ARIA Live Regions -->
  <div id="a11y-status" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>
  <div id="a11y-alerts" role="alert" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

  <header class="hero-header" role="banner">
    <div class="navbar">
      <div class="brand">
        <img src="/assets/logo_wake_256.png" srcset="/assets/logo_wake_256.png 1x, /assets/logo_wake_512.png 2x" width="256" height="259" alt="In the Wake wordmark" decoding="async"/>
        <span class="tiny version-badge" aria-label="Site version 3.010.300">v3.010.300</span>
      </div>
            <nav class="site-nav" aria-label="Main site navigation">
        <a class="nav-pill" href="/">Home</a>

        <!-- Planning Dropdown -->
        <div class="nav-dropdown" id="nav-planning">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Planning <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/planning.html">Planning (overview)</a>
            <a href="/ships.html">Ships</a>
            <a href="/restaurants.html">Restaurants &amp; Menus</a>
            <a href="/ports.html">Ports</a>
            <a href="/drink-packages.html">Drink Packages</a>
            <a href="/drink-calculator.html">Drink Calculator</a>
            <a href="/stateroom-check.html">Stateroom Check</a>
            <a href="/cruise-lines.html">Cruise Lines</a>
            <a href="/packing-lists.html">Packing Lists</a>
            <a href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <!-- Travel Dropdown -->
        <div class="nav-dropdown" id="nav-travel">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Travel <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/travel.html">Travel (overview)</a>
            <a href="/solo.html">Solo</a>
          </div>
        </div>

        <a class="nav-pill" href="/tools/port-tracker.html">Port Logbook</a>
        <a class="nav-pill" href="/tools/ship-tracker.html">Ship Logbook</a>
        <a class="nav-pill" href="/search.html">Search</a>
        <a class="nav-pill" href="/about-us.html">About</a>
      </nav></div>

    <!-- Hero -->
    <div class="hero">
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.010.300" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake_560.png" srcset="/assets/logo_wake_560.png 1x, /assets/logo_wake_1120.png 2x" alt="In the Wake" decoding="async" fetchpriority="high" width="560" height="567"/>
      </div>
      <div class="tagline" aria-hidden="true">A Cruise Traveler's Logbook</div>
      <div class="hero-credit">
        <a class="pill" href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Photo © Flickers of Majesty</a>
      </div>
    </div>
  </header>

  <main class="wrap page-grid" id="main-content" role="main">
    <!-- Breadcrumb -->
    <nav aria-label="Breadcrumb" style="margin-bottom: 1rem;">
      <ol style="list-style: none; padding: 0; margin: 0; font-size: 0.9rem; color: #666;">
        <li style="display: inline;"><a href="/">Home</a> &rsaquo; </li>
        <li style="display: inline;"><a href="/ports.html">Ports</a> &rsaquo; </li>
        <li style="display: inline;" aria-current="page">Naples</li>
      </ol>
    </nav>

    <!-- ICP-Lite Quick Answer -->
    <section class="page-intro" style="grid-column: 2; grid-row: 1; margin-bottom: 1.5rem;">
      <p class="answer-line" style="margin: 0.75rem 0; padding: 0.5rem 0.75rem; border-left: 3px solid var(--rope, #d9b382); background: #f7fdff; border-radius: 8px;">
        <strong>Quick Answer:</strong> Naples is the gateway to Pompeii (30 min), the Amalfi Coast, and Sorrento. The city itself offers world-class pizza, the National Archaeological Museum, and authentic Italian chaos. Ships dock at Stazione Marittima, near the historic center.
      </p>
    </section>

    <div style="grid-column: 1;">
    <article class="card">
      <!-- Port Hero with gradient background -->
      <div class="port-hero-container" style="position: relative; margin-bottom: 1.5rem; background: linear-gradient(135deg, #b22222 0%, #cd853f 35%, #4169e1 70%, #00b4d8 100%); border-radius: 12px; height: 280px; display: flex; align-items: center; justify-content: center;">
        <div class="port-name-overlay" style="font-family: 'Palatino Linotype', 'Book Antiqua', Palatino, Georgia, serif; font-size: clamp(2.5rem, 10vw, 5rem); font-weight: 700; color: #fff; text-shadow: 2px 2px 8px rgba(0,0,0,0.5), 0 0 40px rgba(0,0,0,0.3); letter-spacing: 0.08em; text-transform: uppercase; text-align: center;">Naples</div>
      </div>

      <h1>Naples: Pizza, Pompeii, and Controlled Chaos</h1>

      <div class="logbook-entry">
        <p>Naples will assault your senses. That's not a warning — it's a promise. Within minutes of stepping off the ship, you'll be surrounded by Vespas weaving through pedestrians, shop owners calling out, the smell of pizza dough and diesel, laundry hanging between baroque churches, and a general glorious mayhem that feels more genuine than anywhere else in Italy. Naples is loud, gritty, overwhelming, and absolutely magnificent.</p>

        <p>I've been to Naples twice on Mediterranean itineraries, and both times I faced the same dilemma every cruiser faces: Pompeii, Amalfi Coast, or Naples itself? The answer, frustratingly, is that they're all unmissable. You can't do all three properly in one port day. So you choose, and you promise yourself you'll come back for the rest.</p>

        <p>My first visit, I chose Pompeii. The Circumvesuviana train from Naples Central Station is the cheapest way there — €3.90 each way, 35 minutes — though it's notoriously rough around the edges (watch your belongings). The ruins, when I arrived, silenced every criticism. Here was a Roman city frozen in time by Vesuvius in 79 CE: streets with stepping stones for pedestrians to cross without stepping in waste, taverns with painted menus on the walls, a brothel with explicit frescoes to help patrons select services, a bakery with mills and oven intact. I walked the main streets, peered into homes where families died huddled together, and stood in the amphitheater imagining gladiatorial combat. It's enormous — plan at least 3–4 hours and bring water, because there's little shade.</p>

        <p>My second visit, I did a ship excursion to the Amalfi Coast and Sorrento. The drive along that coastline — hairpin turns carved into cliffs above a turquoise sea — was worth it alone. We stopped in Positano, that famous cascade of pastel houses, and I understood why artists have been coming here for centuries. Sorrento was more refined, with its lemon groves and views across the Bay of Naples to Vesuvius. But the excursion was rushed, as ship excursions to the Amalfi Coast always are. You get a taste, not a meal. To really experience it, you'd need to stay overnight.</p>

        <p>What I didn't do on those first visits — and regret — was spend real time in Naples itself. On my third visit (someday), I've promised myself to do exactly that. The city deserves it. The National Archaeological Museum houses the finest Roman artifacts in existence, including the erotic art and mosaics from Pompeii. The Spaccanapoli — that narrow street that "splits Naples" through the historic center — is lined with churches, workshops, nativity scene artisans, and pizza shops. The underground tunnels (Napoli Sotterranea) reveal Greek and Roman passages beneath the modern city.</p>

        <p>And then there's the pizza. Naples invented pizza. Not as a brand claim but as historical fact — this is where the Margherita was created for Queen Margherita of Savoy in 1889. The pizza here is different from what you get anywhere else: a soft, charred crust with the center nearly soupy with San Marzano tomatoes and buffalo mozzarella. I ate mine at a place near Via dei Tribunali where locals lined up, standing at the counter because there were no tables. It was the best pizza I've ever had, and it cost €5.</p>

        <div class="poignant-highlight">
          <strong>The Moment That Stays With Me:</strong> Standing in the Forum of Pompeii at the exact spot where Roman citizens once gathered, looking up at Vesuvius smoking gently on the horizon. The same volcano that destroyed this city nearly 2,000 years ago is still active, still watching. And Naples sprawls at its feet anyway, five million people living in its shadow because this land is too beautiful, too fertile, too alive to abandon. That's Italy in a nutshell: beauty and danger, history and defiance, all coexisting in glorious tension.
        </div>

        <p>Vesuvius itself can be visited — buses and tours go to a parking lot near the summit, then you walk the final stretch to peer into the crater. It's less dramatic than you might hope (no bubbling lava), but the views are spectacular and there's something primal about standing on an active volcano. Combined with Pompeii, it makes a full day.</p>

        <p>Naples is not for everyone. It's hectic, the driving is terrifying, and the city has a reputation (often overstated but not entirely unearned) for petty crime. But it's also one of the most vital cities in Europe — a place that hasn't been gentrified into blandness, where the old ways persist, where the food is transcendent, and where you can touch history that isn't roped off in a museum. It's Italy at its most Italian, for better and for everything.</p>
      </div>

      <section class="port-section">
        <h3>Getting Around from Naples</h3>
        <p>Ships dock at Stazione Marittima, within walking distance of the historic center. From there:</p>
        <ul>
          <li><strong>Naples Historic Center:</strong> 10–15 minute walk to Piazza del Plebiscito and Spaccanapoli <span class="distance-fun">about 8 school buses end-to-end</span></li>
          <li><strong>Pompeii (24 km):</strong> Circumvesuviana train from Napoli Centrale (€3.90, 35 min) or taxi/private tour €120–150</li>
          <li><strong>Sorrento (50 km):</strong> Circumvesuviana train (€4.20, ~70 min) or ship excursion</li>
          <li><strong>Amalfi Coast:</strong> Best done by ship excursion or private driver (€250–350). Not practical by public transport in a port day.</li>
          <li><strong>Vesuvius:</strong> EAV bus from Pompeii Scavi station (€3.90) or included in many Pompeii tours</li>
        </ul>
        <p><strong>Tip:</strong> The Circumvesuviana is cheap but often crowded and can have pickpockets. Keep valuables secure. For comfort and time savings, a private driver to Pompeii is worthwhile.</p>
      </section>

      <section class="port-section">
        <h3>Positively Framed Word of Warning</h3>
        <p>Naples rewards travelers who embrace its energy and stay alert. The city is famously chaotic — traffic, crowds, and enthusiastic vendors are part of the experience. Keep valuables secured (money belt, zipped bags) and don't leave belongings in rental cars. That said, violent crime against tourists is rare; most issues are opportunistic pickpocketing in crowded areas. Stay aware, don't flash expensive items, and you'll be fine. The overwhelming majority of Neapolitans are warm, proud people who want you to love their city — and you will.</p>
      </section>
    </article>

    <!-- FAQ Section -->
    <section class="card" id="faq" style="margin-top: 2rem;">
      <h2>Frequently Asked Questions</h2>

      <details style="margin: 0.75rem 0; padding: 0.75rem 0; border-bottom: 1px solid #e0e8f0;">
        <summary style="cursor: pointer; font-weight: 600;">Should I book a ship excursion or go independently?</summary>
        <p style="margin: 0.5rem 0 0; padding-left: 1rem;">For Pompeii, independent is easy and cheaper. For the Amalfi Coast, ship excursions or private drivers are better — the roads are difficult and distances deceiving. Ship excursions guarantee you won't miss the ship.</p>
      </details>

      <details style="margin: 0.75rem 0; padding: 0.75rem 0; border-bottom: 1px solid #e0e8f0;">
        <summary style="cursor: pointer; font-weight: 600;">How much time do I need at Pompeii?</summary>
        <p style="margin: 0.5rem 0 0; padding-left: 1rem;">Minimum 2–3 hours for highlights, 4–5 hours to see most of it properly. The site is massive (163 acres). Wear comfortable shoes and bring water — there's little shade.</p>
      </details>

      <details style="margin: 0.75rem 0; padding: 0.75rem 0; border-bottom: 1px solid #e0e8f0;">
        <summary style="cursor: pointer; font-weight: 600;">Can I do both Pompeii and the Amalfi Coast?</summary>
        <p style="margin: 0.5rem 0 0; padding-left: 1rem;">It's possible but extremely rushed — you'd get snapshots of each rather than real experiences. Most people choose one. If it's your only visit, Pompeii is often recommended as harder to replicate elsewhere.</p>
      </details>

      <details style="margin: 0.75rem 0; padding: 0.75rem 0;">
        <summary style="cursor: pointer; font-weight: 600;">Where should I eat pizza?</summary>
        <p style="margin: 0.5rem 0 0; padding-left: 1rem;">The historic pizzerias are Da Michele (famous from "Eat Pray Love," expect lines), Sorbillo, and Di Matteo. Any place on Via dei Tribunali with locals eating is a safe bet. Expect to pay €4–8 for a pizza.</p>
      </details>
    </section>

    <!-- JSON-LD: FAQPage -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Should I book a ship excursion or go independently?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "For Pompeii, independent is easy and cheaper. For the Amalfi Coast, ship excursions or private drivers are better due to difficult roads."
          }
        },
        {
          "@type": "Question",
          "name": "How much time do I need at Pompeii?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Minimum 2–3 hours for highlights, 4–5 hours to see most of it properly. The site is 163 acres."
          }
        },
        {
          "@type": "Question",
          "name": "Can I do both Pompeii and the Amalfi Coast?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "It's possible but extremely rushed. Most people choose one. Pompeii is often recommended as harder to replicate elsewhere."
          }
        },
        {
          "@type": "Question",
          "name": "Where should I eat pizza?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Da Michele, Sorbillo, and Di Matteo are famous. Any place on Via dei Tribunali with locals eating is a safe bet. Expect €4–8 for a pizza."
          }
        }
      ]
    }
    </script>

    <!-- Back to Ports -->
  <aside class="rail" style="grid-column: 2;">
        <section class="card author-card-vertical" aria-labelledby="author-heading">
      <h3 id="author-heading">About the Author</h3>
      <a href="/authors/ken-baker.html" aria-label="View Ken Baker's profile">
        <picture>
          <source srcset="/authors/img/ken1.webp?v=3.010.300" type="image/webp"/>
          <img class="author-avatar" src="/authors/img/ken1_96.webp" srcset="/authors/img/ken1_96.webp 1x, /authors/img/ken1_192.webp 2x" width="96" height="96" alt="Author photo" style="border-radius: 12px;" decoding="async" loading="lazy"/>
        </picture>
      </a>
      <h4><a href="/authors/ken-baker.html">Ken Baker</a></h4>
      <p class="tiny">Founder of In the Wake; writer and editor of the logbook.</p>
      <p class="tiny">
        <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a>
      </p>
    </section>

    <section class="card">
      <h3>Recent Articles</h3>
      <div id="recent-rail"></div>
    </section>
    <!-- Nearby Ports Rail -->
    <details open class="card" style="background: #fff; border: 1px solid #e0f0f5; border-radius: 8px; margin-bottom: 1rem;">
      <summary style="cursor: pointer; padding: 0.75rem; font-weight: 600; border-left: 3px solid var(--rope, #d9b382); border-radius: 8px 8px 0 0; background: #f7fdff;">Nearby Ports</summary>
      <div style="padding: 1rem;">
        <p class="tiny" style="margin-bottom: 0.75rem; color: var(--ink-mid, #3d5a6a); line-height: 1.5;">
          Other ports in this region:
        </p>
        <div id="nearby-ports" class="rail-list" aria-live="polite"></div>
      </div>
    </details>

      <!-- Recent Articles rail -->
      <section style="grid-column: 1;" class="card" aria-labelledby="recent-rail-title">
        <h3 id="recent-rail-title">Recent Stories</h3>
        <p class="tiny" style="margin-bottom: 1rem; color: var(--ink-mid, #3d5a6a); line-height: 1.5;">
          Real cruising experiences, practical guides, and heartfelt reflections from our community. Explore stories that inform, inspire, and connect.
        </p>
        <div id="recent-rail" class="rail-list" aria-live="polite"></div>
        <p id="recent-rail-fallback" class="tiny" style="display:none">Loading articles…</p>
      </section>
    
  </aside>

    <p style="margin-top: 2rem;"><a href="/ports.html">&larr; Back to Ports Guide</a></p>
  </main>

    <footer class="wrap" role="contentinfo">
    <p>© 2025 In the Wake · A Cruise Traveler's Logbook · All rights reserved.</p>
    <p class="tiny" style="margin-top: 0.5rem;">
      <a href="/privacy.html">Privacy</a> ·
      <a href="/terms.html">Terms</a> ·
      <a href="/about-us.html">About</a> ·
      <a href="/accessibility.html">Accessibility &amp; WCAG 2.1 AA Commitment</a>
    </p>
    <p class="tiny center" style="opacity:0;position:absolute;pointer-events:none;" aria-hidden="true">Soli Deo Gloria — Every pixel and part of this project is offered as worship to God, in gratitude for the beautiful things He has created for us to enjoy. ✝️</p>
  </footer>

  <script>
    // Load recent articles
    (async function() {
      try {
        const response = await fetch('/assets/data/articles/index.json');
        const articles = await response.json();
        const rail = document.getElementById('recent-rail');

        if (rail && articles && articles.length > 0) {
          rail.innerHTML = articles.slice(0, 5).map(article => `
            <div style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e0e8f0;">
              <h4 style="margin: 0 0 0.25rem; font-size: 0.95rem;">
                <a href="${article.url}">${article.title}</a>
              </h4>
              <p style="margin: 0; font-size: 0.8rem; color: #666;">${article.date}</p>
            </div>
          `).join('');
        }
      } catch (err) {
        console.log('Could not load articles:', err);
      }
    })();
  </script>

  <script>
  (function(){
    "use strict";

    /* ===== Recent Articles Rail ===== */
    (async function recentRail(){
      const rail = document.getElementById('recent-rail');
      if(!rail) return;

      const fallback = document.getElementById('recent-rail-fallback');
      if(fallback) fallback.style.display = '';

      async function fetchJSONWithFallback(urls){
        for (const u of urls){
          try{
            const res = await fetch(u, { credentials: 'omit', cache: 'no-cache' });
            if (res.ok) return await res.json();
          }catch(err){

          }
        }
        return null;
      }

      const pick = (obj, keys, fallback=null)=>{ for(const k of keys){ if(obj && obj[k] != null) return obj[k]; } return fallback; };

      function setImageWithFallback(imgEl, primary, altPaths=[]){
        if(!imgEl) return;
        const stamp='v=3.010.300';
        const tried=new Set();
        const queue=[primary,...altPaths].filter(Boolean).map(p => p.includes('?')?p+'&'+stamp:p+'?'+stamp);
        function tryNext(){
          const next=queue.shift();
          if(!next){ imgEl.removeAttribute && imgEl.removeAttribute('onerror'); return; }
          if(tried.has(next)) return tryNext();
          tried.add(next);
          imgEl.src=next;
        }
        imgEl.onerror=tryNext;
        tryNext();
      }

      const raw = await fetchJSONWithFallback(['/assets/data/articles/index.json','/assets/data/articles.json']);
      if(!raw) {
        if(fallback) {
          fallback.textContent = 'Unable to load articles';
          fallback.style.display = '';
        }
        return;
      }

      const items = Array.isArray(raw?.articles) ? raw.articles : (Array.isArray(raw) ? raw : []);
      if(!items.length) return;

      const here = location.pathname.replace(/\/+$/,'');
      const view = items.filter(p=>{
        const href = pick(p,['url','path'],'#');
        const norm = (href||'').replace(/\/+$/,'');
        return norm && norm !== here;
      }).slice(0,6);

      rail.innerHTML = view.map(p=>{
        const title = pick(p,['title','name'],'Article');
        const href  = pick(p,['url','path'],'#');
        const excerpt = pick(p,['excerpt','description'],'');
        return `
          <article class="card" style="display:flex;flex-direction:column;gap:.75rem;padding:.85rem">
            <div style="display:grid;grid-template-columns:80px 1fr;gap:.75rem;align-items:start">
              <div style="width:80px;height:60px;overflow:hidden;border-radius:8px;background:#eef4f6;border:1px solid #dfe7ea;flex-shrink:0">
                <img class="article-thumb" alt="" decoding="async" loading="lazy" style="width:100%;height:100%;object-fit:cover">
              </div>
              <div>
                <h4 style="margin:0 0 .35rem 0;font-size:.9rem;line-height:1.3;font-weight:600">
                  <a href="\${href}" style="color:var(--accent,#0e6e8e);text-decoration:none">\${title}</a>
                </h4>
                \${excerpt ? `<p class="tiny" style="margin:0;line-height:1.4;color:var(--ink-mid,#3d5a6a)">\${excerpt}</p>` : ''}
              </div>
            </div>
            <a href="\${href}" class="pill" style="align-self:flex-start;font-size:.85rem;padding:.45rem .95rem;text-decoration:none">Read Article →</a>
          </article>`;
      }).join('');

      const cards = [...rail.querySelectorAll('article.card')];
      cards.forEach((card,i)=>{
        const p = view[i] || {};
        const el = card.querySelector('img.article-thumb');
        const href  = (pick(p,['url','path'],'')||'').toLowerCase();
        const title = (pick(p,['title','name'],'')||'').toLowerCase();

        let primary = pick(p, ['thumb','thumbnail','image','cover','img'], null);

        // FORCE override for Top-20
        if (/(top-20|first-?cruise-?questions)/.test(href) || /top\s*20.*first.*cruise.*questions/.test(title)){
          primary = '/assets/articles/thumbs/top-20-questions/cover.webp';
        }
        // Friendly specifics
        if(!primary && (/freedom-of-your-own-wake/.test(href) || /freedom of your own wake/.test(title))){
          primary = '/assets/articles/thumbs/freedom-of-your-own-wake.webp';
        }
        if(!primary && (/why-i-started-solo-cruising/.test(href) || /why i started solo cruising/.test(title))){
          primary = '/assets/articles/thumbs/why-i-started-solo-cruising.webp';
        }
        if(!primary && (/\/travel(\.html)?$/.test(href) || /\btravel\b/.test(title))){
          primary = '/assets/articles/travel/cover.jpg';
        }

        // Heuristic fallback
        if(!primary){
          const slugify = s => (s||'').toLowerCase().replace(/https?:\/\/[^/]+/,'').replace(/[#?].*$/,'').split('/').filter(Boolean).pop()||'';
          const guess = slugify(href) || slugify(title);
          if(guess) primary = `/assets/articles/\${guess}/cover.jpg`;
        }

        const alts = [];
        if(primary){
          const base = primary.replace(/\.(jpg|jpeg|png|webp)$/i,'');
          alts.push(`\${base}.jpeg`, `\${base}.JPG`, `\${base}.webp`, `\${base}.png`);
        }
        setImageWithFallback(el, primary || '/assets/index_hero.webp', alts);
      });

      if(fallback) fallback.style.display = 'none';

      // Announce to screen readers
      const status = document.getElementById('a11y-status');
      if(status) {
        status.textContent = `\${view.length} recent articles loaded`;
      }
    })();
  })();
  </script>

  <!-- Nearby Ports Script -->
  <script>window.currentPortId = 'naples';</script>
  <script src="/assets/js/nearby-ports.js"></script>

  <!-- Navigation Dropdown Script -->
  <script src="/assets/js/dropdown.js"></script>
</body>
</html>
