<!doctype html>
<html lang="en">
<head>
  <!-- ======================================================
       In the Wake â€” Primary Index
       Version: 3.010.034  |  Standards baseline: 3.010.x
       ====================================================== -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="referrer" content="no-referrer"/>
  <meta name="robots" content="index,follow,max-image-preview:large"/>
  <meta name="color-scheme" content="light dark"/>
  <meta name="theme-color" content="#0e6e8e"/>
  <meta name="version" content="3.010.034"/>
  <meta name="page:version" content="3.010.034"/>
  <title>In the Wake â€” A Cruise Travelerâ€™s Logbook</title>
  <meta name="description" content="Cruise planning, ports, ships, menus, solo travel, and faith-scented reflections â€” trimmed and charted for smoother days at sea."/>
  <link rel="canonical" href="https://www.cruisinginthewake.com/"/>

  <!-- Social -->
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:title" content="In the Wake â€” A Cruise Travelerâ€™s Logbook"/>
  <meta property="og:description" content="Cruise planning, ports, ships, menus, solo travel, and faith-scented reflections â€” trimmed and charted for smoother days at sea."/>
  <meta property="og:url" content="https://www.cruisinginthewake.com/"/>
  <meta property="og:image" content="https://www.cruisinginthewake.com/assets/index_hero.jpg"/>
  <meta name="twitter:card" content="summary_large_image"/>

  <style>
    /* ===== Site Styles v3.010.034 ===== */
    :root{
      --sea:#0a3d62; --foam:#e6f4f8; --rope:#d9b382; --ink:#083041; --sky:#f7fdff; --accent:#0e6e8e;
      --shadow:0 6px 22px rgba(8,48,65,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--ink);background:var(--sky)}
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;height:auto;display:block}
    .wrap{max-width:1100px;margin:0 auto;padding:20px 14px 36px}
    .card{background:#fff;border:2px solid var(--rope);border-radius:14px;padding:1rem;margin:.8rem 0;box-shadow:0 2px 6px rgba(8,48,65,.08)}
    .cards.stack{display:grid;gap:1rem}
    .tiny{font-size:.88rem;color:#456}
    h1,h2,h3{color:var(--sea)}
    .muted{opacity:.85}

    /* Skip link */
    .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{left:.75rem;top:.5rem;width:auto;height:auto;background:#0e6e8e;color:#fff;border-radius:10px;padding:.35rem .6rem;z-index:2000;outline:0}

    /* Header / hero */
    .hero-header{position:relative;border-bottom:6px double var(--rope);background:#eaf6f6;z-index:0}
    .navbar{
      max-width:1100px;margin:0 auto;display:flex;align-items:flex-end;gap:.6rem;
      padding:.5rem .9rem .35rem;position:relative;z-index:2000;overflow:visible;
    }
    .brand{display:flex;align-items:flex-end;gap:.6rem}
    .brand img{height:28px;width:auto}
    .version-badge{font-size:.72rem;opacity:.8}

    /* NAV (pills on top-level only) */
    .pill-nav{flex:1 1 auto;min-width:0;display:flex;align-items:center;justify-content:center;gap:.45rem;white-space:nowrap;flex-wrap:nowrap;overflow:visible;padding-inline:.75rem}
    .pill-nav > a,
    .pill-nav > .nav-group > .nav-disclosure{
      display:inline-flex;align-items:center;gap:.35rem;padding:.35rem .7rem;border-radius:10px;background:#fff;
      border:1px solid var(--rope);color:#0e6e8e;font:inherit;font-size:.9rem;line-height:1.2;cursor:pointer;text-decoration:none
    }
    .nav-group{position:relative;display:inline-block}
    .submenu{
      position:absolute !important;left:0;top:calc(100% + 8px);
      min-width:220px;background:#fff;border:1px solid var(--rope);
      border-radius:12px;padding:.4rem;box-shadow:0 8px 24px rgba(8,48,65,.12);
      display:none !important;opacity:0 !important;visibility:hidden !important;pointer-events:none !important;z-index:2100;
    }
    .nav-group[data-open="true"]>.submenu,
    .nav-group.open>.submenu,
    .nav-group:hover>.submenu,
    .nav-group:focus-within>.submenu{
      display:block !important;opacity:1 !important;visibility:visible !important;pointer-events:auto !important;
    }
    .submenu a{display:block;width:100%;margin:0;padding:.5rem .65rem;border-radius:.65rem;border:0;background:transparent;color:var(--ink)}
    .submenu a:hover,.submenu a:focus{background:#f2f7fa;outline:2px solid transparent}
    header,.hero-header,.navbar,.pill-nav,.nav-group{overflow:visible}

    .hero{
      position:relative;width:100%;min-height:clamp(200px,24vw,340px);
      background:url('/assets/index_hero.jpg') 50% 50%/cover no-repeat;
      display:flex;align-items:flex-end;overflow-x:clip;z-index:0;
    }
    .hero *{filter:none!important;mix-blend-mode:normal!important;opacity:1!important}
    .hero-compass{position:absolute;right:min(3vw,1rem);top:.5rem;width:86px;opacity:.95;z-index:2;pointer-events:none}
    .hero-title{position:absolute;left:min(3vw,1rem);bottom:clamp(.6rem,2vw,1.4rem);z-index:3;display:flex;align-items:flex-end;gap:.6rem;text-shadow:0 2px 6px rgba(0,0,0,.45)}
    .hero-title .logo{display:block;width:clamp(189px,23.1vw,378px);max-width:min(45vw,520px)}
    .tagline{
      position:absolute;left:min(3vw,1rem);bottom:clamp(.55rem,1.6vw,1.1rem);
      transform:none;font-weight:700;letter-spacing:.2px;color:#e6f4f8;
      font-size:clamp(.9rem,1.5vw,1.35rem);white-space:nowrap;z-index:3;
    }
    .hero-credit{position:absolute;right:.85rem;bottom:.85rem;z-index:4}
    .hero-credit .pill.long{display:inline-block;padding:.45rem .7rem;border-radius:999px;background:#fff;border:1px solid var(--rope);font-weight:600;color:#0a3d62;box-shadow:0 1.5px 6px rgba(8,48,65,.15)}

    /* Layout: main + rail */
    .page-grid{display:grid;grid-template-columns:minmax(0,1fr) minmax(260px,320px);gap:2rem;align-items:start}
    @media (max-width:979.98px){.page-grid{grid-template-columns:1fr}}

    /* Welcome */
    .welcome h1{margin:.25rem 0 .35rem}
    .welcome p{margin:.25rem 0}

    /* Navcards */
    .navcards{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:1rem}
    @media (max-width:719.98px){.navcards{grid-template-columns:1fr}}
    .navcard{
      display:grid;grid-template-columns:auto 1fr;grid-template-areas: "badge title" "badge dek" "chips chips";
      gap:.5rem;align-items:start;background:#fff;border:2px solid var(--rope);border-radius:14px;padding:.9rem;box-shadow:var(--shadow)
    }
    .navcard .badge{grid-area:badge;width:36px;height:36px;border-radius:10px;border:1px solid #d9e6ea;display:flex;align-items:center;justify-content:center;background:#f3f9fb;font-size:1.1rem}
    .navcard .title{grid-area:title;font-weight:700;color:var(--sea)}
    .navcard .dek{grid-area:dek;margin:.1rem 0 .25rem;opacity:.9}
    .navcard .chips{grid-area:chips;display:flex;flex-wrap:wrap;gap:.35rem}
    .chip{display:inline-flex;align-items:center;padding:.2rem .55rem;border-radius:999px;border:1px solid #d9e6ea;background:#f7fbfd;font-size:.85rem}

    /* Featured block + teasers */
    .feature-grid{display:grid;grid-template-columns:minmax(0,1fr) minmax(280px,360px);gap:1rem;align-items:start}
    @media (max-width:979.98px){.feature-grid{grid-template-columns:1fr}}
    .feature-hero img{width:100%;height:auto;border-radius:12px}
    .teaser{display:grid;grid-template-columns:56px 1fr;gap:.6rem;align-items:center;border:2px solid #d9e6ea;border-radius:12px;padding:.6rem;background:#fff;box-shadow:var(--shadow)}
    .teaser .thumb{width:56px;height:56px;border-radius:10px;object-fit:cover;border:1px solid #dfe7ea;background:#eef4f6}

    /* Latest */
    .latest-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem}
    @media (max-width:979.98px){.latest-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media (max-width:639.98px){.latest-grid{grid-template-columns:1fr}}
    .latest-card{display:block;border:2px solid #d9e6ea;border-radius:14px;padding:.6rem;background:#fff;box-shadow:var(--shadow)}

    /* Rail */
    .rail-list{display:grid;gap:1rem}
    .author-avatar{display:block;width:48px;height:48px;border-radius:50%;object-fit:cover;object-position:center;flex:0 0 48px}
    .author-card picture{display:block;flex:0 0 48px}

    /* Social strip */
    .social{display:flex;gap:.5rem;flex-wrap:wrap}
    .social a{display:inline-flex;align-items:center;gap:.4rem;border:1px solid #d9e6ea;border-radius:999px;padding:.35rem .6rem;background:#fff}
  </style>
</head>
<body class="page">
  <a href="#content" class="skip-link">Skip to main content</a>

  <!-- =========================== HEADER ============================ -->
  <header class="hero-header">
    <div class="navbar">
      <div class="brand">
        <img src="/assets/logo_wake.png?v=3.010.034" alt="In the Wake wordmark" width="256" height="64" decoding="async"/>
        <span class="tiny version-badge">v3.010.034</span>
      </div>

      <nav class="nav pill-nav" aria-label="Primary">
        <a href="/" aria-current="page">Home</a>

        <div class="nav-item nav-group" id="nav-planning" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-planning">Planning â–¾</button>
          <div id="menu-planning" class="submenu" role="menu" aria-label="Planning">
            <a role="menuitem" href="/planning.html">Planning (overview)</a>
            <a role="menuitem" href="/ships.html">Ships</a>
            <a role="menuitem" href="/restaurants.html">Restaurants &amp; Menus</a>
            <a role="menuitem" href="/ports.html">Ports</a>
            <a role="menuitem" href="/drink-packages.html">Drink Packages</a>
            <a role="menuitem" href="/packing-lists.html">Packing Lists</a>
            <a role="menuitem" href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <div class="nav-item nav-group" id="nav-travel" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-travel">Travel â–¾</button>
          <div id="menu-travel" class="submenu" role="menu" aria-label="Travel">
            <a role="menuitem" href="/travel.html">Travel (overview)</a>
            <a role="menuitem" href="/solo.html">Solo</a>
          </div>
        </div>

        <a href="/about-us.html">About</a>
      </nav>
    </div>

    <div class="hero" role="img" aria-label="Ship wake at sunrise">
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.010.034" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake.png?v=3.010.034" width="560" height="144" alt="In the Wake" decoding="async"/>
      </div>
      <div class="tagline">A Cruise Travelerâ€™s Logbook</div>
      <div class="hero-credit">
        <span class="pill long">Photo Â© <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a></span>
      </div>
    </div>
  </header>

  <!-- ============================ MAIN ============================ -->
  <main id="content" class="wrap page-grid" role="main" aria-label="Main content">
    <section class="cards stack">
      <!-- Welcome blurb -->
      <article class="card welcome">
        <h1>Welcome aboard</h1>
        <p class="muted">Trim your sails and settle in â€” this is a travelerâ€™s logbook for life at sea. Youâ€™ll find practical planning charts, ports and menus, solo guides, and reflections tested in real wakes, not borrowed winds.</p>
        <div class="social" aria-label="Follow and share">
          <a href="https://instagram.com/flickersofmajesty" target="_blank" rel="noopener" aria-label="Instagram">ðŸ“¸ <span class="tiny">Instagram</span></a>
          <a href="https://www.tiktok.com/@beyondboundarieswithtina" target="_blank" rel="noopener" aria-label="TikTok">ðŸŽµ <span class="tiny">TikTok</span></a>
          <a href="https://www.facebook.com/share/g/17XBdqRCsM/?mibextid=wwXIfr" target="_blank" rel="noopener" aria-label="Facebook Group">ðŸ‘¥ <span class="tiny">Solo Community</span></a>
        </div>
      </article>

      <!-- Featured + teasers -->
      <section class="feature-grid" aria-label="Featured and highlights">
        <article class="card feature-hero">
          <a id="featured-hero" href="#">
            <img src="/assets/index_hero.jpg" alt="" loading="eager" decoding="async" fetchpriority="high"/>
          </a>
          <h2 id="feat-title" style="margin:.65rem 0 .25rem">Featured</h2>
          <p id="feat-dek" class="muted">From that first solo gangway to community.</p>
          <p><a id="feat-link" href="#">Read the article â†’</a></p>
        </article>

        <aside class="cards stack">
          <a id="teaser-1" class="teaser" href="#">
            <img class="thumb" alt=""/>
            <div>
              <strong id="teaser-1-title" class="tiny">Article</strong>
              <div id="teaser-1-dek" class="tiny muted">A gentle case for sailing alone.</div>
            </div>
          </a>
          <a id="teaser-2" class="teaser" href="#">
            <img class="thumb" alt=""/>
            <div>
              <strong id="teaser-2-title" class="tiny">Article</strong>
              <div id="teaser-2-dek" class="tiny muted">Packing, ports, and practicalities.</div>
            </div>
          </a>
        </aside>
      </section>

      <!-- Explore the site (cards for each nav destination) -->
      <section class="card">
        <h2>Explore the site</h2>
        <div id="navcards-grid" class="navcards" aria-label="Site sections"></div>
      </section>

      <!-- Latest Articles -->
      <section class="card">
        <h2>Latest Articles</h2>
        <div id="latest-grid" class="latest-grid" aria-live="polite"></div>
      </section>
    </section>

    <!-- ===================== RIGHT-SIDE RAIL ========================== -->
    <aside class="rail" role="complementary" aria-label="Author & recent">
      <section id="author-rail" class="card" aria-label="Author">
        <h2 class="tiny" style="margin:.25rem 0 .5rem;color:#0a3d62">About the author</h2>
        <div class="author-card" style="display:flex;gap:.75rem;align-items:center;">
          <!-- populated by JS -->
        </div>
      </section>

      <section class="card" aria-labelledby="recent-rail-title">
        <h2 id="recent-rail-title" class="tiny" style="margin:.25rem 0 .5rem;color:#0a3d62">Recent Articles</h2>
        <div id="recent-rail" class="rail-list" aria-live="polite"></div>
      </section>
    </aside>
  </main>

  <!-- =========================== FOOTER ============================ -->
  <footer class="wrap" role="contentinfo">
    Â© 2025 In the Wake â€” A Cruise Travelerâ€™s Logbook
    <span class="version-badge tiny">v3.010.034</span>
    <span class="tiny" style="float:right">Soli Deo Gloria.</span>
  </footer>

  <!-- =========================== JS ================================ -->
  <script>
  /* ===== Index JS v3.010.034 ===== */
  document.addEventListener('DOMContentLoaded', () => {

    /* A) Normalize any /solo/articles/<slug>.html â†’ /solo/<slug>.html (global) */
    (function normalizeSoloLinks(){
      const fix = href => href ? href.replace(/\/solo\/articles\/([a-z0-9\-]+)\.html(\b|$)/i, '/solo/$1.html') : href;
      function scan(root=document){ root.querySelectorAll('a[href]').forEach(a=>{ const old=a.getAttribute('href'); const neu=fix(old); if(neu!==old) a.setAttribute('href',neu); }); }
      scan();
      new MutationObserver(m=>m.forEach(x=>x.addedNodes.forEach(n=>{ if(n.nodeType===1) scan(n); }))).observe(document.documentElement,{childList:true,subtree:true});
      window.__normalizeSoloHref = fix;
    })();

    /* B) Accessible dropdown nav */
    (function(){
      const groups = [...document.querySelectorAll('.nav-group')];
      if(!groups.length) return;
      const setOpen = (g,on)=>{ g.dataset.open = on ? 'true' : 'false'; g.classList.toggle('open',!!on); const b=g.querySelector('.nav-disclosure'); if(b) b.setAttribute('aria-expanded', on?'true':'false'); };
      const closeAll = (except=null)=> groups.forEach(g=>{ if(g!==except) setOpen(g,false); });
      groups.forEach(g=>{
        const btn=g.querySelector('.nav-disclosure'); const menu=g.querySelector('.submenu'); if(!btn||!menu) return;
        btn.addEventListener('click', (e)=>{ e.preventDefault(); e.stopPropagation(); const open=g.dataset.open==='true'; closeAll(g); setOpen(g,!open); });
        g.addEventListener('keydown', (e)=>{
          if(e.key==='Escape'){ setOpen(g,false); btn&&btn.focus(); }
          if(e.key==='ArrowDown' && document.activeElement===btn){
            e.preventDefault(); setOpen(g,true);
            const first=menu.querySelector('a,button,[tabindex]:not([tabindex="-1"])'); first&&first.focus();
          }
        });
        menu.addEventListener('focusout',()=>{ setTimeout(()=>{ if(!g.contains(document.activeElement)) setOpen(g,false); },0); });
      });
      document.addEventListener('click', (e)=>{ if(!e.target.closest('.nav-group')) closeAll(); }, true);
      window.addEventListener('blur', ()=> closeAll());
    })();

    /* C) Helpers */
    async function fetchJSONWithFallback(urls){
      for (const u of urls){
        try{ const r=await fetch(u,{credentials:'omit',cache:'no-cache'}); if(r.ok) return await r.json(); }catch(_){}
      }
      return null;
    }
    const pick = (obj, keys, fallback=null)=>{ for(const k of keys){ if(obj && obj[k]!=null) return obj[k]; } return fallback; };
    function setImageWithFallback(imgEl, primary, altPaths=[]){
      if(!imgEl) return; const stamp='v=3.010.034';
      const tried=new Set(); const queue=[primary,...altPaths].filter(Boolean).map(p=>p.includes('?')?p+'&'+stamp:p+'?'+stamp);
      function tryNext(){ const next=queue.shift(); if(!next){ imgEl.removeAttribute && imgEl.removeAttribute('onerror'); return; } if(tried.has(next)) return tryNext(); tried.add(next); imgEl.src=next; }
      imgEl.onerror=tryNext; tryNext();
    }

    /* D) Build Explore nav cards (mirrors nav destinations) */
    (function buildNavCards(){
      const n = window.__normalizeSoloHref || (s=>s);
      const NAV = [
        {title:"Planning", href:"/planning.html", icon:"ðŸ§­", dek:"Start here for ships, restaurants, ports, drink packages, packing lists, and accessibility.",
          chips:[["Ships","/ships.html"],["Restaurants & Menus","/restaurants.html"],["Ports","/ports.html"],["Drink Packages","/drink-packages.html"],["Packing Lists","/packing-lists.html"],["Accessibility","/accessibility.html"]]},
        {title:"Travel", href:"/travel.html", icon:"ðŸ§³", dek:"Packing, ports, and practicalities for smoother days at sea.", chips:[["Solo","/solo.html"]]},
        {title:"Solo Travel", href:"/solo.html", icon:"ðŸŒŠ", dek:"Community, courage, and the quiet gifts of sailing on your own terms.", chips:[["Why I Started Solo Cruising","/solo/why-i-started-solo-cruising.html"],["The Freedom of Your Own Wake","/solo/freedom-of-your-own-wake.html"]]},
        {title:"About", href:"/about-us.html", icon:"ðŸ“–", dek:"Who we are, why we sail, and how to get in touch.", chips:[]},
        /* Also show each Planning child as its own card for quick scan */
        {title:"Ships", href:"/ships.html", icon:"ðŸ›³ï¸", dek:"Classes, layouts, quirks â€” choosing the right ship for your style.", chips:[]},
        {title:"Restaurants & Menus", href:"/restaurants.html", icon:"ðŸ½ï¸", dek:"Dining rooms, specialties, and where to find the good stuff.", chips:[]},
        {title:"Ports", href:"/ports.html", icon:"âš“", dek:"What to do ashore, from easy strolls to bucket-list adventures.", chips:[]},
        {title:"Drink Packages", href:"/drink-packages.html", icon:"ðŸ¥¤", dek:"When it pencils out (and when water is the wiser call).", chips:[]},
        {title:"Packing Lists", href:"/packing-lists.html", icon:"ðŸ§º", dek:"Ship-tested essentials youâ€™ll actually use.", chips:[]},
        {title:"Accessibility", href:"/accessibility.html", icon:"â™¿", dek:"Accessible cabins, embarkation help, and realistic tips.", chips:[]},
      ];
      const grid = document.getElementById('navcards-grid'); if(!grid) return;
      grid.innerHTML = NAV.map(card=>{
        const chips = (card.chips||[]).map(([label,url])=>`<a class="chip" href="${n(url)}">${label}</a>`).join("");
        return `
          <a class="navcard" href="${n(card.href)}">
            <div class="badge" aria-hidden="true">${card.icon||"ðŸ”—"}</div>
            <div class="title">${card.title}</div>
            <p class="dek tiny">${card.dek||""}</p>
            ${chips ? `<div class="chips" aria-label="Related links">${chips}</div>` : ``}
          </a>`;
      }).join("");
    })();

    /* E) Featured + Latest + Recent rails (articles.json) */
    (async function hydrateArticles(){
      const FEATURED_SLUG = 'why-i-started-solo-cruising';
      const data = await fetchJSONWithFallback(['/assets/data/articles/index.json','/assets/data/articles.json']);
      const rail = document.getElementById('recent-rail');
      const lg   = document.getElementById('latest-grid');
      if(!data){ return; }
      const items = Array.isArray(data.articles) ? data.articles : (Array.isArray(data) ? data : []);
      if(!items.length){ return; }

      const n = window.__normalizeSoloHref || (s=>s);
      const urlOf = p => n(pick(p,['url','path'],'#'));
      const slugOf = p => (urlOf(p)||'').toLowerCase().replace(/\/+$/,'').split('/').pop().replace(/\.html$/,'');

      // Featured (forced by slug)
      const featured = items.find(p => slugOf(p)===FEATURED_SLUG) || items[0] || {};
      const fImg = pick(featured,['image','cover','img','thumb'],'/assets/index_hero.jpg');
      const fTitle = pick(featured,['title','name'],'Featured');
      const fDek = pick(featured,['description','dek'],'');
      const fUrl = urlOf(featured);
      const hero = document.getElementById('featured-hero');
      if(hero){
        setImageWithFallback(hero.querySelector('img'), fImg, [fImg.replace(/\.(jpg|jpeg|png|webp)$/i,'.webp')]);
        document.getElementById('feat-title').textContent = fTitle;
        document.getElementById('feat-dek').textContent = fDek;
        document.getElementById('feat-link').setAttribute('href', fUrl);
        hero.setAttribute('href', fUrl);
      }

      // Teasers (next two)
      const rest = items.filter(p => p !== featured);
      const teasers = rest.slice(0,2);
      ['teaser-1','teaser-2'].forEach((id,i)=>{
        const t = teasers[i]; if(!t) return;
        const el = document.getElementById(id); if(!el) return;
        el.setAttribute('href', urlOf(t));
        const img = pick(t,['image','cover','img','thumb'],'/assets/index_hero.jpg');
        setImageWithFallback(el.querySelector('.thumb'), img, [img.replace(/\.(jpg|jpeg|png|webp)$/i,'.webp')]);
        document.getElementById(id+'-title').textContent = pick(t,['title','name'],'Article');
        document.getElementById(id+'-dek').textContent = pick(t,['description','dek'],'');
      });

      // Latest grid
      const latest = items.slice(0,9);
      if(lg){
        lg.innerHTML = latest.map(p=>{
          const href = urlOf(p);
          const title = pick(p,['title','name'],'Article');
          return `
            <a class="latest-card" href="${href}">
              <div style="width:100%;height:160px;overflow:hidden;border-radius:12px;background:#eef4f6;border:1px solid #dfe7ea">
                <img class="article-thumb" alt="" decoding="async" style="width:100%;height:100%;object-fit:cover"/>
              </div>
              <div style="margin-top:.5rem"><strong class="tiny">${title}</strong></div>
            </a>`;
        }).join('');
        // apply images + Top-20 override
        [...lg.querySelectorAll('.latest-card')].forEach((card,i)=>{
          const p = latest[i]||{};
          let primary = pick(p,['image','cover','img','thumb','thumbnail'], null);
          const href = urlOf(p).toLowerCase();
          const title = (pick(p,['title','name'],'')||'').toLowerCase();
          if (/(top-20|first-?cruise-?questions)/.test(href) || /top\s*20.*first.*cruise.*questions/.test(title)){
            primary = '/assets/articles/top-20-questions/cover.jpg';
          }
          const el = card.querySelector('img.article-thumb');
          const alts = primary ? [primary.replace(/\.(jpg|jpeg|png|webp)$/i,'.webp'), primary.replace(/\.(jpg|jpeg|png|webp)$/i,'.png')] : [];
          setImageWithFallback(el, primary || '/assets/index_hero.jpg', alts);
        });
      }

      // Right-rail: Recent
      if(rail){
        rail.innerHTML = items.slice(0,6).map(p=>{
          const title = pick(p,['title','name'],'Article');
          const href  = urlOf(p);
          return `
            <a class="card" style="display:grid;grid-template-columns:72px 1fr;gap:.6rem;align-items:center" href="${href}">
              <div style="width:72px;height:48px;overflow:hidden;border-radius:10px;background:#eef4f6;border:1px solid #dfe7ea">
                <img class="article-thumb" alt="" decoding="async" style="width:100%;height:100%;object-fit:cover">
              </div>
              <div class="tiny" style="line-height:1.35">${title}</div>
            </a>`;
        }).join('');
        [...rail.querySelectorAll('a.card')].forEach((card,i)=>{
          const p = items[i]||{};
          const el = card.querySelector('img.article-thumb');
          let primary = pick(p,['image','cover','img','thumb','thumbnail'], null);
          const href = urlOf(p).toLowerCase();
          const title = (pick(p,['title','name'],'')||'').toLowerCase();
          if (/(top-20|first-?cruise-?questions)/.test(href) || /top\s*20.*first.*cruise.*questions/.test(title)){
            primary = '/assets/articles/top-20-questions/cover.jpg';
          }
          const alts = primary ? [primary.replace(/\.(jpg|jpeg|png|webp)$/i,'.webp'), primary.replace(/\.(jpg|jpeg|png|webp)$/i,'.png')] : [];
          setImageWithFallback(el, primary || '/assets/index_hero.jpg', alts);
        });
      }
    })();

    /* F) Author rail â€” prefer Tina when present, else Ken */
    (async function(){
      const data = await fetchJSONWithFallback(['/data/authors.json','/assets/data/authors.json']);
      const rail = document.getElementById('author-rail'); if(!rail||!data) return;
      const list = Array.isArray(data.authors) ? data.authors : (Array.isArray(data) ? data : []);
      const tina = list.find(a=>/tina\s+maulsby/i.test(a.name||'')); 
      const ken  = list.find(a=>/ken\s*baker/i.test(a.name||''));
      const pickAuthor = tina || ken || list[0];
      if(!pickAuthor) return;
      const host = rail.querySelector('.author-card'); if(!host) return;

      const isTina = /tina\s+maulsby/i.test(pickAuthor.name||'');
      const imgJpg = isTina ? '/authors/img/tina3.png' : '/authors/img/ken1.jpg';
      const imgWebp= isTina ? '/authors/img/tina3.webp' : '/authors/img/ken1.webp';
      const profile= isTina ? '/authors/tina-maulsby.html' : '/authors/ken-baker.html';

      host.innerHTML = `
        <picture>
          <source type="image/webp" srcset="${imgWebp}">
          <img class="author-avatar" src="${imgJpg}" width="48" height="48" alt="Author â€” ${pickAuthor.name}">
        </picture>
        <div>
          <strong><a href="${profile}">${pickAuthor.name}</a></strong><br/>
          ${isTina
            ? 'Leader of a thriving solo cruising community; creator of Beyond Boundaries with Tina.'
            : 'Founder of In the Wake and writer of the Solo Travel series.'}
          <div class="tiny" style="margin-top:.3rem">
            ${isTina
              ? '<a href="https://www.tiktok.com/@beyondboundarieswithtina" target="_blank" rel="noopener">TikTok</a> Â· <a href="https://sweetteeshirtsbytina.etsy.com" target="_blank" rel="noopener">Etsy</a>'
              : '<a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a> Â· <a href="https://instagram.com/flickersofmajesty" target="_blank" rel="noopener">@flickersofmajesty</a>'}
          </div>
        </div>`;
    })();

    /* G) Optional Service Worker */
    if('serviceWorker' in navigator){
      const v='3.010.034';
      navigator.serviceWorker.register('/sw.js?v='+encodeURIComponent(v)).catch(()=>{});
    }
  });
  </script>
</body>
</html>
