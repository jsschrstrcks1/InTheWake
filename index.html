<!doctype html>
<html lang="en">
<head>
  <!-- ======================================================
       In the Wake — Primary Index (self-contained)
       Version: 3.010.032  |  Standards baseline: 3.010.x
       ====================================================== -->

  <!-- Core -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="referrer" content="no-referrer"/>
  <meta name="robots" content="index,follow,max-image-preview:large"/>
  <meta name="color-scheme" content="light dark"/>
  <meta name="theme-color" content="#0e6e8e"/>
  <meta name="version" content="3.010.032"/>

  <!-- Title & SEO -->
  <title>In the Wake — A Cruise Traveler’s Logbook</title>
  <meta name="description" content="Cruise tips, solo travel guides, ship and port notes, and faith-scented reflections from real sailings."/>

  <!-- Canonical -->
  <link rel="canonical" href="https://www.cruisinginthewake.com/"/>

  <!-- Social -->
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:title" content="In the Wake — A Cruise Traveler’s Logbook"/>
  <meta property="og:description" content="Cruise tips, solo travel guides, ship and port notes, and faith-scented reflections from real sailings."/>
  <meta property="og:url" content="https://www.cruisinginthewake.com/"/>
  <meta property="og:image" content="https://www.cruisinginthewake.com/assets/index_hero.jpg"/>
  <meta property="og:image:width" content="1600"/>
  <meta property="og:image:height" content="900"/>
  <meta name="twitter:card" content="summary_large_image"/>

  <!-- Preload LCP hero (safe hint) -->
  <link rel="preload" as="image" href="/assets/index_hero.jpg" fetchpriority="high"/>

  <!-- ===== Inline CSS — v3.010.032 ===== -->
  <style>
    :root{
      --sea:#0a3d62; --foam:#e6f4f8; --rope:#d9b382; --ink:#083041; --sky:#f7fdff; --accent:#0e6e8e;
      --shadow:0 6px 22px rgba(8,48,65,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--ink);background:var(--sky)}
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;height:auto;display:block}
    .wrap{max-width:1100px;margin:0 auto;padding:20px 14px 36px}
    .card{background:#fff;border:2px solid var(--rope);border-radius:14px;padding:1rem;margin:.8rem 0;box-shadow:0 2px 6px rgba(8,48,65,.08)}
    h1,h2,h3{color:var(--sea)} .tiny{font-size:.88rem;color:#456}
    .muted{opacity:.88}
    .grid{display:grid;gap:1rem}
    .grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}
    @media (max-width:1023.98px){.grid.cols-3{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media (max-width:679.98px){.grid.cols-3{grid-template-columns:1fr}}

    /* Skip link */
    .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{left:.75rem;top:.5rem;width:auto;height:auto;background:#0e6e8e;color:#fff;border-radius:10px;padding:.35rem .6rem;z-index:3000;outline:0}

    /* Header / hero */
    .hero-header{position:relative;border-bottom:6px double var(--rope);background:#eaf6f6;z-index:0}
    .navbar{
      max-width:1100px;margin:0 auto;display:flex;align-items:flex-end;gap:.6rem;
      padding:.5rem .9rem .35rem;position:relative;z-index:2000;overflow:visible;
    }
    .brand{display:flex;align-items:flex-end;gap:.6rem}
    .brand img{height:28px;width:auto}
    .version-badge{font-size:.72rem;opacity:.8}

    /* NAV (pills on top-level only) */
    .pill-nav{
      flex:1 1 auto;min-width:0;display:flex;align-items:center;justify-content:center;
      gap:.45rem;white-space:nowrap;flex-wrap:nowrap;overflow:visible;padding-inline:.75rem;
    }
    .pill-nav > a,
    .pill-nav > .nav-group > .nav-disclosure{
      display:inline-flex;align-items:center;gap:.35rem;padding:.35rem .7rem;border-radius:10px;background:#fff;
      border:1px solid var(--rope);color:#0e6e8e;font:inherit;font-size:.9rem;line-height:1.2;cursor:pointer;text-decoration:none
    }
    .nav-group{position:relative;display:inline-block}

    /* Dropdown — vertical stack; baseline hidden */
    .submenu{
      position:absolute !important;left:0;top:calc(100% + 8px);
      min-width:220px;background:#fff;border:1px solid var(--rope);
      border-radius:12px;padding:.4rem;box-shadow:0 8px 24px rgba(8,48,65,.12);
      display:none !important;opacity:0 !important;visibility:hidden !important;pointer-events:none !important;z-index:2100;
    }
    /* Reveal on open (JS flag) */
    .nav-group[data-open="true"] > .submenu,
    .nav-group.open > .submenu{display:block !important;opacity:1 !important;visibility:visible !important;pointer-events:auto !important;}
    /* Keyboard/hover fallback */
    .nav-group:hover > .submenu,
    .nav-group:focus-within > .submenu{display:block !important;opacity:1 !important;visibility:visible !important;pointer-events:auto !important;}
    .submenu a{
      display:block;width:100%;margin:0;padding:.5rem .65rem;border-radius:.65rem;border:0;background:transparent;color:var(--ink);text-decoration:none
    }
    .submenu a:hover,.submenu a:focus{background:#f2f7fa;outline:2px solid transparent}

    /* Keep popover visible */
    header,.hero-header,.navbar,.pill-nav,.nav-group{overflow:visible}

    /* Hero masthead */
    .hero{
      position:relative;width:100%;min-height:clamp(200px,24vw,340px);
      background:url('/assets/index_hero.jpg') 50% 50%/cover no-repeat;
      display:flex;align-items:flex-end;overflow-x:clip;z-index:0;
    }
    .hero *{filter:none!important;mix-blend-mode:normal!important;opacity:1!important}
    .hero-compass{position:absolute;right:min(3vw,1rem);top:.5rem;width:86px;opacity:.95;z-index:2;pointer-events:none}
    .hero-title{position:absolute;left:min(3vw,1rem);bottom:clamp(.6rem,2vw,1.4rem);z-index:3;display:flex;align-items:flex-end;gap:.6rem;text-shadow:0 2px 6px rgba(0,0,0,.45)}
    .hero-title .logo{display:block;width:clamp(189px,23.1vw,378px);max-width:min(45vw,520px)}
    /* Tagline left-aligned under logo */
    .tagline{
      position:absolute;left:min(3vw,1rem);bottom:clamp(.55rem,1.6vw,1.1rem);
      transform:none;font-weight:700;letter-spacing:.2px;color:#e6f4f8;
      font-size:clamp(.9rem,1.5vw,1.35rem);white-space:nowrap;z-index:3;
    }
    .hero-credit{position:absolute;right:.85rem;bottom:.85rem;z-index:4}
    .hero-credit .pill.long{display:inline-block;padding:.45rem .7rem;border-radius:999px;background:#fff;border:1px solid var(--rope);font-weight:600;color:#0a3d62;box-shadow:0 1.5px 6px rgba(8,48,65,.15)}

    /* Feature rows */
    .feature{
      display:grid;gap:1rem;grid-template-columns:1.1fr 1fr;align-items:stretch
    }
    @media (max-width:979.98px){.feature{grid-template-columns:1fr}}
    .feature .big{border-radius:16px;overflow:hidden;border:1px solid rgba(8,48,65,.1);background:#fff;box-shadow:var(--shadow)}
    .feature .big img{width:100%;height:auto;display:block}
    .feature .big .meta{padding:.8rem 1rem}
    .feature .list .item{
      display:grid;grid-template-columns:112px 1fr;gap:.75rem;align-items:center;border:1px solid rgba(8,48,65,.1);
      background:#fff;border-radius:12px;padding:.5rem .6rem;box-shadow:0 2px 6px rgba(8,48,65,.06)
    }
    .thumb{width:112px;height:72px;overflow:hidden;border-radius:10px;background:#eef4f6;border:1px solid #dfe7ea}
    .thumb img{width:100%;height:100%;object-fit:cover}

    /* Cards grid (Latest Articles) */
    .article-card{
      display:grid;grid-template-rows:auto auto 1fr;gap:.5rem;border:1px solid rgba(8,48,65,.1);
      background:#fff;border-radius:14px;padding:.75rem;box-shadow:0 2px 6px rgba(8,48,65,.07)
    }
    .article-card .cover{width:100%;height:170px;border-radius:10px;overflow:hidden;background:#eef4f6;border:1px solid #dfe7ea}
    .article-card .cover img{width:100%;height:100%;object-fit:cover}
    .article-card .title{font-weight:700;line-height:1.25}
    .article-card .dek{font-size:.95rem;line-height:1.35}

    /* Footer */
    footer.wrap{display:flex;gap:.75rem;align-items:center;justify-content:space-between;flex-wrap:wrap}
  </style>
</head>
<body class="page">
  <a href="#content" class="skip-link">Skip to main content</a>

  <!-- =========================== HEADER ============================ -->
  <header class="hero-header">
    <div class="navbar">
      <div class="brand">
        <img src="/assets/logo_wake.png?v=3.010.032" alt="In the Wake wordmark" width="256" height="64" decoding="async"/>
        <span class="tiny version-badge">v3.010.032</span>
      </div>

      <nav class="nav pill-nav" aria-label="Primary">
        <a href="/" aria-current="page">Home</a>

        <div class="nav-item nav-group" id="nav-planning" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-planning">Planning ▾</button>
          <div id="menu-planning" class="submenu" role="menu" aria-label="Planning">
            <a role="menuitem" href="/planning.html">Planning (overview)</a>
            <a role="menuitem" href="/ships.html">Ships</a>
            <a role="menuitem" href="/restaurants.html">Restaurants &amp; Menus</a>
            <a role="menuitem" href="/ports.html">Ports</a>
            <a role="menuitem" href="/drink-packages.html">Drink Packages</a>
            <a role="menuitem" href="/packing-lists.html">Packing Lists</a>
            <a role="menuitem" href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <div class="nav-item nav-group" id="nav-travel" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-travel">Travel ▾</button>
          <div id="menu-travel" class="submenu" role="menu" aria-label="Travel">
            <a role="menuitem" href="/travel.html">Travel (overview)</a>
            <a role="menuitem" href="/solo.html">Solo</a>
          </div>
        </div>

        <a href="/about-us.html">About</a>
      </nav>
    </div>

    <div class="hero" role="img" aria-label="Ship wake at sunrise">
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.010.032" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake.png?v=3.010.032" width="560" height="144" alt="In the Wake" decoding="async"/>
      </div>
      <div class="tagline">A Cruise Traveler’s Logbook</div>
      <div class="hero-credit">
        <span class="pill long">Photo © <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a></span>
      </div>
    </div>
  </header>

  <!-- ============================ MAIN ============================ -->
  <main id="content" class="wrap" role="main" aria-label="Main content">
    <!-- Featured Row -->
    <section class="feature" aria-labelledby="feat-title">
      <article class="big">
        <a href="/solo/why-i-started-solo-cruising.html">
          <img src="/assets/articles/why-i-started-solo-cruising.jpg" alt="Why I Started Solo Cruising — feature image" width="1600" height="900" decoding="async" loading="eager" fetchpriority="high">
        </a>
        <div class="meta">
          <h2 id="feat-title" style="margin:.25rem 0 .35rem">Why I Started Solo Cruising (and Built a Community)</h2>
          <p class="muted" style="margin:.25rem 0 .6rem">From that first solo gangway to a thriving community — lessons, courage, and the joy of sailing on your own terms.</p>
          <a href="/solo/why-i-started-solo-cruising.html">Read the article →</a>
        </div>
      </article>

      <div class="list grid" style="align-content:start">
        <a class="item" href="/solo/freedom-of-your-own-wake.html">
          <div class="thumb"><img alt="" decoding="async"></div>
          <div>
            <strong>The Freedom of Your Own Wake</strong><br>
            <span class="tiny muted">A gentle case for sailing alone — rest, rhythm, room to breathe.</span>
          </div>
        </a>
        <a class="item" href="/travel.html">
          <div class="thumb"><img alt="" decoding="async"></div>
          <div>
            <strong>Travel Tips</strong><br>
            <span class="tiny muted">Packing, ports, and practicalities — smoother days at sea.</span>
          </div>
        </a>
      </div>
    </section>

    <!-- Latest Articles (auto from JSON) -->
    <section class="grid" style="margin-top:1.25rem" aria-labelledby="latest-title">
      <h2 id="latest-title" style="margin:.25rem 0">Latest Articles</h2>
      <div id="latest-grid" class="grid cols-3" aria-live="polite" aria-busy="true"></div>
    </section>
  </main>

  <!-- =========================== FOOTER ============================ -->
  <footer class="wrap" role="contentinfo">
    © 2025 In the Wake — A Cruise Traveler’s Logbook
    <span class="version-badge">v3.010.032</span>
  </footer>

  <!-- =========================== JS ================================ -->
  <script>
  /* ===== Index JS v3.010.032 (self-contained) ===== */
  (function(){
    "use strict";

    /* A) Normalize any stray /solo/articles/<slug>.html links to /solo/<slug>.html */
    (function normalizeSoloArticleLinks(){
      const fix = href => href.replace(/\/solo\/articles\/([a-z0-9\-]+)\.html(\b|$)/i, '/solo/$1.html');
      document.querySelectorAll('a[href]').forEach(a=>{
        const old = a.getAttribute('href'); if(!old) return;
        const neu = fix(old); if (neu !== old) a.setAttribute('href', neu);
      });
    })();

    /* B) Accessible dropdowns — click/hover/keyboard/outside/Escape */
    (function navDropdowns(){
      const groups = [...document.querySelectorAll('.nav-group')];
      if(!groups.length) return;

      const setOpen = (g,on)=>{
        g.dataset.open = on ? 'true' : 'false';
        g.classList.toggle('open', !!on);
        const b = g.querySelector('.nav-disclosure');
        if (b) b.setAttribute('aria-expanded', on ? 'true' : 'false');
      };
      const closeAll = (except=null)=> groups.forEach(g=>{ if(g!==except) setOpen(g,false); });

      groups.forEach(g=>{
        const btn  = g.querySelector('.nav-disclosure');
        const menu = g.querySelector('.submenu');
        if(!btn || !menu) return;

        btn.addEventListener('click',(e)=>{
          e.preventDefault(); e.stopPropagation();
          const open = g.dataset.open === 'true';
          closeAll(g); setOpen(g, !open);
        });

        g.addEventListener('keydown',(e)=>{
          if(e.key==='Escape'){ setOpen(g,false); btn && btn.focus(); }
          if(e.key==='ArrowDown' && document.activeElement===btn){
            e.preventDefault(); setOpen(g,true);
            const first = menu.querySelector('a,button,[tabindex]:not([tabindex="-1"])'); first && first.focus();
          }
        });

        menu.addEventListener('focusout',()=>{ setTimeout(()=>{ if(!g.contains(document.activeElement)) setOpen(g,false); },0); });
      });

      document.addEventListener('click',(e)=>{ if(!e.target.closest('.nav-group')) closeAll(); }, true);
      window.addEventListener('blur', ()=> closeAll());
    })();

    /* C) Helpers */
    async function fetchJSONWithFallback(urls){
      for (const u of urls){
        try{
          const r = await fetch(u, { credentials:'omit', cache:'no-cache' });
          if(r.ok) return await r.json();
        }catch(_){}
      }
      return null;
    }
    const pick = (obj, keys, fallback=null)=>{ for(const k of keys){ if(obj && obj[k]!=null) return obj[k]; } return fallback; };
    function setImageWithFallback(imgEl, primary, altPaths=[]){
      if(!imgEl || !primary) return;
      const tried = new Set();
      const queue = [primary, ...altPaths].filter(Boolean);
      function tryNext(){
        const next = queue.shift();
        if(!next){ imgEl.removeAttribute && imgEl.removeAttribute('onerror'); return; }
        if(tried.has(next)) return tryNext();
        tried.add(next); imgEl.src = next;
      }
      imgEl.onerror = tryNext; tryNext();
    }

    /* D) Fill the small feature thumbs (right side of feature row) */
    (function hydrateFeatureThumbs(){
      const items = document.querySelectorAll('.feature .item');
      items.forEach(a=>{
        const img = a.querySelector('.thumb img');
        if(!img) return;
        const href = (a.getAttribute('href')||'').toLowerCase();
        let primary = null, alts = [];
        if(/why-i-started-solo-cruising/.test(href)) primary = '/assets/articles/why-i-started-solo-cruising.jpg';
        if(/freedom-of-your-own-wake/.test(href))   primary = '/assets/articles/freedom-of-your-own-wake/cover.jpg';
        if(/\/travel(\.html)?$/.test(href))         primary = '/assets/articles/travel/cover.jpg';
        if(primary){
          const base = primary.replace(/\.(jpg|jpeg|png|webp)$/i,'');
          alts = [`${base}.jpeg`, `${base}.webp`, `${base}.png`];
        }
        setImageWithFallback(img, primary || '/assets/index_hero.jpg', alts);
      });
    })();

    /* E) Latest Articles grid (from JSON) */
    (async function latest(){
      const grid = document.getElementById('latest-grid');
      if(!grid) return;
      const raw = await fetchJSONWithFallback(['/assets/data/articles/index.json','/assets/data/articles.json']);
      if(!raw){ grid.setAttribute('aria-busy','false'); return; }

      const items = Array.isArray(raw?.articles) ? raw.articles : (Array.isArray(raw)? raw : []);
      const view = items.slice(0,9); // top 9
      grid.innerHTML = view.map(p=>{
        const href  = pick(p,['url','path'],'#');
        const title = pick(p,['title','name'],'Article');
        const dek   = pick(p,['dek','description'],'');
        return `
          <a class="article-card" href="${href}">
            <div class="cover"><img alt="" decoding="async"></div>
            <div class="title">${title}</div>
            <div class="dek tiny muted">${dek||''}</div>
          </a>`;
      }).join('');

      // hydrate covers w/ overrides + heuristics
      [...grid.querySelectorAll('.article-card')].forEach((card,i)=>{
        const p = view[i] || {};
        const img = card.querySelector('.cover img');
        const href  = (pick(p,['url','path'],'')||'').toLowerCase();
        const title = (pick(p,['title','name'],'')||'').toLowerCase();
        let primary = pick(p,['image','cover','img','thumb','thumbnail'], null);

        // Top-20 — hard override
        if (/(top-20|first-?cruise-?questions)/.test(href) || /top\s*20.*first.*cruise.*questions/.test(title)){
          primary = '/assets/articles/top-20-questions/cover.jpg';
        }
        // Friendly specifics
        if(!primary && /why-i-started-solo-cruising/.test(href)) primary = '/assets/articles/why-i-started-solo-cruising.jpg';
        if(!primary && /freedom-of-your-own-wake/.test(href))   primary = '/assets/articles/freedom-of-your-own-wake/cover.jpg';
        if(!primary && (/\/travel(\.html)?$/.test(href) || /\btravel\b/.test(title))) primary = '/assets/articles/travel/cover.jpg';

        // Heuristic by slug
        if(!primary){
          const slugify = s => (s||'').toLowerCase().replace(/https?:\/\/[^/]+/,'').replace(/[#?].*$/,'').split('/').filter(Boolean).pop()||'';
          const guess = slugify(href) || slugify(title);
          if(guess) primary = `/assets/articles/${guess}/cover.jpg`;
        }

        const alts = [];
        if(primary){
          const base = primary.replace(/\.(jpg|jpeg|png|webp)$/i,'');
          alts.push(`${base}.jpeg`, `${base}.webp`, `${base}.png`);
        }
        setImageWithFallback(img, primary || '/assets/index_hero.jpg', alts);
      });

      grid.setAttribute('aria-busy','false');
    })();

  })();
  </script>
</body>
</html>
