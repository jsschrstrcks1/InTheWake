/* ===== In the Wake — Unified Styles (v2.086.1) ===== */
:root{
  --sea:#0a3d62; --foam:#e6f4f8; --rope:#d9b382; --ink:#083041; --sky:#f7fdff; --accent:#0e6e8e;
  /* Grid / compass tuning */
  --grid-stroke: rgba(255,255,255,.24);
  --grid-label: rgba(255,255,255,.85);
  --grid-outline: rgba(8,48,65,.35);
  --compass-tint: invert(39%) sepia(9%) saturate(1063%) hue-rotate(151deg) brightness(92%) contrast(89%);
}

*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }
body{
  font-family: ui-sans-serif,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  color:var(--ink); background:var(--sky); line-height:1.55;
}
a{ color:var(--accent); text-decoration:none }
a:hover{ text-decoration:underline }
img{ max-width:100%; height:auto; display:block }

/* Header + Nav */
.hero-header{ position:relative; border-bottom:6px double var(--rope); background:#eaf6f6 }
.navbar{ max-width:1100px; margin:0 auto; display:flex; align-items:center; gap:.6rem; padding:.5rem .9rem }
.brand{ display:flex; align-items:center; gap:.6rem }
.brand img{ height:28px; width:auto }
.brand-title{ font-weight:700; color:var(--ink); font-size:.95rem }
.version-badge{ font-size:.72rem; opacity:.8; margin-left:.35rem }
.nav{ margin-left:auto; display:flex; gap:.5rem; flex-wrap:wrap }
.nav a{ padding:.35rem .7rem; border-radius:10px; border:1px dashed var(--rope); background:#fff; font-size:.9rem }

/* Full-bleed hero (no hockey stick overlays) */
.hero{
  position:relative;
  width:100vw;
  margin-left:calc(50% - 50vw);
  min-height:clamp(200px, 24vw, 340px);
  background:url('index_hero.jpg') 50% 50% / cover no-repeat;
  display:flex; align-items:flex-end;
  overflow:hidden; isolation:isolate;
}
.hero::before,.hero::after{ content:none !important }

/* Grid container & labels */
.latlon-grid{ position:absolute; inset:0; z-index:1; pointer-events:none }
.latlon-grid svg{ width:100%; height:100% }
.hero .latlon-grid .grid-lines{ stroke: var(--grid-stroke); vector-effect:non-scaling-stroke }
.hero .latlon-grid .grid-labels text{
  fill: var(--grid-label);
  paint-order: stroke;
  stroke: var(--grid-outline);
  stroke-width: .4px;
  vector-effect: non-scaling-stroke;
  letter-spacing: .2px;
  font-size: 2.2px;
}
@media (max-width:900px){ .hero .latlon-grid .grid-labels text{ font-size: 2.0px } }
@media (max-width:700px){ .hero .latlon-grid .grid-labels text{ font-size: 1.9px } }
@media (max-width:520px){ .hero .latlon-grid .grid-labels text{ font-size: 1.7px } }

/* Compass (tinted to reference blue/gray) */
.hero-compass{
  position:absolute; right:min(3vw,1rem); top:.5rem;
  width:86px; opacity:.95; z-index:2;
  filter: var(--compass-tint) drop-shadow(0 2px 6px rgba(0,0,0,.25));
}

/* Ship lockup + tagline */
.hero-title{
  position:absolute; left:min(3vw,1rem); bottom:clamp(.6rem,2vw,1.4rem);
  z-index:3; display:flex; align-items:flex-end; gap:.6rem;
  text-shadow:0 2px 6px rgba(0,0,0,.45);
}
.hero-title .logo{
  width:clamp(189px, 23.1vw, 378px);
  max-width:min(45vw, 520px);
  filter:drop-shadow(0 3px 8px rgba(0,0,0,.45));
}
.hero .tagline{
  position:absolute; left:50%; transform:translateX(-50%);
  bottom:clamp(.55rem,1.6vw,1.1rem);
  font-weight:700; letter-spacing:.2px; color:#e6f4f8;
  text-shadow:0 2px 6px rgba(0,0,0,.45);
  font-size:clamp(.9rem,1.5vw,1.35rem); white-space:nowrap; z-index:3;
}

/* Content + cards */
.page-wrap{ max-width:1100px; margin:0 auto; padding:20px 14px 36px }
.card{ background:#fff; border:2px solid var(--rope); border-radius:14px; padding:1rem; margin:.8rem 0; box-shadow:0 2px 6px rgba(8,48,65,.08) }
h1,h2,h3{ color:var(--sea) }
.index-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:1rem; margin:1rem 0 2rem }
.index-card{ background:#fff; border:2px solid var(--rope); border-radius:14px; box-shadow:0 2px 6px rgba(8,48,65,.08); padding:1rem }
.index-card h3{ margin-top:0; color:var(--sea) }
.index-card ul{ list-style:none; margin:.5rem 0 0; padding:0 }
.index-card li{ margin:.35rem 0 }
.index-pill{ display:inline-block; background:#e6f4f8; border:1px solid var(--rope); padding:.2rem .55rem; border-radius:999px; font-size:.85rem; margin:.2rem .2rem 0 0 }
.tiny{ font-size:.85rem; color:#2a5b6e }
.feature-ship{ display:grid; grid-template-columns:1fr 1fr; gap:1rem }
.feature-ship .card{ margin:0 }
.footer{ padding:14px; text-align:center; color:#345 }

/* Kill any legacy stripes */
.hockey-stick,.masthead-stripe,.header-stripe,
header.site-header::before, header.site-header::after{ display:none !important }

/* Responsive tweak */
@media (max-width:900px){ .feature-ship{ grid-template-columns:1fr } }
@media (max-width:600px){
  .hero{ min-height:clamp(170px,30vw,300px) }
  .hero-title .logo{ width:clamp(170px,36vw,320px) }
}

/* ===== ships.html additions (v2.086) ===== */
.jump-menu { margin: 0 0 12px }
.jump-line { display:flex; gap:.4rem; flex-wrap:wrap }
.pill {
  display:inline-block; padding:.35rem .6rem; border:1px dashed var(--rope);
  border-radius:999px; background:#fff; font-size:.9rem;
}
.more-lines summary { cursor:pointer; padding:.35rem .6rem; border:1px dashed var(--rope); border-radius:999px; background:#fff }
.more-lines .more-wrap { margin-top:.5rem; display:flex; flex-wrap:wrap; gap:.4rem }
.more-lines a { padding:.25rem .55rem; border:1px solid var(--rope); border-radius:999px; background:#fff; font-size:.85rem }

.fleet-root > .card { margin-bottom: 1rem }
.class-pills { display:flex; gap:.4rem; flex-wrap:wrap; margin:.2rem 0 .6rem }

.ship-card {
  display:grid; grid-template-columns: 96px 1fr; gap:.6rem;
  align-items:center; padding:.6rem; border:2px solid var(--rope);
  border-radius:14px; background:#fff; text-decoration:none; color:inherit;
  box-shadow:0 2px 6px rgba(8,48,65,.08);
}
.ship-card .thumb { width:96px; height:64px; overflow:hidden; border-radius:10px; background:#eef4f6; border:1px solid #dfe7ea }
.ship-card .thumb img { width:100%; height:100%; object-fit:cover }
.ship-card .thumb img.thumb-fallback { object-fit:contain; padding:6px; background:#fff }
.ship-card .body { display:flex; align-items:center; gap:.5rem; flex-wrap:wrap }
.ship-card .badge {
  font-size:.72rem; background:#e6f4f8; border:1px solid var(--rope);
  border-radius:999px; padding:.1rem .5rem;
}
.ship-card.historical .badge.hist { background:#fff4f1; border-color:#e2a58b }

.ship-card.is-disabled { opacity:.7; pointer-events:none }

/* Collapsible */
.collapsible > details > summary { cursor:pointer; font-weight:700; }
.collapsible > details[open] { scroll-margin-top: 90px; }

/* Ensure anchor targets sit below sticky header */
[id] { scroll-margin-top: 90px }

/* === Mega-Nav (multi-level hover) === */
/* Placed last so these rules take precedence in conflicts */
.mega-nav{ position:relative; background:#fff; border-top:6px double var(--rope); border-bottom:2px solid var(--rope); }
.mega-nav .lvl-1, .mega-nav .lvl-2, .mega-nav .lvl-3, .mega-nav .lvl-4{
  list-style:none; margin:0; padding:0;
}
.mega-nav .lvl-1{
  max-width:1100px; margin:0 auto; display:flex; gap:.4rem; padding:.55rem .9rem; flex-wrap:wrap;
}
.mega-nav a{ display:block; padding:.4rem .6rem; border:1px dashed var(--rope); border-radius:10px; background:#f9fdfd; color:var(--ink); font-weight:600; font-size:.92rem; }
.mega-nav a:focus, .mega-nav a:hover{ outline:none; text-decoration:none; background:#fff; box-shadow:0 1px 4px rgba(8,48,65,.12); }

.mega-nav li{ position:relative }
.mega-nav .flyout{ position:absolute; left:0; top:calc(100% + 2px); background:#fff; border:2px solid var(--rope); border-radius:12px; box-shadow:0 6px 20px rgba(8,48,65,.15); padding:.5rem; display:none; z-index:30; min-width:280px }
.mega-nav .cols{ display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:.25rem .5rem; }

.mega-nav li:hover > .flyout, .mega-nav li:focus-within > .flyout{ display:block }

.mega-nav .pill{ display:inline-block; padding:.3rem .55rem; border:1px solid var(--rope); border-radius:999px; background:#fff; font-size:.9rem; margin:.15rem .25rem .15rem 0 }
.mega-nav .badge{ font-size:.72rem; opacity:.7; margin-left:.35rem }

/* Level headings inside flyouts */
.mega-nav .hd{ font-weight:800; color:var(--sea); margin:.2rem 0 .35rem; }

/* Keep menus inside viewport */
.mega-nav .flyout{ inset-inline-start:auto }
.mega-nav li:hover .flyout{ transform-origin:top left }
.mega-nav li:last-child .flyout{ right:0; left:auto }

/* Small screens: stack — hover becomes tap via JS */
@media (max-width:900px){
  .mega-nav .lvl-1{ justify-content:flex-start; gap:.35rem }
  .mega-nav .flyout{ position:static; display:none; box-shadow:none; border:0; padding:.25rem 0; border-radius:0; }
  .mega-nav li.open > .flyout{ display:block }
  .mega-nav a{ border-radius:12px }
}
