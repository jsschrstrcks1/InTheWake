<!doctype html>
<html lang="en" class="no-js">
<head>
<!-- ai-breadcrumbs
     entity: Royal Caribbean
     type: Cruise Line Comparison
     parent: /cruise-lines.html
     category: Cruise Line Information
     updated: 2025-11-18
     expertise: Cruise line comparisons, fleet analysis, policy research, cruise planning
     target-audience: Cruise line comparison shoppers, first-time cruisers, travel planners
     answer-first: Royal Caribbean, class-by-class and ship-by-ship: venues, experiences, dress code, and ship search with image thumbnails.
     core-facts: 7 ship classes from Icon to Vision; signature features include Royal Promenade, ice shows, rock climbing, water parks; fleet ranges from 78K to 250K GT
     decisions-informed: which Royal Caribbean ship class matches your preferences; how to navigate ship pages and dining venues
     -->
  <!--
  Soli Deo Gloria
  All work on this project is offered as a gift to God.
  “Trust in the LORD with all your heart, and do not lean on your own understanding.” — Proverbs 3:5
  “Whatever you do, work heartily, as for the Lord and not for men.” — Colossians 3:23
  -->

  <meta charset="utf-8"/>
  <script>
  document.documentElement.classList.remove('no-js');
</script>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Royal Caribbean — In the Wake (v3.010.300)</title>
  <meta name="version" content="v3.010.300"/>
  <meta name="description" content="Royal Caribbean, class-by-class and ship-by-ship: venues, experiences, dress code, and ship search with image thumbnails."/>
  <meta name="theme-color" content="#0e6e8e"/>
  <meta name="robots" content="index,follow"/>

  <!-- ICP-Lite v1.0: AI-First Metadata -->
  <meta name="ai-summary" content="Royal Caribbean guide: 7 ship classes from Icon to Vision, with ship-by-ship details, dining venues, signature features, and planning tools. Explore Royal Promenade, ice shows, rock climbing, and water parks."/>
  <meta name="last-reviewed" content="2025-11-18"/>
  <meta name="content-protocol" content="ICP-Lite v1.0"/>

  <!-- Canonical + Social -->
  <link rel="canonical" href="https://www.cruisinginthewake.com/cruise-lines/royal-caribbean.html"/>
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:url" content="https://www.cruisinginthewake.com/cruise-lines/royal-caribbean.html"/>
  <meta property="og:title" content="Royal Caribbean — In the Wake"/>
  <meta property="og:description" content="Explore Royal Caribbean by class and ship with venue and experience guides."/>
  <meta property="og:image" content="https://www.cruisinginthewake.com/assets/social/royal-caribbean-hero.jpg?v=3.006.013"/>
  <meta name="twitter:card" content="summary_large_image"/>

  <!-- JSON-LD (Breadcrumbs) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"Home","item":"https://www.cruisinginthewake.com/"},
      {"@type":"ListItem","position":2,"name":"Cruise Lines","item":"https://www.cruisinginthewake.com/cruise-lines.html"},
      {"@type":"ListItem","position":3,"name":"Royal Caribbean","item":"https://www.cruisinginthewake.com/cruise-lines/royal-caribbean.html"}
    ]
  }
  </script>

  <!-- JSON-LD: WebPage (ICP-Lite) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Royal Caribbean — In the Wake",
    "url": "https://www.cruisinginthewake.com/cruise-lines/royal-caribbean.html",
    "description": "Royal Caribbean guide: 7 ship classes from Icon to Vision, with ship-by-ship details, dining venues, signature features, and planning tools."
  }
  </script>

  <!-- JSON-LD: FAQPage (ICP-Lite) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What ship classes does Royal Caribbean offer?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Royal Caribbean operates 7 ship classes: Icon Class (largest, newest), Oasis Class (mega-ships with neighborhoods), Quantum and Quantum Ultra Classes (technology-forward), Freedom Class (active family fun), Voyager Class (Royal Promenade pioneers), Radiance Class (glass and panoramic views), and Vision Class (classic intimate ships)."
        }
      },
      {
        "@type": "Question",
        "name": "What are Royal Caribbean's signature features?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Royal Caribbean is known for the Royal Promenade indoor boulevard, ice skating shows, rock climbing walls, FlowRider surf simulators, water parks (including Category 6 on Icon Class), and neighborhood concepts on larger ships."
        }
      },
      {
        "@type": "Question",
        "name": "How do I find a specific Royal Caribbean ship?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Use the ship search on this page to filter by name or class. Each ship page includes deck plans, live tracker, dining venues, and stateroom videos."
        }
      },
      {
        "@type": "Question",
        "name": "What's the difference between Royal Caribbean ship classes?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Ship classes vary by size (78K to 250K GT), passenger capacity (2,000 to 7,600 guests), and features. Icon and Oasis classes are mega-ships with neighborhoods and water parks. Quantum classes emphasize technology. Voyager through Vision classes offer progressively smaller, more intimate experiences."
        }
      }
    ]
  }
  </script>

  <!-- Unified CSS (cache-busted MUST) -->
  <link rel="stylesheet" href="https://www.cruisinginthewake.com/assets/styles.css?v=3.006.013"/>
  <link rel="preload" as="image" href="https://www.cruisinginthewake.com/assets/compass_rose.svg"/>
  <link rel="preconnect" href="https://www.cruisinginthewake.com" crossorigin>

  <!-- Page-local trims (kept minimal; no overrides to hero/filter rules) -->
  <style>
    .brand-title{display:none!important}
    .two-col{display:grid;grid-template-columns:1fr 320px;gap:1rem}
    @media (max-width:1060px){.two-col{grid-template-columns:1fr}}
    .side-panel{display:flex;flex-direction:column;gap:1rem}
    .pillrow{display:flex;flex-wrap:wrap;gap:.5rem}
    .pillbtn{display:inline-block;padding:.35rem .7rem;border-radius:999px;border:1px dashed var(--rope);background:#fff;font-weight:600}
    .toolbar{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}
    .toolbar .seg{display:inline-flex;border:1px solid var(--rope);border-radius:999px;overflow:hidden}
    .toolbar .seg button{padding:.35rem .7rem;border:0;background:#fff}
    .toolbar .seg button.active{background:var(--foam);font-weight:700}
    .ship-card .class-chip{font-size:.72rem;background:#f7fdff;border:1px solid var(--rope);border-radius:999px;padding:.1rem .45rem;margin-left:.4rem}
    .thumb img{background:#eef4f6}
    .tiny-muted{font-size:.86rem;color:#567}
    .venue-card{display:grid;grid-template-columns:56px 1fr;gap:.6rem;align-items:center;border:2px solid var(--rope);border-radius:12px;background:#fff;padding:.5rem}
    .venue-card .vthumb{width:56px;height:56px;border-radius:10px;overflow:hidden;border:1px solid #dfe7ea;background:#eef4f6}
    .venue-card .vthumb img{width:100%;height:100%;object-fit:cover}
    .venue-card .vbody strong{color:var(--sea)}
    .h-rule{height:12px;background:var(--rope);
      -webkit-mask:linear-gradient(90deg,#000 60%,transparent 60%) repeat-x;mask:linear-gradient(90deg,#000 60%,transparent 60%) repeat-x}
    .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
         background:#f7f9fb;border:1px solid #cfe1ea;border-radius:6px;padding:.06rem .33rem}

 /* Search board: compact grid + rows */
.sb-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem}
@media (max-width:1100px){.sb-grid{grid-template-columns:1fr 1fr}}
@media (max-width:700px){.sb-grid{grid-template-columns:1fr}}

.list-row{display:grid;grid-template-columns:96px 1fr;gap:.75rem;align-items:center;
  border:2px solid var(--rope);border-radius:14px;background:#fff;padding:.6rem}
.list-row .thumb{width:96px;height:64px;border-radius:10px;overflow:hidden;border:1px solid #dfe7ea;background:#eef4f6}
.list-row .thumb img{width:100%;height:100%;object-fit:cover}
.list-row .title{font-weight:800;color:var(--sea);font-size:1.15rem}
.list-row .meta{font-size:.86rem;color:#567}
.sb-hidden{display:none!important}

.sb-qwrap{position:relative;display:inline-flex;align-items:center}
#sb-q{width:min(44ch,60vw);padding:.55rem .9rem;border:1px solid #cfe1ea;border-radius:14px}
#sb-clear{position:absolute;right:.3rem;top:50%;transform:translateY(-50%);border:0;background:transparent;
  font-size:1.2rem;line-height:1;padding:.2rem .4rem;cursor:pointer} 
#experiences, #venues { display:none!important })
  /* Header / Hero */
  .hero-header {
    position: relative;
    border-bottom: 6px double var(--rope);
    background: #eaf6f6;
    z-index: 9000;
  }

  .navbar {
    max-width: 1100px;
    margin: 0 auto;
    display: flex;
    align-items: flex-end;
    gap: .6rem;
    padding: .5rem .9rem .35rem;
    position: relative;
    z-index: 2000;
    overflow: visible;
  }

  .brand {
    display: flex;
    align-items: flex-end;
    gap: .6rem;
  }

  .brand img {
    height: 28px;
    width: auto;
  }

  .version-badge {
    font-size: .72rem;
    opacity: .8;
    color: var(--text-muted);
  }



  
  /* Dropdown Navigation (FIXED: 300ms Hover Delay) */
  .nav {
    flex: 1 1 auto;
    min-width: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: .5rem;
    white-space: nowrap;
    flex-wrap: nowrap;
    overflow: visible;
    padding-inline: .75rem;
  }

  .nav-item {
    position: relative;
    display: inline-block;
  }

  .nav-item > a,
  .nav-item > button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .35rem;
    padding: .65rem 1rem;
    min-height: 44px;
    border-radius: 10px;
    background: #fff;
    border: 2px solid var(--rope);
    color: var(--accent);
    font: inherit;
    font-size: .95rem;
    line-height: 1.2;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .nav-item > a:hover,
  .nav-item > button:hover {
    background: var(--foam);
    border-color: var(--accent);
    transform: translateY(-1px);
  }

  .nav-item > a[aria-current="page"] {
    background: var(--accent);
    color: #fff;
    font-weight: 600;
    border-color: var(--accent);
  }

  .nav-disclosure .caret {
    display: inline-block;
    margin-left: .25rem;
    transition: transform 0.2s ease;
  }

  .nav-item[data-open="true"] .nav-disclosure .caret {
    transform: rotate(180deg);
  }

  /* Dropdown menu with safe zone */
  .submenu {
    position: absolute !important;
    left: 0;
    top: calc(100% + 4px);
    min-width: 240px;
    background: #fff;
    border: 2px solid var(--rope);
    border-radius: 12px;
    padding: .6rem;
    box-shadow: 0 8px 24px rgba(8,48,65,.15);
    display: none;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity 0.2s ease, visibility 0.2s ease;
    z-index: 2100;
  }

  /* Safe zone bridge */
  .submenu::before {
    content: '';
    position: absolute;
    top: -8px;
    left: 0;
    right: 0;
    height: 8px;
    background: transparent;
  }

  .nav-item[data-open="true"] > .submenu {
    display: block;
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
  }

  .submenu a {
    display: block;
    width: 100%;
    margin: 0;
    padding: .6rem .75rem;
    border-radius: .65rem;
    border: 0;
    background: transparent;
    color: var(--ink);
    text-decoration: none;
    transition: background 0.15s ease;
  }

  .submenu a:hover,
  .submenu a:focus {
    background: #f2f7fa;
    outline: 2px solid transparent;
  }

  @media (max-width: 768px) {
    .nav {
      justify-content: flex-start;
      overflow-x: auto;
      scrollbar-width: thin;
      -webkit-overflow-scrolling: touch;
    }

    .nav-item > a,
    .nav-item > button {
      flex: 0 0 auto;
    }

    .submenu {
      left: 0;
      right: 0;
      min-width: 100%;
    }
  }
  
    /* Navigation */
    .nav {
      flex: 1 1 auto;
      min-width: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: .5rem;
      white-space: nowrap;
      flex-wrap: nowrap;
      overflow: visible;
      padding-inline: .75rem;
    }

    .nav-item {
      position: relative;
      display: inline-block;
    }

    .nav-item > a,
    .nav-item > button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .35rem;
      padding: .65rem 1rem;
      min-height: 44px;
      border-radius: 10px;
      background: #fff;
      border: 2px solid var(--rope);
      color: var(--accent);
      font: inherit;
      font-size: .95rem;
      line-height: 1.2;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .nav-item > a:hover,
    .nav-item > button:hover {
      background: var(--foam);
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .nav-item > a[aria-current="page"] {
      background: var(--accent);
      color: #fff;
      font-weight: 600;
      border-color: var(--accent);
    }

    /* Dropdown Navigation Styles */
    .nav-disclosure .caret {
      display: inline-block;
      margin-left: .25rem;
      transition: transform 0.2s ease;
    }

    .nav-item[data-open="true"] .nav-disclosure .caret {
      transform: rotate(180deg);
    }

    .submenu {
      position: absolute !important;
      left: 0;
      top: calc(100% + 4px);
      min-width: 240px;
      background: #fff;
      border: 2px solid var(--rope);
      border-radius: 12px;
      padding: .6rem;
      box-shadow: 0 8px 24px rgba(8,48,65,.15);
      display: none;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity 0.2s ease, visibility 0.2s ease;
      z-index: 2100;
    }

    .submenu::before {
      content: '';
      position: absolute;
      top: -8px;
      left: 0;
      right: 0;
      height: 8px;
      background: transparent;
    }

    .nav-item[data-open="true"] .submenu,
    .nav-group.open .submenu {
      display: block;
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }

    .submenu a {
      display: block;
      padding: .5rem .75rem;
      color: var(--text);
      text-decoration: none;
      border-radius: 8px;
      transition: background 0.15s ease;
    }

    .submenu a:hover,
    .submenu a:focus {
      background: #eef4f6;
      outline: none;
    }

    .submenu a[aria-current="page"] {
      background: #e6f4f8;
      font-weight: 600;
    }

    @media (max-width: 768px) {
      .submenu {
        position: static !important;
        min-width: 0;
        margin-top: .5rem;
        box-shadow: none;
        border: 1px solid var(--rope);
      }

      .submenu::before {
        display: none;
      }
    }
  
    /* Navigation */
    .nav {
      flex: 1 1 auto;
      min-width: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: .5rem;
      white-space: nowrap;
      flex-wrap: nowrap;
      overflow: visible;
      padding-inline: .75rem;
    }

    .nav-item {
      position: relative;
      display: inline-block;
    }

    .nav-item > a,
    .nav-item > button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .35rem;
      padding: .65rem 1rem;
      min-height: 44px;
      border-radius: 10px;
      background: #fff;
      border: 2px solid var(--rope);
      color: var(--accent);
      font: inherit;
      font-size: .95rem;
      line-height: 1.2;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .nav-item > a:hover,
    .nav-item > button:hover {
      background: var(--foam);
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .nav-item > a[aria-current="page"] {
      background: var(--accent);
      color: #fff;
      font-weight: 600;
      border-color: var(--accent);
    }

    /* Dropdown Navigation Styles */
    .nav-disclosure .caret {
      display: inline-block;
      margin-left: .25rem;
      transition: transform 0.2s ease;
    }

    .nav-item[data-open="true"] .nav-disclosure .caret {
      transform: rotate(180deg);
    }

    .submenu {
      position: absolute !important;
      left: 0;
      top: calc(100% + 4px);
      min-width: 240px;
      background: #fff;
      border: 2px solid var(--rope);
      border-radius: 12px;
      padding: .6rem;
      box-shadow: 0 8px 24px rgba(8,48,65,.15);
      display: none;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity 0.2s ease, visibility 0.2s ease;
      z-index: 2100;
    }

    .submenu::before {
      content: '';
      position: absolute;
      top: -8px;
      left: 0;
      right: 0;
      height: 8px;
      background: transparent;
    }

    .nav-item[data-open="true"] .submenu,
    .nav-group.open .submenu {
      display: block;
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }

    .submenu a {
      display: block;
      padding: .5rem .75rem;
      color: var(--text);
      text-decoration: none;
      border-radius: 8px;
      transition: background 0.15s ease;
    }

    .submenu a:hover,
    .submenu a:focus {
      background: #eef4f6;
      outline: none;
    }

    .submenu a[aria-current="page"] {
      background: #e6f4f8;
      font-weight: 600;
    }

    @media (max-width: 768px) {
      .submenu {
        position: static !important;
        min-width: 0;
        margin-top: .5rem;
        box-shadow: none;
        border: 1px solid var(--rope);
      }

      .submenu::before {
        display: none;
      }
    }
  </style>

  <!-- Reduced motion + SW (Every Page) -->
  <style>@media (prefers-reduced-motion: reduce){*{animation-duration:.001ms!important;transition-duration:.001ms!important;}}</style>
  <script>if('serviceWorker' in navigator){addEventListener('load',()=>navigator.serviceWorker.register('/sw.js').catch(()=>{}));}</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "Ken Baker",
  "url": "https://inthewake.com/about/ken-baker.html",
  "jobTitle": "Cruise Research Analyst & Data Specialist",
  "description": "Cruise industry analyst specializing in ship comparisons, deck plan analysis, and dining venue research.",
  "knowsAbout": [
    "Cruise Ship Analysis",
    "Deck Plans",
    "Royal Caribbean",
    "Cruise Dining",
    "Ship Comparisons"
  ]
}
</script>
</head>

<body class="page no-hero-filter">
  <a class="skip-link" href="#content">Skip to content</a>

  <header class="hero-header">
    <div class="navbar">
      <div class="brand">
        <img src="https://www.cruisinginthewake.com/assets/logo_wake.png" alt="In the Wake" width="256" height="64"/>
        <span class="tiny version-badge" aria-label="Site version 3.010.300">v3.010.300</span>
      </div>
      <nav class="nav" aria-label="Main site navigation">
        <div class="nav-item">
          <a href="/">Home</a>
        </div>

        <!-- Planning Dropdown -->
        <div class="nav-item nav-group" id="nav-planning" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-planning">
            Planning <span class="caret">▾</span>
          </button>
          <div id="menu-planning" class="submenu" role="menu" aria-label="Planning submenu">
            <a role="menuitem" href="/planning.html">Planning (overview)</a>
            <a role="menuitem" href="/ships.html">Ships</a>
            <a role="menuitem" href="/restaurants.html">Restaurants &amp; Menus</a>
            <a role="menuitem" href="/ports.html">Ports</a>
            <a role="menuitem" href="/drink-calculator.html">Drink Calculator</a>
            <a role="menuitem" href="/stateroom-check.html">Stateroom Check</a>
            <a role="menuitem" href="/cruise-lines.html">Cruise Lines</a>
            <a role="menuitem" href="/packing-lists.html">Packing Lists</a>
            <a role="menuitem" href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <!-- Travel Dropdown -->
        <div class="nav-item nav-group" id="nav-travel" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-travel">
            Travel <span class="caret">▾</span>
          </button>
          <div id="menu-travel" class="submenu" role="menu" aria-label="Travel submenu">
            <a role="menuitem" href="/travel.html">Travel (overview)</a>
            <a role="menuitem" href="/solo.html">Solo</a>
          </div>
        </div>

        <div class="nav-item">
          <a href="/about-us.html">About</a>
        </div>
      </nav>
    <!-- Navigation with Dropdown Menus -->
      
    </div>

    <div class="hero" role="img" aria-label="Open ocean at sunrise">
      <div class="latlon-grid" aria-hidden="true"></div>
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.010.300" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake.png?v=3.010.300" width="560" height="144" alt="In the Wake" decoding="async"/>
      </div>
      <div class="tagline" aria-hidden="true">A Cruise Traveler's Logbook</div>
      <div class="hero-credit">
        <a class="pill" href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Photo © Flickers of Majesty</a>
      </div>
    </div>
  </header>

  <main class="wrap" id="content">
    <!-- ICP-Lite v1.0: Answer-First Content -->
    <section class="icp-header" aria-labelledby="line-name">
      <h1 id="line-name">Royal Caribbean</h1>
      <p class="answer-line"><strong>Quick Answer:</strong> Royal Caribbean operates 7 ship classes from Icon (world's largest at 250K GT) to Vision (intimate 78K GT), featuring signature experiences like the Royal Promenade, ice shows, rock climbing, FlowRider surf, and massive water parks. Explore ship-by-ship guides, dining venues, and planning tools below.</p>

      <div class="fit-guidance">
        <h2>Is Royal Caribbean Right for You?</h2>
        <p>Royal Caribbean invites cruisers who want big-ship energy with neighborhood-style variety. From the revolutionary Icon Class water parks to the glass-walled Radiance ships, this line delivers active days filled with ice shows, surf simulators, rock walls, and extensive dining options.</p>
        <p>Perfect for active families, multi-generational groups, and anyone who loves the "wow factor" of mega-ship amenities. The Royal Promenade concept (an indoor boulevard with shops, cafes, and parades) creates a lively town-square atmosphere unique to Royal Caribbean. Start by class below, then explore individual ship pages for deck plans, live trackers, and venue details.</p>
      </div>

      <div class="key-facts">
        <h2>Key Facts at a Glance</h2>
        <ul>
          <li><strong>Ship Classes:</strong> 7 classes (Icon, Oasis, Quantum/Ultra, Freedom, Voyager, Radiance, Vision)</li>
          <li><strong>Size Range:</strong> 78,000 to 250,000 GT</li>
          <li><strong>Signature Features:</strong> Royal Promenade, ice skating, rock climbing, FlowRider, water parks</li>
          <li><strong>Best For:</strong> Active families, multi-generational groups, mega-ship enthusiasts</li>
          <li><strong>Resources Available:</strong> Ship pages with deck plans, live trackers, dining guides, stateroom videos</li>
        </ul>
      </div>
    </section>

    <!-- Search & Navigation -->
    <section class="card">
      <div class="tiny">Tip: Search below matches <em>ships</em>, <em>classes</em>, <em>venues</em>, and <em>experiences</em>. Toggle "Show unfinished ships" to include pages still in dry dock (no thumbnail yet).</div>
    </section>

    <!-- Search Board (ships / venues / experiences) -->
<section class="card" id="sb" role="region" aria-label="Search Royal Caribbean">
  <div class="toolbar" id="sb-view" aria-label="Choose content">
    <div class="seg">
      <button type="button" class="active" data-view="ships" aria-pressed="true">Ships</button>
      <button type="button" data-view="venues" aria-pressed="false">Venues</button>
      <button type="button" data-view="experiences" aria-pressed="false">Experiences</button>
    </div>
    <div class="seg" id="sb-finish" aria-label="Ship completion">
      <button type="button" class="active" data-finish="finished" aria-pressed="true">Finished only</button>
      <button type="button" data-finish="all" aria-pressed="false">Show unfinished ships</button>
    </div>
    <label class="visually-hidden" for="sb-q">Search</label>
    <div class="sb-qwrap">
      <input id="sb-q" type="search" inputmode="search" placeholder="Try: Oasis, Chops, Icon, Chef’s Table…" autocomplete="off" aria-controls="sb-out">
      <button type="button" id="sb-clear" class="sb-clear" aria-label="Clear search">×</button>
    </div>
  </div>

  <!-- Blurb that disappears on first interaction -->
  <div id="sb-welcome" class="tiny-muted" style="margin:.4rem 0 0">
    <p><strong>Choose your chart:</strong> tap <em>Ships</em>, <em>Venues</em>, or <em>Experiences</em>. Type to narrow, use the chips to filter, and <em>Load more</em> to see the rest. “Finished only” shows ships with thumbnails (live pages); flip the toggle to preview everything in dry dock.</p>
  </div>

  <!-- Context filters (change based on active view) -->
  <div class="toolbar" id="sb-filters" style="margin:.5rem 0 .5rem">
    <!-- Classes (always visible for Ships, optional for others) -->
    <div id="sb-classes" class="pillrow" aria-label="Filter by class"></div>

    <!-- Venue filter -->
    <div class="seg" id="sb-vfilter" aria-label="Venues filter">
      <button type="button" class="active" data-v="all">Venues: All</button>
      <button type="button" data-v="included">Included</button>
      <button type="button" data-v="premium">Premium</button>
    </div>

    <!-- Experiences filter -->
    <div class="seg" id="sb-xpfilter" aria-label="Experiences filter">
      <button type="button" class="active" data-xp="all">Experiences: All</button>
      <button type="button" data-xp="included">Included</button>
      <button type="button" data-xp="premium">Premium</button>
    </div>
  </div>

  <!-- Results -->
  <div id="sb-out" class="sb-grid" aria-live="polite"></div>
  <div class="center" style="margin-top:.6rem">
    <button type="button" id="sb-more" class="pillbtn">Load more</button>
  </div>
</section>

    <!-- Two-column: left content + right rail -->
    <section class="two-col">
      <div>
        <!-- Class → Ships pill tray -->
        <section class="card" id="class-pills">
          <h2>Classes</h2>
          <div class="pillrow" id="class-tray" aria-live="polite"></div>
          <div id="class-note" class="tiny tiny-muted" style="margin-top:.4rem">Classes are ordered largest → smallest by gross tonnage.</div>
        </section>

        <!-- Dynamic class sections (populated by JS in class order) -->
        <section class="card" id="classes">
          <h2>Ships by Class</h2>
          <div class="h-rule" aria-hidden="true"></div>
          <div id="class-sections"></div>
        </section>

        <!-- Experiences (full list, filterable) -->
        <section class="card" id="experiences">
          <h2>Experiences Onboard</h2>
          <div class="toolbar" style="margin:.5rem 0 .75rem">
            <div class="seg">
              <button type="button" class="active" data-exp2="all">All</button>
              <button type="button" data-exp2="included">Included</button>
              <button type="button" data-exp2="premium">Premium</button>
              <button type="button" id="exp2-clear">Clear</button>
            </div>
          </div>
          <div id="experience-grid" class="grid-3"></div>
        </section>

        <!-- Image credits -->
        <section class="card">
          <h3>Image Credits</h3>
          <p class="tiny">Attributions are noted per image where available; remaining placeholders are temporary and will be replaced with properly credited media from Wikimedia Commons or the cruise line’s press kit. See individual ship pages for exact file titles and licenses.</p>
          <ul class="tiny">
            <li>“Icon of the Seas” hero — Wikimedia Commons (credit pending final asset selection)</li>
            <li>“Wonder of the Seas” — Wikimedia Commons (credit pending final asset selection)</li>
            <li>Per-ship thumbnails — mixture of onboard photography and Commons; replace as we finalize.</li>
          </ul>
        </section>
      </div>

      <!-- Right rail -->
      <aside class="side-panel" aria-label="Dress code and venues">
        <!-- Dress code ABOVE venues -->
        <section class="card" id="dress-code">
          <h2>Dress Code</h2>
          <p><strong>Casual (daytime &amp; most venues):</strong> Jeans, polos, sundresses, and blouses fit the latitude. Keep swimwear to the pool deck; shorts welcome for breakfast and lunch.</p>
          <p><strong>Smart Casual (evenings &amp; specialty):</strong> A step up — collared shirts, dresses, skirts, blouses, or pantsuits. Jackets and blazers are welcome.</p>
          <p><strong>Formal (Dress Your Best):</strong> The night the ship gleams — suits and ties, tuxedos, cocktail dresses, or evening gowns.
            <br><span class="tiny">5-night voyages: one night · 6–10: two · 11–14: three · 15+: up to four (captain’s discretion). Guests in smart casual are not turned away on formal night.</span></p>
          <p class="tiny">Some specialty experiences (e.g., <em>Chef’s Table</em>) encourage formal attire. Otherwise, venues are smart casual by default.</p>
          <p class="tiny"><strong>Ashore:</strong> Modesty at churches and sacred sites is good seamanship; see local guidance on our <a href="https://www.cruisinginthewake.com/ports.html">Ports</a> pages.</p>
        </section>

        <!-- Venues panel -->
        <section class="card" id="venues">
          <h2>Venues</h2>
          <div class="toolbar" style="margin-bottom:.5rem">
            <div class="seg">
              <button type="button" data-v2="all" class="active">All</button>
              <button type="button" data-v2="included">Included</button>
              <button type="button" data-v2="premium">Premium</button>
            </div>
          </div>
          <div id="venue-list" class="side-venues" style="display:grid;gap:.6rem"></div>
        </section>
      </aside>
    </section>

    <!-- Visible invocation near footer -->
    <!-- ICP-Lite v1.0: FAQ Section -->
    <section class="card faq" aria-labelledby="faq-heading">
      <h2 id="faq-heading">Frequently Asked Questions</h2>

      <div class="faq-item">
        <h3>What ship classes does Royal Caribbean offer?</h3>
        <p>Royal Caribbean operates 7 ship classes: Icon Class (largest, newest), Oasis Class (mega-ships with neighborhoods), Quantum and Quantum Ultra Classes (technology-forward), Freedom Class (active family fun), Voyager Class (Royal Promenade pioneers), Radiance Class (glass and panoramic views), and Vision Class (classic intimate ships).</p>
      </div>

      <div class="faq-item">
        <h3>What are Royal Caribbean's signature features?</h3>
        <p>Royal Caribbean is known for the Royal Promenade indoor boulevard, ice skating shows, rock climbing walls, FlowRider surf simulators, water parks (including Category 6 on Icon Class), and neighborhood concepts on larger ships.</p>
      </div>

      <div class="faq-item">
        <h3>How do I find a specific Royal Caribbean ship?</h3>
        <p>Use the ship search on this page to filter by name or class. Each ship page includes deck plans, live tracker, dining venues, and stateroom videos.</p>
      </div>

      <div class="faq-item">
        <h3>What's the difference between Royal Caribbean ship classes?</h3>
        <p>Ship classes vary by size (78K to 250K GT), passenger capacity (2,000 to 7,600 guests), and features. Icon and Oasis classes are mega-ships with neighborhoods and water parks. Quantum classes emphasize technology. Voyager through Vision classes offer progressively smaller, more intimate experiences.</p>
      </div>
    </section>

    <section class="card center" style="margin-top:1rem">
      <p class="tiny">All pages are offered as a gift to God. <em>Soli Deo Gloria.</em></p>
    </section>
  </main>
<!-- === Royal Caribbean Data Arrays (for Search + Rendering) === -->
<script>
/* ====== DATA FEEDS FOR SEARCH BOARD ====== */

// 1️⃣  Base constants
window.ORIGIN = 'https://www.cruisinginthewake.com';
window.FALLBACK_IMG = '/assets/ships/placeholder-ship.jpg';

// 2️⃣  Image map (ships with thumbnails already finished)
window.IMAGE_MAP = {
  'enchantment-of-the-seas': ['/ships/assets/enchantment-of-the-seas1.jpg'],
  'grandeur-of-the-seas': ['/ships/assets/grandeur-of-the-seas1.jpg'],
  'rhapsody-of-the-seas': ['/ships/assets/rhapsody-of-the-seas1.jpg'],
  'vision-of-the-seas': ['/ships/assets/vision-of-the-seas1.jpg'],
  'adventure-of-the-seas': ['/ships/rcl/images/Adventure_of_the_Seas1.jpeg'],
  'allure-of-the-seas': ['/ships/assets/images/allure-of-the-seas-3.jpg'],
  'wonder-of-the-seas': ['/ships/assets/images/wonder-of-the-seas-1.jpg']
};

// 3️⃣  Classes (largest → smallest by GT)
window.CLASS_ORDER = [
  'Icon','Oasis','Quantum','Quantum Ultra','Freedom','Voyager','Radiance','Vision'
];

// 4️⃣  Ships
window.SHIPS = [
  // Icon
  {name:'Icon of the Seas',slug:'icon-of-the-seas',cls:'Icon'},
  {name:'Star of the Seas',slug:'star-of-the-seas',cls:'Icon'},
  // Oasis
  {name:'Oasis of the Seas',slug:'oasis-of-the-seas',cls:'Oasis'},
  {name:'Allure of the Seas',slug:'allure-of-the-seas',cls:'Oasis'},
  {name:'Harmony of the Seas',slug:'harmony-of-the-seas',cls:'Oasis'},
  {name:'Symphony of the Seas',slug:'symphony-of-the-seas',cls:'Oasis'},
  {name:'Wonder of the Seas',slug:'wonder-of-the-seas',cls:'Oasis'},
  {name:'Utopia of the Seas',slug:'utopia-of-the-seas',cls:'Oasis'},
  // Quantum
  {name:'Quantum of the Seas',slug:'quantum-of-the-seas',cls:'Quantum'},
  {name:'Anthem of the Seas',slug:'anthem-of-the-seas',cls:'Quantum'},
  {name:'Ovation of the Seas',slug:'ovation-of-the-seas',cls:'Quantum'},
  // Quantum Ultra
  {name:'Spectrum of the Seas',slug:'spectrum-of-the-seas',cls:'Quantum Ultra'},
  {name:'Odyssey of the Seas',slug:'odyssey-of-the-seas',cls:'Quantum Ultra'},
  // Freedom
  {name:'Freedom of the Seas',slug:'freedom-of-the-seas',cls:'Freedom'},
  {name:'Liberty of the Seas',slug:'liberty-of-the-seas',cls:'Freedom'},
  {name:'Independence of the Seas',slug:'independence-of-the-seas',cls:'Freedom'},
  // Voyager
  {name:'Voyager of the Seas',slug:'voyager-of-the-seas',cls:'Voyager'},
  {name:'Explorer of the Seas',slug:'explorer-of-the-seas',cls:'Voyager'},
  {name:'Adventure of the Seas',slug:'adventure-of-the-seas',cls:'Voyager'},
  {name:'Navigator of the Seas',slug:'navigator-of-the-seas',cls:'Voyager'},
  {name:'Mariner of the Seas',slug:'mariner-of-the-seas',cls:'Voyager'},
  // Radiance
  {name:'Radiance of the Seas',slug:'radiance-of-the-seas',cls:'Radiance'},
  {name:'Brilliance of the Seas',slug:'brilliance-of-the-seas',cls:'Radiance'},
  {name:'Serenade of the Seas',slug:'serenade-of-the-seas',cls:'Radiance'},
  {name:'Jewel of the Seas',slug:'jewel-of-the-seas',cls:'Radiance'},
  // Vision
  {name:'Vision of the Seas',slug:'vision-of-the-seas',cls:'Vision'},
  {name:'Grandeur of the Seas',slug:'grandeur-of-the-seas',cls:'Vision'},
  {name:'Rhapsody of the Seas',slug:'rhapsody-of-the-seas',cls:'Vision'},
  {name:'Enchantment of the Seas',slug:'enchantment-of-the-seas',cls:'Vision'}
];

// 5️⃣  Venues (included vs premium)
window.VENUES = [
  // Premium
  v('Chops Grille','premium','chops-grille'),
  v('150 Central Park','premium','150-central-park'),
  v('Wonderland','premium','wonderland'),
  v('Giovanni’s Italian Kitchen','premium','giovannis'),
  v('Izumi','premium','izumi'),
  v('Teppanyaki','premium','teppanyaki'),
  v('Hooked Seafood','premium','hooked-seafood'),
  v('The Mason Jar','premium','mason-jar'),
  v('Portside BBQ','premium','portside-bbq'),
  v('Jamie’s Italian','premium','jamies-italian'),
  v('Playmakers Sports Bar & Arcade','premium','playmakers'),
  v('Chef’s Table','premium','chefs-table'),
  v('Empire Supper Club','premium','empire-supper-club'),
  v('Vintages Wine Bar','premium','vintages'),
  v('Izumi Sushi & Sake Pairing','premium','izumi-sake-pairing'),
  v('Giovanni’s Wine Bar','premium','giovannis-wine-bar'),
  v('Starbucks (select ships)','premium','starbucks'),
  v('Johnny Rockets (lunch/dinner)','premium','johnny-rockets'),
  v('Sugar Beach','premium','sugar-beach'),
  // Included
  v('Main Dining Room','included','main-dining-room'),
  v('Windjammer Marketplace','included','windjammer'),
  v('Coastal Kitchen (Suites)','included','coastal-kitchen'),
  v('Sorrento’s Pizza','included','sorrentos'),
  v('El Loco Fresh','included','el-loco-fresh'),
  v('Park Café','included','park-cafe'),
  v('Café Promenade','included','cafe-promenade'),
  v('Dog House','included','dog-house'),
  v('Sprinkles Ice Cream','included','sprinkles'),
  v('Boardwalk Donut Shop','included','boardwalk-donuts'),
  v('Vitality Café','included','vitality-cafe'),
  v('Solarium Bistro','included','solarium-bistro'),
  v('Wipeout Café','included','wipeout-cafe'),
  v('Room Service (continental breakfast)','included','room-service-continental'),
  v('The Lime & Coconut (bar)','included','lime-and-coconut'),
  v('Pub / Copper & Kettle','included','pub'),
  v('Boleros','included','boleros'),
  v('Schooner Bar','included','schooner-bar'),
  v('Bionic Bar','included','bionic-bar'),
  v('Johnny Rockets (breakfast)','included','johnny-rockets-breakfast'),
  v('La Patisserie / Café Latte-tudes','included','patisserie'),
  v('Mini Bites / Boardwalk Bites','included','mini-bites'),
  v('Splashaway Café','included','splashaway-cafe'),
  v('Royal Promenade Bars','included','promenade-bars')
];
function v(name,type,slug){return {name,type,slug,href:`${ORIGIN}/restaurants/${slug}.html`};}

// 6️⃣  Experiences
window.EXPERIENCES = [
  ex('FlowRider® Surf Simulator','included',['Icon','Oasis','Quantum','Quantum Ultra','Freedom','Voyager']),
  ex('Rock Climbing Wall','included',['Icon','Oasis','Quantum','Quantum Ultra','Freedom','Voyager']),
  ex('iFly® Skydiving (RipCord®)','included',['Icon','Oasis','Quantum','Quantum Ultra']),
  ex('North Star® Observation Pod','included',['Quantum','Quantum Ultra']),
  ex('Zip Line','included',['Oasis','Freedom','Icon']),
  ex('Ultimate Abyss℠','included',['Oasis']),
  ex('Perfect Storm℠ Waterslides','included',['Icon','Oasis','Freedom','Voyager']),
  ex('Bumper Cars (SeaPlex)','included',['Quantum','Quantum Ultra']),
  ex('Ice Skating (Studio B)','included',['Oasis','Freedom','Voyager','Quantum','Quantum Ultra','Icon']),
  ex('Mini Golf','included',CLASS_ORDER),
  ex('Escape Room','premium',['Oasis','Freedom','Voyager','Quantum','Icon']),
  ex('Chef’s Table','premium',CLASS_ORDER,true),
  ex('Taste of Royal','premium',CLASS_ORDER,true),
  ex('Mixology / Tastings','premium',CLASS_ORDER,true),
  ex('Love & Marriage Game Show','included',CLASS_ORDER),
  ex('Quest (Adult Game Show)','included',CLASS_ORDER),
  ex('Belly Flop / Cannonball','included',CLASS_ORDER),
  ex('World’s Sexiest Man','included',CLASS_ORDER)
];
function ex(name,type,classes,formal){return {name,type,classes,formal:!!formal};}
</script>
<!-- === END Royal Caribbean Data Arrays === -->
<script>
(function(){
  'use strict';

  // ---- helper shims (will not clobber if you already defined) ----
  const $  = window.$  || (s=>document.querySelector(s));
  const $$ = window.$$ || (s=>Array.from(document.querySelectorAll(s)));
  const el = window.el || ((t,c)=>{const n=document.createElement(t); if(c) n.className=c; return n;});
  const norm = window.norm || (s=>String(s||'').toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'').replace(/[’‘]/g,"'").trim());

  // ---- local config/state ----
  const ORIGIN = (window.ORIGIN) || 'https://www.cruisinginthewake.com';
  const FALLBACK_IMG = (window.FALLBACK_IMG) || '/assets/ships/placeholder-ship.jpg';
  const CLASS_ORDER = (window.CLASS_ORDER) || ['Icon','Oasis','Quantum','Quantum Ultra','Freedom','Voyager','Radiance','Vision'];
  const IMAGE_MAP = (window.IMAGE_MAP)||{};
  const SHIPS     = (window.SHIPS)||[];
  const VENUES    = (window.VENUES)||[];
  const EXPERIENCES = (window.EXPERIENCES)||[];

  let view = 'ships';             // ships | venues | experiences
  let finishedOnly = true;        // ships: finished pages only
  let classFilter = new Set();    // empty = all classes
  let vFilter = 'all';            // venues: all|included|premium
  let xFilter = 'all';            // experiences: all|included|premium
  let interacted = false;
  let page = 0;                   // pagination page
  const pageSize = 9;             // 9 rows per page

  // Dress policy note per venue; default is smart casual
  const VENUE_DRESS = Object.assign({
    'chefs-table': 'Formal encouraged',
    // 'empire-supper-club': 'Formal encouraged',
  }, window.VENUE_DRESS||{});

  // abs + encoded
  const abs = p => p.startsWith('http') ? p : (ORIGIN + p);
  const encAbs = p => { const [path, rest] = p.split(/([?#].*)/); return abs(encodeURI(path) + (rest||'')); };

  const isFinished = slug => Array.isArray(IMAGE_MAP[slug]) && IMAGE_MAP[slug].length>0;
  function pickImg(slug){
    const conventional = [`/ships/rcl/${slug}-1.jpg`,`/ships/rcl/${slug}-1.jpeg`,`/ships/rcl/${slug}-1.png`];
    const list = (IMAGE_MAP[slug]||[]).concat(conventional);
    return list[0] ? encAbs(list[0]) : encAbs(FALLBACK_IMG);
  }

  // ---- DOM refs ----
  const WRAP = $('#sb'); if(!WRAP) return;       // nothing to do if section missing
  const OUT  = $('#sb-out');
  const MORE = $('#sb-more');
  const Q    = $('#sb-q');

  // welcome blurb removal
  const markInteracted = ()=>{ if(!interacted){ interacted = true; const w=$('#sb-welcome'); if(w) w.remove(); } };

  // ---- build class chips ----
  function renderClassChips(){
    const host = $('#sb-classes'); if(!host) return;
    host.innerHTML = '';
    CLASS_ORDER.forEach(cls=>{
      const b = el('button','pillbtn');
      b.type='button'; b.textContent = `${cls} Class`;
      b.addEventListener('click', ()=>{
        if(classFilter.has(cls)) classFilter.delete(cls); else classFilter.add(cls);
        b.classList.toggle('active', classFilter.has(cls));
        resetAndRender();
      });
      host.appendChild(b);
    });
  }

  // ---- renderers ----
  function shipRow(s){
    const a = el('a','list-row'); a.href = `${ORIGIN}/ships/rcl/${s.slug}.html`;
    const t = el('span','thumb'); const img = el('img'); img.alt = s.name; img.src = pickImg(s.slug); t.appendChild(img);
    const b = el('span'); b.innerHTML = `<div class="title">${s.name}</div><div class="meta">${s.cls} Class</div>`;
    a.append(t,b); return a;
  }
  function venueRow(v){
    const a = el('a','list-row'); a.href = v.href || `${ORIGIN}/restaurants/${v.slug}.html`;
    const t = el('span','thumb'); const img = el('img'); img.alt = v.name; t.appendChild(img);
    const dress = VENUE_DRESS[v.slug] || 'Smart casual by default';
    const b = el('span'); b.innerHTML = `<div class="title">${v.name}</div><div class="meta">${v.type==='premium'?'Premium':'Included'} · ${dress}</div>`;
    a.append(t,b); return a;
  }
  function xpRow(x){
    const a = el('div','list-row'); const t = el('span','thumb'); t.innerHTML=''; // no img
    const formal = x.formal ? ' · Formal encouraged' : '';
    const b = el('span'); b.innerHTML = `<div class="title">${x.name}</div><div class="meta">${x.type==='premium'?'Premium':'Included'}${formal} · Classes: ${x.classes.join(', ')}</div>`;
    a.append(t,b); return a;
  }

  // ---- filtering + search ----
  function buildPool(){
    const q = norm(Q.value);
    let items = [];
    if(view==='ships'){
      items = SHIPS
        .filter(s => finishedOnly ? isFinished(s.slug) : true)
        .filter(s => classFilter.size ? classFilter.has(s.cls) : true)
        .filter(s => !q || norm(`${s.name} ${s.cls}`).includes(q))
        .map(s => shipRow(s));
    }else if(view==='venues'){
      items = VENUES
        .filter(v => vFilter==='all' || v.type===vFilter)
        .filter(v => !q || norm(`${v.name} ${v.type}`).includes(q))
        .map(v => venueRow(v));
    }else{
      items = EXPERIENCES
        .filter(x => xFilter==='all' || x.type===xFilter)
        .filter(x => !q || norm(`${x.name} ${x.type} ${x.classes.join(' ')}`).includes(q))
        .map(x => xpRow(x));
    }
    return items;
  }

  function renderPage(){
    const all = buildPool();
    const start = page*pageSize;
    const slice = all.slice(start, start+pageSize);
    slice.forEach(n=>OUT.appendChild(n));
    // more?
    if(start + pageSize >= all.length) MORE.classList.add('sb-hidden');
    else MORE.classList.remove('sb-hidden');
  }

  function resetAndRender(){
    OUT.innerHTML=''; page=0; renderPage();
  }

  // ---- wire controls ----
  function wire(){
    // view tabs
    $$('#sb-view [data-view]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        $$('#sb-view [data-view]').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        view = btn.dataset.view;
        document.getElementById('sb-finish').classList.toggle('sb-hidden', view!=='ships');
        document.getElementById('sb-vfilter').classList.toggle('sb-hidden', view!=='venues');
        document.getElementById('sb-xpfilter').classList.toggle('sb-hidden', view!=='experiences');
        resetAndRender(); markInteracted();
      });
    });

    // finished toggle
    $$('#sb-finish [data-finish]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        $$('#sb-finish [data-finish]').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        finishedOnly = (btn.dataset.finish==='finished');
        resetAndRender(); markInteracted();
      });
    });

    // venue / experience filters
    $$('#sb-vfilter [data-v]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        $$('#sb-vfilter [data-v]').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        vFilter = btn.dataset.v; resetAndRender(); markInteracted();
      });
    });
    $$('#sb-xpfilter [data-xp]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        $$('#sb-xpfilter [data-xp]').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        xFilter = btn.dataset.xp; resetAndRender(); markInteracted();
      });
    });

    // query
    Q.addEventListener('input', ()=>{ markInteracted(); clearTimeout(Q._t); Q._t=setTimeout(resetAndRender, 80); });
    $('#sb-clear').addEventListener('click', ()=>{ Q.value=''; resetAndRender(); markInteracted(); });

    // load more
    MORE.addEventListener('click', ()=>{ page++; renderPage(); });

    // first visibility state
    document.getElementById('sb-vfilter').classList.add('sb-hidden');
    document.getElementById('sb-xpfilter').classList.add('sb-hidden');
  }

  // init
  renderClassChips();
  wire();
  // start empty (show blurb) until input/interaction
  OUT.innerHTML=''; MORE.classList.add('sb-hidden');

})();
</script><script>
(function() {
  'use strict';

  // --- helpers (reuse globals if present) ---
  const $  = s => document.querySelector(s);
  const el = (t,c)=>{const n=document.createElement(t); if(c) n.className=c; return n;};
  const abs = p => p.startsWith('http') ? p : (ORIGIN + p);
  const encAbs = p => { const [path, rest] = p.split(/([?#].*)/); return abs(encodeURI(path) + (rest||'')); };
  const isFinished = slug => Array.isArray(window.IMAGE_MAP?.[slug]) && window.IMAGE_MAP[slug].length>0;

  function pickImg(slug){
    const conventional = [`/ships/rcl/${slug}-1.jpg`,`/ships/rcl/${slug}-1.jpeg`,`/ships/rcl/${slug}-1.png`];
    const list = (window.IMAGE_MAP?.[slug]||[]).concat(conventional);
    return list[0] ? encAbs(list[0]) : encAbs(FALLBACK_IMG);
  }

  // Experiences available on a ship (by class)
  function shipExperiences(ship) {
    const cls = ship.cls;
    const inc = [];
    const prem = [];
    for (const x of EXPERIENCES) {
      const onThis = x.classes && x.classes.includes(cls);
      if (!onThis) continue;
      (x.type === 'premium' ? prem : inc).push(x);
    }
    return { inc, prem };
  }

  function classBlurb(cls){
  const by = {
    'Icon': 
      'The newest flagships of the fleet — vast floating cities with neighborhoods in the sky and promenades at sea level. AquaDome shows defy physics, Surfside keeps families smiling, and Central Park sways with live strings under real trees. These are ships that make sea days feel like destinations in themselves.',

    'Oasis': 
      'The class that redefined the modern cruise ship. Oasis-class vessels brought neighborhoods to the ocean: Boardwalk nostalgia, Central Park tranquility, and AquaTheater spectacles that rival Broadway. Perfect for families, groups, and anyone who likes a little “wow” mixed with their wake.',

    'Quantum': 
      'Technology meets exploration. Quantum-class ships sail cooler routes and bring the adventure indoors: North Star® observation pods, RipCord® skydiving, and robotic bartenders. Designed for smart weather flexibility, these ships balance innovation with surprising serenity.',

    'Quantum Ultra': 
      'A warmer-weather evolution of Quantum — the same tech-forward design, but tuned for tropics and nightlife. SeaPlex brings bumper cars and glow parties, while iFly® and North Star® keep the skyline moving. The Ultra class lives up to its name: familiar comfort with an amped-up pulse.',

    'Freedom': 
      'The bridge between classic and colossal. Freedom-class ships keep the FlowRider®, promenade parades, and family-friendly scale — without the size of newer behemoths. Expect proven favorites, spirited pool decks, and a crew that knows how to balance fun with efficiency.',

    'Voyager': 
      'Royal Caribbean’s trailblazers of the early 2000s. The first to skate at sea and stroll a true promenade, Voyager-class ships deliver a condensed “mega-ship” experience with manageable size and warmth. Perfect for first-time cruisers who still want ice shows and nightlife variety.',

    'Radiance': 
      'Glass-wrapped and purpose-built for scenery. Radiance-class ships excel on glacier routes and coastal itineraries where the view matters most. Expect bright atriums, Solarium calm, and specialty dining done without flash. Smaller crowds, larger windows, and excellent service define these vessels.',

    'Vision': 
      'The fleet’s explorers — smaller, older, deeply loved. Vision-class ships trade bells and whistles for intimacy and itinerary. Ideal for port-intensive voyages where connection and conversation replace parades and pyrotechnics. A favorite among loyal cruisers who know the value of “ship life.”'
  };
  return by[cls] || '';
}

  function shipCard(s){
    const xp = shipExperiences(s);
    const a = el('a','ship-card');
    a.href = `${ORIGIN}/ships/rcl/${s.slug}.html`;
    const incCount = xp.inc.length;
    const premCount = xp.prem.length;
    const tooltipNames = [...xp.inc.slice(0,4).map(x=>x.name), ...xp.prem.slice(0,2).map(x=>`★ ${x.name}`)].join(', ');
    a.title = tooltipNames ? `Onboard highlights: ${tooltipNames}${xp.inc.length+xp.prem.length>6?'…':''}` : `Open ${s.name}`;

    a.innerHTML = `
      <span class="thumb"><img loading="lazy" decoding="async" alt="${s.name}" src="${pickImg(s.slug)}"></span>
      <span class="body">
        <strong>${s.name}</strong>
        <span class="badge">${s.cls}</span>
        <span class="badge" aria-label="Experiences available">${incCount} incl · ${premCount} prem</span>
      </span>
    `;
    return a;
  }

  function renderClassPills(){
    const tray = document.getElementById('class-tray');
    if (!tray) return;
    tray.innerHTML = '';
    CLASS_ORDER.forEach(cls=>{
      const b = el('button','pillbtn');
      b.type='button'; b.textContent = `${cls} Class`;
      b.addEventListener('click', ()=>{
        const id = `sec-${cls.toLowerCase().replace(/\s+/g,'-')}`;
        const sec = document.getElementById(id);
        if (sec) sec.scrollIntoView({behavior:'smooth', block:'start'});
      });
      tray.appendChild(b);
    });
  }

  function renderClassSections(){
    const host = document.getElementById('class-sections');
    if (!host) return;
    host.innerHTML = '';
    CLASS_ORDER.forEach(cls=>{
      const sec = el('section','card');
      sec.id = `sec-${cls.toLowerCase().replace(/\s+/g,'-')}`;
      const h = el('h3'); h.textContent = `${cls} Class`;
      const p = el('p','tiny'); p.textContent = classBlurb(cls);
      sec.append(h,p);

      const grid = el('div','grid-3');
      const list = SHIPS.filter(s => s.cls===cls); // show *all* by class
      list.forEach(s => grid.appendChild(shipCard(s)));
      sec.appendChild(grid);

      host.appendChild(sec);
    });
  }

  // kick
  renderClassPills();
  renderClassSections();
})();
</script>
  <!-- JAVASCRIPT -->
  <script>
  (function(){
    "use strict";

    /* ===== Dropdown Menu with 300ms Hover Delay ===== */
    const dropdownGroups = Array.from(document.querySelectorAll('.nav-group'));
    if (dropdownGroups.length) {
      const hoverTimeouts = new Map();
      const HOVER_DELAY = 300;

      function setOpen(group, isOpen) {
        group.dataset.open = isOpen ? "true" : "false";
        const button = group.querySelector('.nav-disclosure');
        if (button) {
          button.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
        }
      }

      function closeAll(except = null) {
        dropdownGroups.forEach(group => {
          if (group !== except) {
            setOpen(group, false);
            if (hoverTimeouts.has(group)) {
              clearTimeout(hoverTimeouts.get(group));
              hoverTimeouts.delete(group);
            }
          }
        });
      }

      dropdownGroups.forEach(group => {
        const button = group.querySelector('.nav-disclosure');
        const menu = group.querySelector('.submenu');
        if (!button || !menu) return;

        // Click to toggle
        button.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          const isOpen = group.dataset.open === "true";
          closeAll(group);
          setOpen(group, !isOpen);
        });

        // Mouse enter: Open immediately
        group.addEventListener('mouseenter', () => {
          if (hoverTimeouts.has(group)) {
            clearTimeout(hoverTimeouts.get(group));
            hoverTimeouts.delete(group);
          }
          closeAll(group);
          setOpen(group, true);
        });

        // Mouse leave: Close after delay
        group.addEventListener('mouseleave', () => {
          const timeoutId = setTimeout(() => {
            setOpen(group, false);
            hoverTimeouts.delete(group);
          }, HOVER_DELAY);
          hoverTimeouts.set(group, timeoutId);
        });

        // Keyboard navigation
        group.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            setOpen(group, false);
            button && button.focus();
          }
          if ((e.key === 'ArrowDown' || e.key === 'ArrowUp') && document.activeElement === button) {
            e.preventDefault();
            setOpen(group, true);
            const firstLink = menu.querySelector('a, button, [tabindex]:not([tabindex="-1"])');
            firstLink && firstLink.focus();
          }
        });

        // Close when tabbing away
        menu.addEventListener('focusout', () => {
          setTimeout(() => {
            if (!group.contains(document.activeElement)) {
              setOpen(group, false);
            }
          }, 0);
        });
      });

      // Close all when clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.nav-group')) {
          closeAll();
        }
      });

      // Close all when window loses focus
      window.addEventListener('blur', () => {
        closeAll();
      });
    }
  })();
  </script>

  

  <!-- Dropdown nav behavior (300ms Hover Delay) -->
  <script>
  (function(){
    "use strict";

    /* ===== Dropdown Menu with 300ms Hover Delay ===== */
    const dropdownGroups = Array.from(document.querySelectorAll('.nav-group'));
    if (dropdownGroups.length) {
      const hoverTimeouts = new Map();
      const HOVER_DELAY = 300;

      function setOpen(group, isOpen) {
        group.dataset.open = isOpen ? "true" : "false";
        const button = group.querySelector('.nav-disclosure');
        if (button) {
          button.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
        }
      }

      function closeAll(except = null) {
        dropdownGroups.forEach(group => {
          if (group !== except) {
            setOpen(group, false);
            if (hoverTimeouts.has(group)) {
              clearTimeout(hoverTimeouts.get(group));
              hoverTimeouts.delete(group);
            }
          }
        });
      }

      dropdownGroups.forEach(group => {
        const button = group.querySelector('.nav-disclosure');
        const menu = group.querySelector('.submenu');
        if (!button || !menu) return;

        // Click to toggle
        button.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          const isOpen = group.dataset.open === "true";
          closeAll(group);
          setOpen(group, !isOpen);
        });

        // Mouse enter: Open immediately
        group.addEventListener('mouseenter', () => {
          if (hoverTimeouts.has(group)) {
            clearTimeout(hoverTimeouts.get(group));
            hoverTimeouts.delete(group);
          }
          closeAll(group);
          setOpen(group, true);
        });

        // Mouse leave: Close after delay
        group.addEventListener('mouseleave', () => {
          const timeoutId = setTimeout(() => {
            setOpen(group, false);
            hoverTimeouts.delete(group);
          }, HOVER_DELAY);
          hoverTimeouts.set(group, timeoutId);
        });

        // Keyboard navigation
        group.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            setOpen(group, false);
            button && button.focus();
          }
          if ((e.key === 'ArrowDown' || e.key === 'ArrowUp') && document.activeElement === button) {
            e.preventDefault();
            setOpen(group, true);
            const firstLink = menu.querySelector('a, button, [tabindex]:not([tabindex="-1"])');
            firstLink && firstLink.focus();
          }
        });

        // Close when tabbing away
        menu.addEventListener('focusout', () => {
          setTimeout(() => {
            if (!group.contains(document.activeElement)) {
              setOpen(group, false);
            }
          }, 0);
        });
      });

      // Close all when clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.nav-group')) {
          closeAll();
        }
      });

      // Close all when window loses focus
      window.addEventListener('blur', () => {
        closeAll();
      });
    }
  })();
  </script>
</body>
