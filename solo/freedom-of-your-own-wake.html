<!doctype html>
<html lang="en">
<head>
  <!-- ======================================================
       In the Wake — Solo Article (standalone, repaired)
       Page: The Freedom of Your Own Wake
       Version: 3.010.030  |  Standards baseline: 3.010.x
       ====================================================== -->

  <!-- Core -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="referrer" content="no-referrer"/>
  <meta name="robots" content="index,follow,max-image-preview:large"/>
  <meta name="color-scheme" content="light dark"/>
  <meta name="theme-color" content="#0e6e8e"/>
  <meta name="version" content="3.010.030"/>
  <meta name="author" content="Ken Baker"/>

  <!-- Title & SEO -->
  <title>The Freedom of Your Own Wake — Solo Travel | In the Wake</title>
  <meta name="description" content="A gentle case for sailing alone — rest, rhythm, and room to breathe when the sea becomes both your mirror and your companion."/>

  <!-- Canonical -->
  <link rel="canonical" href="https://www.cruisinginthewake.com/solo/freedom-of-your-own-wake.html"/>

  <!-- Social -->
  <meta property="og:type" content="article"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:title" content="The Freedom of Your Own Wake"/>
  <meta property="og:description" content="A gentle case for sailing alone — rest, rhythm, and room to breathe at sea."/>
  <meta property="og:url" content="https://www.cruisinginthewake.com/solo/freedom-of-your-own-wake.html"/>
  <meta property="og:image" content="https://www.cruisinginthewake.com/assets/articles/freedom-of-your-own-wake.jpg?v=3.008.017"/>
  <meta property="og:image:width" content="1600"/>
  <meta property="og:image:height" content="900"/>
  <meta property="article:section" content="Solo Travel"/>
  <meta property="article:published_time" content="2025-10-22"/>
  <meta property="article:modified_time"  content="2025-10-22"/>
  <meta name="twitter:card" content="summary_large_image"/>

  <!-- Preload LCP hero -->
  <link rel="preload" as="image" href="/assets/articles/freedom-of-your-own-wake.jpg?v=3.008.017" fetchpriority="high"/>



  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Article",
    "headline":"The Freedom of Your Own Wake",
    "description":"A gentle case for sailing alone — rest, rhythm, and room to breathe when the sea becomes both your mirror and your companion.",
    "author":{"@type":"Person","name":"Ken Baker","url":"https://www.cruisinginthewake.com/authors/ken-baker.html"},
    "publisher":{"@type":"Organization","name":"In the Wake","logo":{"@type":"ImageObject","url":"https://www.cruisinginthewake.com/assets/logo_wake.png"}},
    "image":"https://www.cruisinginthewake.com/assets/articles/freedom-of-your-own-wake.jpg?v=3.008.017",
    "mainEntityOfPage":"https://www.cruisinginthewake.com/solo/freedom-of-your-own-wake.html",
    "datePublished":"2025-10-22",
    "dateModified":"2025-10-22",
    "articleSection":"Solo Travel"
  }
  </script>

 <style>
  /* ===== Solo Article Styles v3.010.030 ===== */
  :root{
    --sea:#0a3d62; --foam:#e6f4f8; --rope:#d9b382; --ink:#083041; --sky:#f7fdff; --accent:#0e6e8e;
    --shadow:0 6px 22px rgba(8,48,65,.08);
  }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0}
  body{font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--ink);background:var(--sky)}
  a{color:var(--accent);text-decoration:none} a:hover{text-decoration:underline}
  img{max-width:100%;height:auto;display:block}
  .wrap{max-width:1100px;margin:0 auto;padding:20px 14px 36px}
  .card{background:#fff;border:2px solid var(--rope);border-radius:14px;padding:1rem;margin:.8rem 0;box-shadow:0 2px 6px rgba(8,48,65,.08)}
  h1,h2,h3{color:var(--sea)} .tiny{font-size:.88rem;color:#456} .center{text-align:center}

  /* Skip link */
  .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
  .skip-link:focus{left:.75rem;top:.5rem;width:auto;height:auto;background:#0e6e8e;color:#fff;border-radius:10px;padding:.35rem .6rem;z-index:2000;outline:0}

  /* Header / hero */
  .hero-header{position:relative;border-bottom:6px double var(--rope);background:#eaf6f6;z-index:0}
  .navbar{
    max-width:1100px;margin:0 auto;display:flex;align-items:flex-end;gap:.6rem;
    padding:.5rem .9rem .35rem;position:relative;z-index:2000; /* top of stack */
    overflow:visible;
  }
  .brand{display:flex;align-items:flex-end;gap:.6rem}
  .brand img{height:28px;width:auto}
  .version-badge{font-size:.72rem;opacity:.8}

  .pill-nav{
    flex:1 1 auto;min-width:0;display:flex;align-items:center;justify-content:center;
    gap:.45rem;white-space:nowrap;flex-wrap:nowrap;overflow:visible;padding-inline:.75rem;
  }
  .pill-nav a,.pill-nav button.nav-disclosure{
    display:inline-flex;align-items:center;gap:.35rem;padding:.35rem .7rem;border-radius:10px;background:#fff;
    border:1px solid var(--rope);color:#0e6e8e;font:inherit;font-size:.9rem;line-height:1.2;cursor:pointer;text-decoration:none
  }
  .nav-group{position:relative;display:inline-block}

  /* Dropdown – default hidden */
  .submenu{
    position:absolute;left:0;top:calc(100% + 8px);
    min-width:220px;background:#fff;border:1px solid var(--rope);
    border-radius:12px;padding:.4rem;box-shadow:0 8px 24px rgba(8,48,65,.12);
    display:none;opacity:0;visibility:hidden;pointer-events:none;
    transition:opacity .15s ease;z-index:2100;
  }
  /* Programmatic open (JS) */
  .nav-group[data-open="true"] > .submenu,
  .nav-group.open > .submenu{
    display:block !important;
    opacity:1 !important;
    visibility:visible !important;
    pointer-events:auto !important;
  }
  /* CSS fallback: open on hover and keyboard focus */
  .nav-group:hover > .submenu,
  .nav-group:focus-within > .submenu{
    display:block !important;
    opacity:1 !important;
    visibility:visible !important;
    pointer-events:auto !important;
  }
  header,.hero-header,.navbar,.pill-nav{ overflow:visible; }

  .hero{
    position:relative;width:100%;min-height:clamp(200px,24vw,340px);
    background:url('/assets/index_hero.jpg') 50% 50%/cover no-repeat;
    display:flex;align-items:flex-end;overflow-x:clip;z-index:0;
  }
  .hero *{filter:none!important;mix-blend-mode:normal!important;opacity:1!important}
  .hero-compass{position:absolute;right:min(3vw,1rem);top:.5rem;width:86px;opacity:.95;z-index:2;pointer-events:none}
  .hero-title{position:absolute;left:min(3vw,1rem);bottom:clamp(.6rem,2vw,1.4rem);z-index:3;display:flex;align-items:flex-end;gap:.6rem;text-shadow:0 2px 6px rgba(0,0,0,.45)}
  .hero-title .logo{display:block;opacity:1;visibility:visible;width:clamp(189px,23.1vw,378px);max-width:min(45vw,520px)}

  /* Tagline — single source of truth */
  .tagline{
    position:absolute;left:50%;bottom:clamp(.55rem,1.6vw,1.1rem);
    transform:translateX(-50%);font-weight:700;letter-spacing:.2px;color:#e6f4f8;
    font-size:clamp(.9rem,1.5vw,1.35rem);white-space:nowrap;z-index:3;
  }

  .hero-credit{position:absolute;right:.85rem;bottom:.85rem;z-index:4}
  .hero-credit .pill.long{display:inline-block;padding:.45rem .7rem;border-radius:999px;background:#fff;border:1px solid var(--rope);font-weight:600;color:#0a3d62;box-shadow:0 1.5px 6px rgba(8,48,65,.15)}

  /* Article figures/captions normalized */
  .solo-article figure,
  .solo-article .article-hero{
    margin:0 0 1rem 0;padding:10px;max-width:min(860px,92%);margin-inline:auto;
    background:#fff;border:1px solid rgba(8,48,65,.10);border-radius:16px;box-shadow:var(--shadow)
  }
  .solo-article figure img,
  .solo-article .article-hero img{
    display:block !important;width:100% !important;height:auto !important;object-fit:contain !important;
    position:static !important;float:none !important;border-radius:12px
  }
  .solo-article .article-hero > figcaption,
  .solo-article figure > figcaption{
    display:block !important;clear:both !important;margin-top:.65rem;padding-top:.45rem;text-align:left;
    border-top:1px dashed rgba(8,48,65,.12);font-size:.95rem;line-height:1.4;color:#083041;opacity:.9
  }
  figure figcaption { text-align:inherit; }

  /* Layout rails */
  .page-grid{display:grid;grid-template-columns:minmax(0,1fr) minmax(260px,320px);gap:2rem;align-items:start}
  @media (max-width:979.98px){.page-grid{grid-template-columns:1fr}}
  .rail-list{display:grid;gap:1rem}
  .rail section.card + section.card{margin-top:.75rem}

  /* Author avatar */
  .author-avatar{
    display:block;width:48px;height:48px;border-radius:50%;object-fit:cover;object-position:center;flex:0 0 48px;
  }
  .author-card picture{ display:block; flex:0 0 48px; }

  .toc a.active{font-weight:700;text-decoration:underline}
   /* ========= NAV: limit pill styling to top-level only ========= */
.pill-nav {
  flex: 1 1 auto; min-width: 0;
  display: flex; align-items: center; justify-content: center;
  gap: .45rem; white-space: nowrap; flex-wrap: nowrap;
  overflow: visible; padding-inline: .75rem;
}

/* Only top-level links/buttons get pill styling */
.pill-nav > a,
.pill-nav > .nav-group > .nav-disclosure {
  display: inline-flex; align-items: center; gap: .35rem;
  padding: .35rem .7rem; border-radius: 10px; background: #fff;
  border: 1px solid var(--rope); color: #0e6e8e;
  font: inherit; font-size: .9rem; line-height: 1.2;
  cursor: pointer; text-decoration: none;
}

/* Submenu container: baseline hidden (wins over any global) */
.submenu{
  position: absolute !important;
  left: 0; top: calc(100% + 8px);
  min-width: 220px; background: #fff; border: 1px solid var(--rope);
  border-radius: 12px; padding: .4rem;
  box-shadow: 0 8px 24px rgba(8,48,65,.12);
  display: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  z-index: 1100;
}

/* Reveal when the group is “open” (dataset or class) */
.nav-group[data-open="true"] > .submenu,
.nav-group.open > .submenu{
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

/* Submenu links look like menu items, not pills */
.submenu a{
  display: block; width: 100%;
  margin: 0; padding: .5rem .65rem;
  border-radius: .65rem; border: 0;
  background: transparent; color: var(--ink); text-decoration: none;
}
.submenu a:hover, .submenu a:focus{
  background: #f2f7fa;
  outline: 2px solid transparent;
}

/* Keep the popover visible (no clipping) */
header, .hero-header, .navbar, .pill-nav, .nav-group { overflow: visible; }
.nav-group { position: relative; }

/* ========= TAGLINE: back under the logo (left-aligned) ========= */
.tagline{
  position: absolute;
  left: min(3vw, 1rem);           /* tuck under the logo */
  bottom: clamp(.55rem, 1.6vw, 1.1rem);
  transform: none !important;     /* remove centering */
  font-weight: 700; letter-spacing: .2px;
  color: #e6f4f8;
  font-size: clamp(.9rem,1.5vw,1.35rem);
  white-space: nowrap; z-index: 3;
}

/* ========= (Unchanged but helpful) ========= */
header, .hero-header, .navbar { position: relative; z-index: 1000; }
</style>
</head>
<body class="page">
  <a href="#content" class="skip-link">Skip to main content</a>

  <!-- =========================== HEADER ============================ -->
  <header class="hero-header">
    <div class="navbar">
      <div class="brand">
        <img src="/assets/logo_wake.png?v=3.010.030" alt="In the Wake wordmark" width="256" height="64" decoding="async"/>
        <span class="tiny version-badge">v3.010.030</span>
      </div>

      <!-- SAME MENU AS THE WORKING PAGE -->
      <nav class="nav pill-nav" aria-label="Primary">
        <a href="/">Home</a>

        <div class="nav-item nav-group" id="nav-planning" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-planning">Planning ▾</button>
          <div id="menu-planning" class="submenu" role="menu" aria-label="Planning">
            <a role="menuitem" href="/planning.html">Planning (overview)</a>
            <a role="menuitem" href="/ships.html">Ships</a>
            <a role="menuitem" href="/restaurants.html">Restaurants &amp; Menus</a>
            <a role="menuitem" href="/ports.html">Ports</a>
            <a role="menuitem" href="/drink-packages.html">Drink Packages</a>
            <a role="menuitem" href="/packing-lists.html">Packing Lists</a>
            <a role="menuitem" href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <div class="nav-item nav-group" id="nav-travel" data-open="false">
          <button class="nav-disclosure" type="button" aria-expanded="false" aria-haspopup="true" aria-controls="menu-travel">Travel ▾</button>
          <div id="menu-travel" class="submenu" role="menu" aria-label="Travel">
            <a role="menuitem" href="/travel.html">Travel (overview)</a>
            <a role="menuitem" href="/solo.html" aria-current="page">Solo</a>
          </div>
        </div>

        <a href="/about-us.html">About</a>
      </nav>
    </div>

    <div class="hero" role="img" aria-label="Ship wake at sunrise">
      <img class="hero-compass" src="/assets/compass_rose.svg?v=3.010.030" width="180" height="180" alt="" aria-hidden="true" decoding="async"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake.png?v=3.010.030" width="560" height="144" alt="In the Wake" decoding="async"/>
      </div>
      <div class="tagline">A Cruise Traveler’s Logbook</div>
      <div class="hero-credit">
        <a class="pill long" href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Photo © Flickers of Majesty</a>
      </div>
    </div>
  </header>

  <!-- ============================ MAIN ============================ -->
  <!-- ============================ MAIN ============================ -->
<main id="content" class="wrap page-grid" role="main" aria-label="Main content">
  <!-- Direct children of .page-grid (no wrapper div) -->

  <!-- ===================== SOLO ARTICLE ======================== -->
 
<article class="card solo-article" itemscope itemtype="https://schema.org/Article" id="freedom-of-your-own-wake" data-slug="freedom-of-your-own-wake">
  <header class="article-hero" style="max-width:min(860px,92%);margin-inline:auto">
    <h1 itemprop="headline">The Freedom of Your Own Wake</h1>
    <p class="dek" itemprop="description">A gentle case for sailing alone — rest, rhythm, and room to breathe when the sea becomes both your mirror and your companion.</p>
  </header>

  <!-- TOP HERO -->
  <figure class="article-hero">
    <img
      src="https://www.cruisinginthewake.com/assets/articles/freedom-of-your-own-wake.jpg?v=3.008.017"
      width="1600" height="900"
      loading="eager" decoding="async" fetchpriority="high"
      alt="Sunrise over a calm sea">
    <figcaption>
      Photo © <a href="https://flickersofmajesty.com" target="_blank" rel="noopener noreferrer">Flickers of Majesty</a>
    </figcaption>
  </figure>

  <p>There’s something sacred about the moment a ship pulls away from the pier — that quiet hum, the slow drift, the gentle widening of the wake. I’ve sailed with friends, with family, with groups and gatherings, but the first time I sailed <em>alone</em>, something changed. For the first time, I heard the rhythm of the ocean without the noise of my own schedule. I learned that solitude at sea isn’t loneliness — it’s space. It’s rest. It’s a conversation between the soul and the horizon.</p>

  <h2 id="finding-peace">Finding Peace in the Quiet</h2>
  <p>When you sail solo, you learn to notice things you’d otherwise miss. The weight of your coffee mug as the ship rocks slightly. The way the morning light flickers off the waves. The sound of a hymn playing quietly in your heart as you lean over the railing, watching the world stretch wide and blue. You start to remember what peace actually feels like.</p>

  <p>It isn’t just the absence of noise — it’s the presence of God’s handiwork in the small and ordinary moments. Out there, it’s easy to believe again that His mercies are new every morning, even when you’re miles from shore.</p>

  <figure class="pull">
    <blockquote>“The sea doesn’t shout for your attention — it waits for your silence.”</blockquote>
    <figcaption>— Ken Baker</figcaption>
  </figure>

  <h2 id="gift-of-going-alone">The Gift of Going Alone</h2>
  <p>People often ask, “Why cruise alone?” And my answer is simple: sometimes you need to sail without a crowd to remember who you are beneath the noise. A solo voyage gives you permission to think, to pray, to breathe, to watch sunsets without needing to post them. It isn’t selfish — it’s restorative.</p>

  <p>Without the constant pull of conversation or planning, you begin to hear the voice of the One who calms the seas. You begin to realize that solitude is not separation — it’s communion. And sometimes, the most faithful thing you can do is take a deep breath and let the Lord steer for a while.</p>

  <!-- INLINE IMAGE -->
  <figure class="inline-hero">
    <img
      src="https://www.cruisinginthewake.com/assets/index_hero.jpg?v=3.008.017"
      loading="lazy" decoding="async"
      alt="Wake trailing a ship at sunrise">
    <figcaption>
      Photo © <a href="https://flickersofmajesty.com" target="_blank" rel="noopener noreferrer">Flickers of Majesty</a>
    </figcaption>
  </figure>

  <h2 id="lessons-from-the-wake">Lessons from the Wake</h2>
  <ul>
    <li><strong>Pack light — spiritually and practically.</strong> You don’t need to bring everything. The sea has a way of reminding you that less is more, and that simplicity is its own kind of luxury.</li>
    <li><strong>Be still.</strong> Don’t fill every moment with plans. Sit in a quiet corner of the ship and just watch the water move. Let it move you too.</li>
    <li><strong>Reflect rather than escape.</strong> Solo travel isn’t running away — it’s turning toward. It’s space to meet the Lord again in the in-between places.</li>
  </ul>

  <h2 id="following-in-his-wake">Following in His Wake</h2>
  <p>Every ship leaves a wake — a shimmering trail that fades behind it, but never quite disappears. That’s how the Christian life feels when you’re walking (or sailing) with Christ. You move forward, but grace follows close behind. The wake reminds you that where you’ve been still matters, even as He leads you on.</p>

  <p>So go. Go in faith. Take a journey not to get away from the world, but to see it again through grateful eyes. The ocean may not answer your questions, but it will make you quiet enough to hear when God does.</p>

  <footer class="byline">
    <div class="avatar" style="width:48px;height:48px;border-radius:999px;overflow:hidden;flex:none">
      <picture>
        <source type="image/webp" srcset="https://www.cruisinginthewake.com/authors/img/ken1.webp?v=3.008.017">
        <img
          src="https://www.cruisinginthewake.com/authors/img/ken1.jpg?v=3.008.017"
          alt="Ken Baker" width="48" height="48"
          loading="lazy" decoding="async" style="width:100%;height:100%;object-fit:cover">
      </picture>
    </div>
    <div style="margin-left:.5rem">
      <strong><a href="https://ken-baker.com?utm_source=solo_article&utm_medium=byline_link&utm_campaign=ken_profile" target="_blank" rel="noopener noreferrer">Ken Baker</a></strong>
      <a class="share" href="#" role="button" style="margin-left:.75rem">Share this article</a>
      <div class="author-links" style="margin-top:.35rem; font-size:.95rem; opacity:.9">
        <a href="https://instagram.com/flickersofmajesty?utm_source=cruisinginthewake&utm_medium=byline_social&utm_campaign=ken_profile" target="_blank" rel="noopener noreferrer">Instagram</a> ·
        <a href="https://flickersofmajesty.com?utm_source=cruisinginthewake&utm_medium=byline_social&utm_campaign=ken_profile" target="_blank" rel="noopener noreferrer">Flickers of Majesty</a> ·
        <a href="https://ken-baker.com?utm_source=cruisinginthewake&utm_medium=byline_social&utm_campaign=ken_profile" target="_blank" rel="noopener noreferrer">Personal Site</a>
      </div>
    </div>
  </footer>

  <section class="cards stack" id="solo-disclosure">
    <article class="card disclosure">
      <h3>Disclosure</h3>
      <p class="pill disclosure">I’ve stood the watch aboard many ships — mostly Royal Caribbean — with more than 150 nights at sea, sailing enough miles to circle the globe and having visited over 30 nations. This article is no borrowed winds; it is instead depth soundings taken in my own wake, trimmed and charted for those who follow. <a href="https://ken-baker.com">~Ken</a></p>
    </article>
  </section>
</article>  <!-- ===================== RIGHT-SIDE RAIL ========================== -->
  <aside class="rail" role="complementary" aria-label="Author & articles">
    <!-- On this page -->
    <section class="card toc-card" aria-labelledby="toc-title">
      <h2 id="toc-title" class="tiny" style="margin:.25rem 0 .5rem;color:#0a3d62">On this page</h2>
      <nav class="toc" aria-label="Table of contents">
        <ol class="tiny" style="display:grid;gap:.35rem;margin:0;padding-left:1.1rem">
          <li><a href="#freedom-of-your-own-wake">Top</a></li>
          <li><a href="#finding-peace">Finding Peace in the Quiet</a></li>
          <li><a href="#gift-of-going-alone">The Gift of Going Alone</a></li>
          <li><a href="#lessons-from-the-wake">Lessons from the Wake</a></li>
          <li><a href="#following-in-his-wake">Following in His Wake</a></li>
        </ol>
      </nav>
    </section>

    <!-- Author card -->
    <section id="author-rail" class="card" aria-label="Author information">
      <h2 class="tiny" style="margin-bottom:.25rem;color:#0a3d62">About the author</h2>
      <div class="author-card" style="display:flex;gap:.75rem;align-items:center;">
        <!-- populated by JS -->
      </div>
    </section>

    <!-- Recent Articles rail -->
    <section class="card" aria-labelledby="recent-rail-title">
      <h2 id="recent-rail-title" class="tiny" style="margin:.25rem 0 .5rem;color:#0a3d62">Recent Articles</h2>
      <div id="recent-rail" class="rail-list" aria-live="polite"></div>
    </section>
  </aside>
</main>

  <!-- =========================== FOOTER ============================ -->
  <footer class="wrap" role="contentinfo">
    © 2025 In the Wake — A Cruise Traveler’s Logbook
    <span class="version-badge">v3.010.030</span>
  </footer>

  <!-- =========================== JS ================================ -->
 <script>
/* ===== Solo Article JS v3.010.030 ===== */
document.addEventListener('DOMContentLoaded', () => {
  /* 1) Normalize article figure so global .hero rules never hijack it */
  try {
    document.querySelectorAll('figure.article-hero.hero').forEach(f => f.classList.remove('hero'));
  } catch(_) {}

  /* 2) Accessible dropdowns — robust (click, hover/focus CSS fallback, keyboard, outside/Escape) */
  (function(){
    const groups = [...document.querySelectorAll('.nav-group')];
    if(!groups.length) return;

    const setOpen = (g,on)=>{
      g.dataset.open = on ? 'true' : 'false';
      g.classList.toggle('open', !!on); // extra class in case CSS targets .open
      const b = g.querySelector('.nav-disclosure');
      if (b) b.setAttribute('aria-expanded', on ? 'true' : 'false');
    };
    const closeAll = (except=null)=> groups.forEach(g=>{ if(g!==except) setOpen(g,false); });

    groups.forEach(g=>{
      const btn  = g.querySelector('.nav-disclosure');
      const menu = g.querySelector('.submenu');
      if(!btn || !menu) return;

      // Toggle on click
      btn.addEventListener('click', (e)=>{
        e.preventDefault();
        e.stopPropagation();
        const open = g.dataset.open === 'true';
        closeAll(g);
        setOpen(g, !open);
      });

      // Keyboard support on the group (Esc + ArrowDown from button)
      g.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape'){
          setOpen(g,false);
          if (document.activeElement && !g.contains(document.activeElement)) return;
          btn && btn.focus();
        }
        if(e.key === 'ArrowDown' && document.activeElement === btn){
          e.preventDefault();
          setOpen(g,true);
          const first = menu.querySelector('a,button,[tabindex]:not([tabindex="-1"])');
          first && first.focus();
        }
      });

      // Keep open while focusing within; close when focus leaves the whole group
      menu.addEventListener('focusout',()=>{
        setTimeout(()=>{ if(!g.contains(document.activeElement)) setOpen(g,false); },0);
      });
    });

    // Close on outside click (bubble phase) and when window loses focus
    document.addEventListener('click', (e)=>{
      if(!e.target.closest('.nav-group')) closeAll();
    });
    window.addEventListener('blur', ()=> closeAll());
  })();

  /* 3) Helpers */
  async function fetchJSONWithFallback(urls){
    for (const u of urls){
      try{
        const res = await fetch(u, { credentials: 'omit', cache: 'no-cache' });
        if (res.ok) return await res.json();
      }catch(_){ /* keep trying */ }
    }
    return null;
  }
  const pick = (obj, keys, fallback=null)=>{
    for(const k of keys){ if(obj && obj[k] != null) return obj[k]; }
    return fallback;
  };
  function setImageWithFallback(imgEl, primary, altPaths=[]){
    if(!imgEl) return;
    const stamp = 'v=3.010.030';
    const tried = new Set();
    const queue = [primary, ...altPaths]
      .filter(Boolean)
      .map(p => p.includes('?') ? p+'&'+stamp : p+'?'+stamp);

    function tryNext(){
      const next = queue.shift();
      if(!next){ imgEl.removeAttribute && imgEl.removeAttribute('onerror'); return; }
      if(tried.has(next)) return tryNext();
      tried.add(next);
      imgEl.src = next;
    }
    imgEl.onerror = tryNext;
    tryNext();
  }

  /* 4) Right-rail: Authors */
  (async function(){
    const data = await fetchJSONWithFallback(['/data/authors.json','/assets/data/authors.json']);
    const rail = document.getElementById('author-rail');
    if(!rail || !data) return;

    const list = Array.isArray(data.authors) ? data.authors : (Array.isArray(data) ? data : []);
    const ken = list.find(a => /ken\s*baker/i.test(a.name||'')) || list[0];
    if(!ken) return;

    const host = rail.querySelector('.author-card');
    if(!host) return;

    host.innerHTML = `
      <picture>
        <source type="image/webp" srcset="/authors/img/ken1.webp">
        <img class="author-avatar" src="/authors/img/ken1.jpg" width="48" height="48" alt="Author — Ken Baker">
      </picture>
      <div>
        <strong><a href="/authors/ken-baker.html">Ken Baker</a></strong><br/>
        Founder of In the Wake and writer of Travel content. Founder of Flickers of Majesty. Pastor at <a href="https://lakeviewfellowshipchurch.com/" target="_blank" rel="noopener">Lakeview Fellowship</a>. Shepherd at Manatee Creek Farms. <br/>
        <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a> ·
        Instagram <a href="https://instagram.com/flickersofmajesty" target="_blank" rel="noopener">@flickersofmajesty</a>
      </div>`;
  })();

  /* 5) Right-rail: Recent articles (with absolute Top-20 image override) */
  (async function(){
    const raw = await fetchJSONWithFallback(['/assets/data/articles/index.json','/assets/data/articles.json']);
    const rail = document.getElementById('recent-rail');
    if(!rail || !raw) return;

    const items = Array.isArray(raw?.articles) ? raw.articles : (Array.isArray(raw) ? raw : []);
    if(!items.length) return;

    const here = location.pathname.replace(/\/+$/,'');
    const view = items.filter(p=>{
      const href = pick(p,['url','path'],'#'); const norm = (href||'').replace(/\/+$/,'');
      return norm && norm !== here;
    }).slice(0,6);

    rail.innerHTML = view.map(p=>{
      const title = pick(p,['title','name'],'Article');
      const href  = pick(p,['url','path'],'#');
      return `
        <a class="card" style="display:grid;grid-template-columns:72px 1fr;gap:.6rem;align-items:center" href="${href}">
          <div style="width:72px;height:48px;overflow:hidden;border-radius:10px;background:#eef4f6;border:1px solid #dfe7ea">
            <img class="article-thumb" alt="" decoding="async" style="width:100%;height:100%;object-fit:cover">
          </div>
          <div class="tiny" style="line-height:1.35">${title}</div>
        </a>`;
    }).join('');

    const cards = [...rail.querySelectorAll('a.card')];

    cards.forEach((card,i)=>{
      const p = view[i] || {};
      const el = card.querySelector('img.article-thumb');
      const href  = (pick(p,['url','path'],'')||'').toLowerCase();
      const title = (pick(p,['title','name'],'')||'').toLowerCase();

      let primary = pick(p,['image','cover','img','thumb','thumbnail'], null);

      // FORCE override for Top-20 regardless of existing image
      if (/(top-20|first-?cruise-?questions)/.test(href) || /top\s*20.*first.*cruise.*questions/.test(title)){
        primary = 'https://cruisinginthewake.com/assets/articles/top-20-questions/cover.jpg';
      }
      // Friendly specifics
      if(!primary && (/freedom-of-your-own-wake/.test(href) || /freedom of your own wake/.test(title))){
        primary = '/assets/articles/freedom-of-your-own-wake/cover.jpg';
      }
      if(!primary && (/\/travel(\.html)?$/.test(href) || /\btravel\b/.test(title))){
        primary = '/assets/articles/travel/cover.jpg';
      }
      // Heuristic fallback
      if(!primary){
        const slugify = s => (s||'').toLowerCase().replace(/https?:\/\/[^/]+/,'').replace(/[#?].*$/,'').split('/').filter(Boolean).pop()||'';
        const guess = slugify(href) || slugify(title);
        if(guess) primary = `/assets/articles/${guess}/cover.jpg`;
      }

      const alts = [];
      if(primary){
        const base = primary.replace(/\.(jpg|jpeg|png|webp)$/i,'');
        alts.push(`${base}.jpeg`, `${base}.JPG`, `${base}.webp`, `${base}.png`);
      }
      setImageWithFallback(el, primary || '/assets/index_hero.jpg', alts);
    });
  })();

  /* 6) TOC scrollspy (highlight current section) */
  (function(){
    const toc = document.querySelector('.toc-card nav');
    const links = toc ? [...toc.querySelectorAll('a[href^="#"]')] : [];
    if(!links.length) return;

    const map = links.map(a=>{
      const id = a.getAttribute('href').slice(1);
      const el = document.getElementById(id);
      return el ? {a, el} : null;
    }).filter(Boolean);

    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        const hit = map.find(m => m.el === e.target);
        if(!hit) return;
        if(e.isIntersecting){
          links.forEach(x => x.classList.remove('active'));
          hit.a.classList.add('active');
        }
      });
    },{rootMargin:'-40% 0px -55% 0px', threshold:0});

    map.forEach(m=>io.observe(m.el));
  })();

  /* 7) Service worker (version bump for cache) */
  if('serviceWorker' in navigator){
    const v='3.010.030';
    navigator.serviceWorker.register('/sw.js?v='+encodeURIComponent(v)).catch(()=>{});
  }
});
</script>

  <script>
/* Robust solo-link normalizer — fixes absolute/relative + late-added links */
(function normalizeSoloArticleLinks(){
  "use strict";

  // Treat these as same-site
  const SAME_HOSTS = new Set([
    location.host,
    location.host.replace(/^www\./,''),
    "cruisinginthewake.com",
    "www.cruisinginthewake.com"
  ]);

  // Fix a single <a> if it points to /solo/articles/<slug>[.html][?q][#h]
  function fixOne(a){
    const raw = a.getAttribute('href');
    if(!raw) return;
    try{
      const u = new URL(raw, location.origin);
      const hostKey = u.host.replace(/^www\./,'');
      if(!SAME_HOSTS.has(u.host) && !SAME_HOSTS.has(hostKey)) return; // external – ignore

      // Match both with and without ".html"
      const m = u.pathname.match(/^\/?solo\/articles\/([a-z0-9\-]+)(?:\.html)?$/i);
      if(!m) return;

      // Rewrite path, preserve search+hash
      u.pathname = `/solo/${m[1]}.html`;

      // Use path-only for same-origin, absolute for others (just in case)
      const newHref = (u.origin === location.origin)
        ? (u.pathname + u.search + u.hash)
        : u.toString();

      if (newHref !== raw) a.setAttribute('href', newHref);
    }catch(_){}
  }

  // Scan a subtree
  function scan(root){
    (root.querySelectorAll ? root.querySelectorAll('a[href]') : []).forEach(fixOne);
  }

  // Initial pass
  scan(document);

  // Catch dynamically added links (rails, loaders, etc.)
  const mo = new MutationObserver(muts=>{
    for (const m of muts){
      for (const n of m.addedNodes){
        if(n.nodeType !== 1) continue;
        if(n.matches && n.matches('a[href]')) fixOne(n);
        scan(n);
      }
    }
  });
  mo.observe(document.body, { childList:true, subtree:true });

  // Safety pass on bfcache restores
  window.addEventListener('pageshow', ()=> scan(document));
})();
</script>

  <!-- Site JS -->
  <script defer src="/assets/js/share-bar.js?v=3.010.004"></script>
  <script defer src="/assets/js/sw-register.js?v=3.010.004"></script>
</body>
</html>
