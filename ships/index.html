<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Royal Caribbean Fleet — In the Wake (v3.005)</title>
  <meta name="description" content="Browse Royal Caribbean's 'of the Seas' ships — Radiance, Enchantment, Grandeur, and more."/>
  <meta name="referrer" content="no-referrer"/>
  <link rel="stylesheet" href="/assets/styles.css?v=3.005"/>
  <script src="/assets/js/share-bar.js" defer></script>
  <script>
  (async function(){
    const jsons=[
      '/ships/assets/data/rc-fleet-index.json',
      '/data/rcl_of_the_seas.json'
    ];
    async function loadFleet(){
      for(const url of jsons){
        try{const r=await fetch(url,{cache:'no-store'});if(r.ok)return await r.json();}catch(e){}
      }
      throw new Error('Fleet data unavailable');
    }

    const IMAGES={
      'adventure-of-the-seas':[
        '/ships/rcl/images/Adventure_of_the_Seas1.jpeg','/ships/rcl/images/Adventure_of_the_Seas2.jpg','/ships/rcl/images/Adventure_of_the_Seas3.jpg'
      ],
      'enchantment-of-the-seas':[
        '/ships/assets/enchantment-of-the-seas1.jpg','/ships/assets/images/Enchantment_of_the_Seas.jpeg','/images/enchantment-of-the-seas2.jpeg'
      ],
      'grandeur-of-the-seas':[
        '/ships/assets/grandeur-of-the-seas1.jpg'
      ],
      'radiance-of-the-seas':[
        '/ships/rcl/assets/radiance-of-the-seas.json','/ships/assets/images/allure2.jpg'
      ],
      'rhapsody-of-the-seas':[
        '/ships/assets/rhapsody-of-the-seas1.jpg','/ships/assets/images/Rhapsody_of_the_Seas_2 Medium.jpeg'
      ],
      'sovereign-of-the-seas':[
        '/ships/assets/sovereign-of-the-seas1.jpg','/ships/assets/sovereign-of-the-seas2.jpg','/ships/assets/sovereign-of-the-seas3.jpg'
      ],
      'vision-of-the-seas':[
        '/ships/assets/vision-of-the-seas1.jpg'
      ]
    };

    function pickImg(slug){const arr=IMAGES[slug];if(!arr)return null;return arr[Math.floor(Math.random()*arr.length)];}

    const data=await loadFleet();
    const ships=(data.ships||[]).filter(s=>/of the seas/i.test(s.name));
    const root=document.getElementById('fleet-grid');
    ships.forEach(s=>{
      const slug=s.slug||s.name.toLowerCase().replace(/ /g,'-');
      const img=pickImg(slug);
      if(!img)return;
      const el=document.createElement('a');
      el.href=`/ships/rcl/${slug}.html`;
      el.className='card';
      el.innerHTML=`<div class="thumb"><img src="${img}" alt="${s.name}"/></div><h3>${s.name}</h3>`;
      root.appendChild(el);
    });
  })();
  </script>
</head>
<body>
  <header class="site-header hero-header">
    <div class="navbar">
      <div class="brand"><img src="/assets/logo_wake.png" alt="In the Wake"/></div>
      <nav class="pill-nav pills">
        <a href="/">Home</a>
        <a href="/ships/" aria-current="page">Ships</a>
        <a href="/restaurants.html">Restaurants</a>
        <a href="/drink-packages.html">Drink Packages</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="card"><h1>Royal Caribbean Fleet</h1>
      <p>Explore the completed ship pages for Royal Caribbean International. Each ship below links to its dedicated page. More ships coming soon.</p>
    </section>
    <section id="fleet-grid" class="grid-3"></section>
  </main>

  <script>
  if('serviceWorker' in navigator){
    navigator.serviceWorker.register('/sw.js').catch(()=>{});
  }
  </script>
</body>
</html>
