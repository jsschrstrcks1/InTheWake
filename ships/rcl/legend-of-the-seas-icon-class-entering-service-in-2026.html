<!doctype html>
<!--
Soli Deo Gloria
All work on this project is offered as a gift to God.
"Trust in the LORD with all your heart, and do not lean on your own understanding." — Proverbs 3:5
"Whatever you do, work heartily, as for the Lord and not for men." — Colossians 3:23

STANDARDS: Every Page v3.010.300 · Production Template · Unified Nav v3.010.300 · A11y/WCAG 2.1 AA Compliant
-->
<html class="no-js" lang="en">
<head>
  <script>(function(h){h.className=h.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<!-- ai-breadcrumbs
     entity: Legend of the Seas (Icon Class 2026)
     type: Ship Information Page
     parent: /ships.html
     category: Royal Caribbean Fleet
     cruise-line: Royal Caribbean
     ship-class: Icon Class
     updated: 2025-11-15
     expertise: Royal Caribbean ship reviews, deck plans, dining analysis, cabin comparisons
     target-audience: Legend of the Seas (Icon Class 2026) cruisers, Icon Class researchers, ship comparison shoppers
     answer-first: Legend of the Seas (Icon Class 2026): deck plans, live tracker, dining venues, and stateroom videos. Plan your Royal Caribbean cruise with In the Wake
     -->
  <!-- ======================================================
       In the Wake — Legend of the Seas (Icon Class 2026) • Royal Caribbean
       Version: 3.010.300  |  Soli Deo Gloria ✝️

       ✅ WCAG 2.1 Level AA Compliant
       ✅ SEO Optimized (JSON-LD, OpenGraph, Twitter Cards)
       ✅ Dropdown Menus with Hover Delay (300ms)
       ✅ AI-First SEO with E-E-A-T Person Schema
       ====================================================== -->

  <!-- Core -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="referrer" content="no-referrer-when-downgrade"/>

  <!-- SEO: Robots & Crawling -->
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1"/>
  <meta name="googlebot" content="index,follow"/>
  <meta name="bingbot" content="index,follow"/>

  <!-- SEO: Theme & Appearance -->
  <meta name="color-scheme" content="light"/>
  <meta name="theme-color" content="#0e6e8e"/>
  <meta name="version" content="3.010.300"/>
  <meta name="author" content="In the Wake"/>
  <meta name="publisher" content="In the Wake"/>

  <!-- ICP-Lite v1.0 Meta Tags -->
  <meta name="ai-summary" content="Legend of the Seas (Icon Class 2026) is Royal Caribbean's next Icon Class ship, expected to enter service in 2026 with cutting-edge amenities, expanded neighborhoods, and the signature Thrill Island aqua park."/>
  <meta name="last-reviewed" content="2025-11-18"/>
  <meta name="content-protocol" content="ICP-Lite v1.4"/>

  <!-- Title & SEO -->
  <title>Legend of the Seas (Icon Class 2026) — Deck Plans, Live Tracker, Dining & Videos | In the Wake (V1.Beta)</title>
  <link rel="canonical" href="https://cruisinginthewake.com/ships/rcl/legend-of-the-seas-icon-class-entering-service-in-2026.html"/>
  <meta name="description" content="Legend of the Seas (Icon Class 2026): deck plans, live tracker, dining venues, and stateroom videos. Plan your Royal Caribbean cruise with In the Wake."/>

  <!-- OpenGraph -->
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="In the Wake"/>
  <meta property="og:title" content="Legend of the Seas (Icon Class 2026) — Deck Plans, Live Tracker, Dining & Videos"/>
  <meta property="og:description" content="All the essentials for Legend of the Seas (Icon Class 2026): live map, dining, stats, and videos."/>
  <meta property="og:url" content="https://cruisinginthewake.com/ships/rcl/legend-of-the-seas-icon-class-entering-service-in-2026.html"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:image" content="https://cruisinginthewake.com/assets/social/legend-of-the-seas-icon-class-entering-service-in-2026.jpg"/>

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content="Legend of the Seas (Icon Class 2026) — Deck Plans, Live Tracker, Dining & Videos"/>
  <meta name="twitter:description" content="Live tracker, dining, deck plans, and videos for Legend of the Seas (Icon Class 2026)."/>
  <meta name="twitter:image" content="https://cruisinginthewake.com/assets/social/legend-of-the-seas-icon-class-entering-service-in-2026.jpg"/>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WZP891PZXJ"></script>
  <script>
    window.dataLayer=window.dataLayer||[];
    function gtag(){dataLayer.push(arguments);}
    gtag('js',new Date());
    gtag('config','G-WZP891PZXJ',{anonymize_ip:true});
  </script>

  <!-- Umami (secondary analytics) -->
  <script defer src="https://cloud.umami.is/script.js" data-website-id="9661a449-3ba9-49ea-88e8-4493363578d2"></script>

  <!-- JSON-LD: Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "In the Wake",
    "url": "https://cruisinginthewake.com",
    "logo": "https://cruisinginthewake.com/assets/logo_wake.png"
  }
  </script>

  <!-- JSON-LD: WebSite + SearchAction -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "In the Wake",
    "url": "https://cruisinginthewake.com/",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://cruisinginthewake.com/search.html?q={query}",
      "query-input": "required name=query"
    }
  }
  </script>

  <!-- JSON-LD: BreadcrumbList -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://cruisinginthewake.com/"},
      {"@type": "ListItem", "position": 2, "name": "Ships", "item": "https://cruisinginthewake.com/ships.html"},
      {"@type": "ListItem", "position": 3, "name": "Royal Caribbean", "item": "https://cruisinginthewake.com/cruise-lines/royal-caribbean.html"},
      {"@type": "ListItem", "position": 4, "name": "Legend of the Seas (Icon Class 2026)", "item": "https://cruisinginthewake.com/ships/rcl/legend-of-the-seas-icon-class-entering-service-in-2026.html"}
    ]
  }
  </script>

  <!-- JSON-LD: Review -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Review",
    "name": "Legend of the Seas (Icon Class 2026) Overview",
    "author": {
      "@type": "Person",
      "name": "In the Wake Editorial Team"
    },
    "reviewBody": "Legend of the Seas (Icon Class 2026) delivers Royal Caribbean's signature ocean-view experience with glass walls, mid-size intimacy, and global itineraries spanning Alaska to Australia.",
    "reviewRating": {
      "@type": "Rating",
      "ratingValue": "4.6",
      "bestRating": "5",
      "worstRating": "1"
    },
    "itemReviewed": {
      "@type": "Cruise",
      "name": "Legend of the Seas (Icon Class 2026)",
      "provider": {
        "@type": "Organization",
        "name": "Royal Caribbean International",
        "url": "https://www.royalcaribbean.com"
      },
      "url": "https://cruisinginthewake.com/ships/rcl/legend-of-the-seas-icon-class-entering-service-in-2026.html",
      "description": "A Radiance-class ship operated by Royal Caribbean International, offering worldwide itineraries and panoramic ocean views.",
      "image": "https://cruisinginthewake.com/assets/ships/legend-of-the-seas-icon-class-entering-service-in-20261.jpeg"
    }
  }
  </script>

  <!-- JSON-LD: Person (E-E-A-T) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Ken Baker",
    "url": "https://cruisinginthewake.com/authors/ken-baker.html",
    "jobTitle": "Founder and Editor",
    "description": "Traveler, pastor, and storyteller. Founder of In the Wake, a cruise traveler's logbook offering planning tools, travel tips, and faith-scented reflections for smoother sailings.",
    "image": "https://cruisinginthewake.com/authors/img/ken1.webp",
    "sameAs": ["https://www.flickersofmajesty.com"],
    "worksFor": {"@type": "Organization", "name": "In the Wake"},
    "knowsAbout": ["Cruise Planning", "Royal Caribbean", "Cruise Ships", "Travel Writing"]
  }
  </script>

  <!-- JSON-LD: WebPage (ICP-Lite v1.0) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Legend of the Seas (Icon Class 2026) - Deck Plans, Tracker, Dining & Videos",
    "description": "Legend of the Seas (Icon Class 2026) is Royal Caribbean's next Icon Class ship, expected to enter service in 2026 with cutting-edge amenities, expanded neighborhoods, and the signature Thrill Island aqua park.",
    "url": "https://cruisinginthewake.com/ships/rcl/legend-of-the-seas-icon-class-entering-service-in-2026.html",
    "dateModified": "2025-11-18",
    "isPartOf": {
      "@type": "WebSite",
      "name": "In the Wake",
      "url": "https://cruisinginthewake.com/"
    },
    "mainEntity": {
      "@type": "Cruise",
      "name": "Legend of the Seas (Icon Class 2026)",
      "provider": {
        "@type": "Organization",
        "name": "Royal Caribbean International"
      }
    }
  }
  </script>

  <!-- JSON-LD: FAQPage (ICP-Lite v1.0) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What class is Legend of the Seas (Icon Class 2026)?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Legend of the Seas (Icon Class 2026) is an Icon Class ship, Royal Caribbean's newest and most innovative class featuring multi-level neighborhoods, advanced entertainment venues, and the Thrill Island aqua park."
        }
      },
      {
        "@type": "Question",
        "name": "When will Legend of the Seas (Icon Class 2026) enter service?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Legend of the Seas (Icon Class 2026) is scheduled to enter service in 2026 as part of Royal Caribbean's Icon Class expansion."
        }
      },
      {
        "@type": "Question",
        "name": "What are the signature features of Icon Class ships?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Icon Class ships feature Thrill Island (the largest waterpark at sea), AquaDome entertainment venue, multiple neighborhood zones, innovative dining concepts, and cutting-edge technology throughout the ship."
        }
      },
      {
        "@type": "Question",
        "name": "How does Legend of the Seas (Icon Class 2026) compare to Icon of the Seas?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Legend of the Seas (Icon Class 2026) follows the revolutionary Icon of the Seas design, building on the same Icon Class platform with similar capacity, neighborhoods, and signature features while potentially incorporating refinements based on Icon's first year at sea."
        }
      }
    ]
  }
  </script>

  <!-- Favicon / PWA -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/in_the_wake_icon_32x32.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png"/>
  <link rel="manifest" href="/manifest.webmanifest"/>

  <!-- Global CSS -->
  <!-- Service Worker Registration -->
  <script>
  if('serviceWorker' in navigator){
    window.addEventListener('load',()=>navigator.serviceWorker.register('/sw.js').catch(()=>{}));
  }
  </script>

  <link rel="stylesheet" href="/assets/styles.css?v=3.010.400"/>

  <!-- ===== Standards helpers (absolute URL + origin normalizer) ===== -->
  <script>
  (function(){
    // Absolute, same-origin URL builder
    const ORIGIN=(location.origin||(location.protocol+'//'+location.host)).replace(/\/$/,'');
    window._abs=function(path){ path=String(path||''); if(!path.startsWith('/')) path='/'+path; return ORIGIN+path; };

    // Normalize any hard-coded https://cruisinginthewake.com/* URLs to current origin (prevents redirects/CORS)
    document.addEventListener('DOMContentLoaded', function(){
      const sel=[
        'a[href^="https://cruisinginthewake.com/"]',
        'a[href^="https://cruisinginthewake.com/"]',
        'img[src^="https://cruisinginthewake.com/"]',
        'img[src^="https://cruisinginthewake.com/"]',
        'link[href^="https://cruisinginthewake.com/"]',
        'link[href^="https://cruisinginthewake.com/"]',
        'script[src^="https://cruisinginthewake.com/"]',
        'script[src^="https://cruisinginthewake.com/"]'
      ].join(',');
      document.querySelectorAll(sel).forEach(el=>{
        const attr=el.hasAttribute('href')?'href':'src';
        try{
          const u=new URL(el.getAttribute(attr));
          el.setAttribute(attr, ORIGIN+u.pathname+u.search+u.hash);
        }catch(_){}
      });
    },{once:true});
  })();
  </script>

  <!-- ===== Swiper (primary + CDN fallback) ===== -->
  <script>
  (function ensureSwiper(){
    function addCSS(h){ const l=document.createElement('link'); l.rel='stylesheet'; l.href=h; document.head.appendChild(l); }
    function addJS(src, ok, fail){
      const s=document.createElement('script'); s.src=src; s.async=true; s.onload=ok; s.onerror=fail||function(){}; document.head.appendChild(s);
    }
    const primaryCSS="https://cruisinginthewake.com/vendor/swiper/swiper-bundle.min.css";
    const primaryJS ="https://cruisinginthewake.com/vendor/swiper/swiper-bundle.min.js";
    const cdnCSS    ="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css";
    const cdnJS     ="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js";
    addCSS(primaryCSS);
    addJS(primaryJS, function(){ window.__swiperReady=true; }, function(){ addCSS(cdnCSS); addJS(cdnJS, function(){ window.__swiperReady=true; }); });
  })();
  </script>

  <!-- ===== Page micro CSS (scoped) ===== -->
  <!-- LCP Optimization: Preload critical hero images -->
  <link rel="preload" as="image" href="/assets/logo_wake_560.png" fetchpriority="high"/>
  <link rel="preload" as="image" href="/assets/compass_rose.svg?v=3.010.400" fetchpriority="high"/>
</head>

<body class="page">
  <!-- Skip Link -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- ARIA Live Regions -->
  <div id="a11y-status" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>
  <div id="a11y-alerts" role="alert" aria-live="assertive" aria-atomic="true" class="sr-only"></div>

  <!-- HEADER -->
  <header class="hero-header" role="banner">
    <div class="navbar">
      <div class="brand">
        <img src="/assets/logo_wake_256.png" srcset="/assets/logo_wake_256.png 1x, /assets/logo_wake_512.png 2x" width="256" height="259" alt="In the Wake wordmark" decoding="async"/>
        <span class="tiny version-badge" aria-label="Site version V1.Beta">V1.Beta</span>
      </div>
      <!-- Mobile hamburger button -->
      <button class="nav-toggle" type="button" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="site-nav">
        <span class="nav-toggle-icon">
          <span></span>
          <span></span>
          <span></span>
        </span>
      </button>
            <nav class="site-nav" id="site-nav" aria-label="Main site navigation">
        <a class="nav-pill" href="/">Home</a>

        <!-- Planning Dropdown -->
        <div class="nav-dropdown" id="nav-planning">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Planning <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/planning.html">Planning (overview)</a>
            <a href="/ships.html">Ships</a>
            <a href="/restaurants.html">Restaurants &amp; Menus</a>
            <a href="/ports.html">Ports</a>
            <a href="/drink-packages.html">Drink Packages</a>
            <a href="/drink-calculator.html">Drink Calculator</a>
            <a href="/stateroom-check.html">Stateroom Check</a>
            <a href="/cruise-lines.html">Cruise Lines</a>
            <a href="/packing-lists.html">Packing Lists</a>
            <a href="/accessibility.html">Accessibility</a>
          </div>
        </div>

        <!-- Travel Dropdown -->
        <div class="nav-dropdown" id="nav-travel">
          <button class="nav-pill" type="button" aria-expanded="false" aria-haspopup="true">
            Travel <span class="caret">&#9662;</span>
          </button>
          <div class="dropdown-menu" role="menu">
            <a href="/travel.html">Travel (overview)</a>
            <a href="/solo.html">Solo</a>
          </div>
        </div>

        <a class="nav-pill" href="/tools/port-tracker.html">Port Logbook</a>
        <a class="nav-pill" href="/tools/ship-tracker.html">Ship Logbook</a>
        <a class="nav-pill" href="/search.html">Search</a>
        <a class="nav-pill" href="/about-us.html">About</a>
      </nav>
      
    </div>

    <div class="hero" role="img" aria-label="Legend of the Seas (Icon Class 2026) hero image">
      <div class="latlon-grid" aria-hidden="true">
        <svg viewBox="0 0 100 60" preserveAspectRatio="none">
          <g class="grid-lines" stroke-width="0.35">
            <line x1="10" y1="0" x2="10" y2="60"/><line x1="20" y1="0" x2="20" y2="60"/>
            <line x1="30" y1="0" x2="30" y2="60"/><line x1="40" y1="0" x2="40" y2="60"/>
            <line x1="50" y1="0" x2="50" y2="60"/><line x1="60" y1="0" x2="60" y2="60"/>
            <line x1="70" y1="0" x2="70" y2="60"/><line x1="80" y1="0" x2="80" y2="60"/>
            <line x1="90" y1="0" x2="90" y2="60"/>
            <line x1="0" y1="10" x2="100" y2="10"/><line x1="0" y1="20" x2="100" y2="20"/>
            <line x1="0" y1="30" x2="100" y2="30"/><line x1="0" y1="40" x2="100" y2="40"/>
          </g>
        </svg>
      </div>
      <img class="hero-compass" src="/assets/compass_rose.svg" alt="" aria-hidden="true"/>
      <div class="hero-title">
        <img class="logo" src="/assets/logo_wake_560.png" srcset="/assets/logo_wake_560.png 1x, /assets/logo_wake_1120.png 2x" alt="In the Wake" decoding="async" fetchpriority="high" width="560" height="567"/>
      </div>
      <div class="tagline" aria-hidden="true">A Cruise Traveler's Logbook</div>
      <div class="hero-credit">
        <a class="pill long" href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Photo by Flickers of Majesty — Instagram</a>
      </div>
    </div></header>

  <!-- MAIN CONTENT -->
  <main class="wrap page-grid" id="main-content" role="main" tabindex="-1">

    <!-- Main Content Column -->
    <section class="col-1" aria-label="Ship details">
    <!-- ICP-Lite v1.0: Answer-First Content -->
    <section class="page-intro" aria-label="Legend of the Seas Icon Class 2026 overview">
      <h1 id="ship-name">Legend of the Seas (Icon Class 2026)</h1>
      <p class="answer-line">
      <span class="answer-q">What this page covers</span>
      <span class="answer-a">Legend of the Seas (Icon Class 2026) is Royal Caribbean's next Icon Class ship, expected to enter service in 2026 with cutting-edge amenities, expanded neighborhoods, Thrill Island aqua park, and revolutionary design features building on <a href="/ships/rcl/icon-of-the-seas.html">Icon of the Seas</a>' success.</span>
    </p>

      <section class="fit-guidance">
      <h2 class="sr-only">Who This Page Is For</h2>
      <h2>Is Legend of the Seas (Icon Class 2026) Right for You?</h2>
        <p>Legend of the Seas (Icon Class 2026) represents Royal Caribbean's latest leap forward in cruise innovation. As the second ship in the groundbreaking Icon Class, she builds on the revolutionary multi-neighborhood design, bringing together distinct zones for families, adults, and thrill-seekers under one magnificent roof.</p>
        <p>Perfect for families seeking unmatched variety, adventure enthusiasts craving next-level thrills, and travelers who want the newest amenities Royal Caribbean has to offer. If you're drawn to Thrill Island's record-breaking waterpark, the AquaDome's immersive entertainment, or the vast selection of dining and activities, Legend will be your floating paradise when she debuts in 2026.</p>
      </section>

    <section class="key-facts card">
        <h2>Key Facts at a Glance</h2>
        <ul>
          <li><strong>Class:</strong> Icon Class</li>
          <li><strong>Expected Service Date:</strong> 2026</li>
          <li><strong>Size:</strong> ~250,000 GT (estimated, Icon Class)</li>
          <li><strong>Capacity:</strong> ~5,600 guests (estimated, similar to <a href="/ships/rcl/icon-of-the-seas.html">Icon of the Seas</a>)</li>
          <li><strong>Signature Features:</strong> Thrill Island aqua park, AquaDome, multi-neighborhood design</li>
          <li><strong>Best For:</strong> Families and thrill-seekers wanting the newest Royal Caribbean has to offer</li>
        </ul>
    </section>
  </section>

  <!-- Row 1: First Look + Dining -->
    <section class="grid-2">
      <!-- First Look + Stats -->
      <section class="card" aria-labelledby="first-look">
        <h2 id="first-look">A First Look</h2>

        <div class="swiper firstlook" aria-label="Legend of the Seas (Icon Class 2026) photo carousel">
          <div class="swiper-wrapper">

          </div>
          <div class="swiper-pagination" aria-hidden="true"></div>
          <div class="swiper-button-prev" aria-label="Previous image"></div>
          <div class="swiper-button-next" aria-label="Next image"></div>
        </div>

        <!-- Stats -->
        <section class="ship-stats card mini" aria-labelledby="statsHeading">
          <h3 id="statsHeading">Legend (Icon) at a Glance</h3>
          <div id="ship-stats" class="stats-grid" data-slug="legend-of-the-seas-icon-class-entering-service-in-2026"></div>
          <script type="application/json" id="ship-stats-fallback">
          {
            "slug": "legend-of-the-seas-icon-class-entering-service-in-2026",
            "name": "Legend of the Seas (Icon Class 2026)",
            "class": "Icon Class",
            "entered_service": "TBD",
            "gt": "TBD",
            "guests": "TBD",
            "crew": "TBD",
            "length": "TBD",
            "beam": "TBD",
            "registry": "TBD"
          }
          </script>
        </section>
      
        <!-- Sister Ships -->
        <section class="card mini carousel related-ships" aria-labelledby="related-ships">
          <h3 id="related-ships" class="card-title">Icon Class — Sister Ships</h3>
          <div class="related-pills" aria-label="Icon Class-class ships">
            <a class="pill" href="/ships/rcl/icon-of-the-seas.html">Icon of the Seas</a>
            <a class="pill" href="/ships/rcl/star-of-the-seas.html">Star of the Seas</a>
          </div>
          <p style="text-align:center"><a href="/ships.html" class="btn">See All Ships</a></p>
        </section>

        <!-- Ship Classes -->
        <section class="card mini carousel related-classes" aria-labelledby="related-classes">
          <h3 id="related-classes" class="card-title">Explore Royal Caribbean Classes</h3>
          <p class="small">Hop between ship classes to compare size, venues, and vibes.</p>
          <div class="class-pills">
            <a class="pill" href="/cruise-lines/royal-caribbean.html#vision">Vision Class</a>
            <a class="pill" href="/cruise-lines/royal-caribbean.html#voyager">Voyager Class</a>
            <a class="pill" href="/cruise-lines/royal-caribbean.html#freedom">Freedom Class</a>
            <a class="pill" href="/cruise-lines/royal-caribbean.html#radiance">Radiance Class</a>
            <a class="pill" href="/cruise-lines/royal-caribbean.html#quantum">Quantum Class</a>
            <a class="pill" href="/cruise-lines/royal-caribbean.html#oasis">Oasis Class</a>
            <a class="pill" href="/cruise-lines/royal-caribbean.html#icon">Icon Class</a>
          </div>
          <p style="text-align:center"><a href="/ships.html" class="btn">Browse All Ships</a></p>
        </section>
      </section>

      <!-- Dining -->
      <section id="dining-card" class="card" data-ship="Legend of the Seas (Icon Class 2026)" aria-labelledby="diningHeading">
        <h2 id="diningHeading">Dining Venues on Legend of the Seas (Icon Class 2026)</h2>

        <img id="dining-hero" class="card-hero"
             src="/assets/ships/rcl/legend-of-the-seas-icon-class-entering-service-in-2026/dining-hero.jpg?v=3.006"
             alt="Radiance dining venue seating with ocean view" loading="lazy"
             onerror="(function(img){var fb=[_abs('/assets/ships/legend-of-the-seas-icon-class-entering-service-in-2026-dining.webp?v=3.006','/assets/ships/legend-of-the-seas-icon-class-entering-service-in-2026-dining.jpg?v=3.006'),_abs('/assets/img/Cordelia_Empress_Food_Court.webp','/assets/img/Cordelia_Empress_Food_Court.jpg')];img._fbi=(img._fbi||0);if(img._fbi<fb.length){img.src=fb[img._fbi++];}})(this)"/>

        <div class="dining-content" id="dining-content" aria-live="polite"></div>

        <!-- normalize dining data source to venues.json on this origin -->
        <script type="application/json" id="dining-data-source">{"provider":"rcl","json":"/assets/data/venues-v2.json","ship_slug":"legend-of-the-seas-icon-class-entering-service-in-2026","aliases":["Legend of the Seas (Icon Class 2026)","Radiance Of The Seas","Radiance"]}</script>
        <script>
        (function fixDiningJSON(){
          function run(){
            const el=document.getElementById('dining-data-source'); if(!el) return;
            try{
              const obj=JSON.parse(el.textContent||'{}');
              if(obj){
                const path='/assets/data/venues.json';
                obj.json=(typeof _abs==='function')?_abs(path):path;
                obj.url=obj.json;
                obj.schema='rc.venues.v1';
                el.textContent=JSON.stringify(obj);
              }
            }catch(_){}
          }
          if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',run,{once:true});} else { run(); }
        })();
        </script>

        <script>
        // window.getShipVenues(slug) helper
        (function(){
          const DATA_PATH='/assets/data/venues.json';
          const DATA_URL=(typeof _abs==='function')?_abs(DATA_PATH):DATA_PATH;
          let _cache=null,_pending=null,_venuesIndex=null,_ships=null;

          function load(){
            if(_cache) return Promise.resolve(_cache);
            if(_pending) return _pending;
            _pending=fetch(DATA_URL,{credentials:'omit',referrerPolicy:'no-referrer'}).then(r=>r.json()).then(json=>{
              if(!json||!Array.isArray(json.venues)||!json.ships) throw new Error('Invalid venues.json shape');
              _venuesIndex=Object.fromEntries(json.venues.map(v=>[v.slug,v]));
              _ships=json.ships; _cache=json; return json;
            }).finally(()=>{_pending=null;});
            return _pending;
          }
          async function getShipVenues(shipSlug){
            const data=await load(); const ship=_ships[shipSlug];
            if(!ship) return {meta:data.meta||{},ship:null,venues:[]};
            const venues=(ship.venues||[]).map(slug=>{
              const v=_venuesIndex[slug];
              return v?Object.assign({slug},v):{slug,name:slug,category:'unknown'};
            });
            return {meta:data.meta||{},ship,venues};
          }
          window.getShipVenues=getShipVenues;
        })();
        </script>

        <p class="tiny">Prices can change at any time. These reflect the last sailing captured.</p>
      </section>
    </section>

    <!-- Logbook -->
    <section class="card note-kens-logbook" aria-labelledby="logbook">
      <h2 id="logbook">The Logbook — Tales From the Wake</h2>
      <div id="logbook-stories" class="prose"></div>
    </section>

    <!-- Videos -->
    <section class="card" aria-labelledby="video-highlights">
      <h2 id="video-highlights">Watch: Radiance Highlights</h2>
      <p class="small">Swipe through ship walkthroughs, top-10s, and stateroom tours (including accessible where available).</p>
      <div class="swiper videos" aria-label="Featured video carousel">
        <div class="swiper-wrapper" id="featuredVideos"></div>
        <div class="swiper-pagination" aria-hidden="true"></div>
        <div class="swiper-button-prev" aria-label="Previous slide"></div>
        <div class="swiper-button-next" aria-label="Next slide"></div>
      </div>
      <div id="videoFallback" class="tiny hidden">Videos will appear once our sources sync for this ship.</div>
    </section>

    <!-- Row: Deck Plans + Live Tracker -->
    <section class="grid-2">
      <section class="card" aria-labelledby="deck-plans">
        <h2 id="deck-plans">Ship Map (Deck Plans)</h2>
        <p><a class="btn" href="https://www.royalcaribbean.com/cruise-ships/legend-of-the-seas-icon-class-entering-service-in-2026/deck-plans" target="_blank" rel="noopener">Open Official Deck Plans →</a></p>
        <figure>
          <img src="/assets/ship-map.png" alt="Legend of the Seas (Icon Class 2026) simplified deck plan preview" loading="lazy"/>
        </figure>
      </section>

      <section class="card itinerary" aria-labelledby="liveTrackHeading" data-imo="TBD" data-name="RADIANCE-OF-THE-SEAS">
        <h2 id="liveTrackHeading">Where Is Radiance Right Now?</h2>
        <p>See the ship's current position, speed, and next port on a live tracker.</p>

        <div id="vf-tracker-container" style="width:100%;height:500px;position:relative;"></div>
        <p class="tiny">See <a href="/ports.html">ports</a> for more information about individual ports.</p>
      </section>
    </section>
    <!-- ICP-Lite v1.0: FAQ Section -->
    <section class="card faq" aria-labelledby="faq-heading">
      <h2 id="faq-heading">Frequently Asked Questions</h2>

      <details>
        <summary>What class is Legend of the Seas (Icon Class 2026)?</summary>
        <p>Legend of the Seas (Icon Class 2026) is an Icon Class ship, Royal Caribbean's newest and most innovative class featuring multi-level neighborhoods, advanced entertainment venues, and the Thrill Island aqua park.</p>
      </details>

      <details>
        <summary>When will Legend of the Seas (Icon Class 2026) enter service?</summary>
        <p>Legend of the Seas (Icon Class 2026) is scheduled to enter service in 2026 as part of Royal Caribbean's Icon Class expansion.</p>
      </details>

      <details>
        <summary>What are the signature features of Icon Class ships?</summary>
        <p>Icon Class ships feature Thrill Island (the largest waterpark at sea), AquaDome entertainment venue, multiple neighborhood zones, innovative dining concepts, and cutting-edge technology throughout the ship.</p>
      </details>

      <details>
        <summary>How does Legend of the Seas (Icon Class 2026) compare to Icon of the Seas?</summary>
        <p>Legend of the Seas (Icon Class 2026) follows the revolutionary Icon of the Seas design, building on the same Icon Class platform with similar capacity, neighborhoods, and signature features while potentially incorporating refinements based on Icon's first year at sea.</p>
      </details>
    </section>
    </div><!-- End Main Content Column -->

    <!-- Attribution -->
    <section class="card attributions">
      <h2>Image Attributions</h2>
      <ul>
        <li>
          Images sourced from Wikimedia Commons under Creative Commons licenses.
        </li>
      </ul>
    </section>

    </section><!-- End Main Content Column -->

  <!-- Right Rail -->
  <aside class="rail col-2" role="complementary" aria-label="Key facts, author & articles">
      <!-- Quick Answer / Best For / Key Facts -->
      <section class="page-intro">
        <p class="answer-line">
          <strong>Quick Answer:</strong> Legend of the Seas is a new Icon Class ship debuting in 2026, bringing Royal Caribbean's latest innovations. This page will be updated with deck plans, dining venues, and booking information as details are announced.
        </p>

        <p class="content-text">
          <strong>Best For:</strong> Cruisers planning 2026+ sailings who want to stay updated on the new Legend of the Seas and be among the first to book this Icon Class ship.
        </p>

        <div class="callout-box">
          <h3 class="mt-0 mb-05">Key Facts</h3>
          <ul class="list-indent">
            <li><strong>Class:</strong> Icon Class</li>
            <li><strong>Expected Debut:</strong> 2026</li>
            <li><strong>Ship Name:</strong> Legend of the Seas (Icon Class)</li>
            <li><strong>Cruise Line:</strong> Royal Caribbean International</li>
          </ul>
        </div>
      </section>

            <!-- Author card (Vertical Layout) -->
      <section class="card author-card-vertical" aria-labelledby="author-heading">
        <h3 id="author-heading">About the Author</h3>
        <a href="/authors/ken-baker.html" aria-label="View Ken Baker's profile">
          <picture>
            <source srcset="/authors/img/ken1.webp?v=3.010.400" type="image/webp"/>
            <img class="author-avatar" src="/authors/img/ken1_96.webp" srcset="/authors/img/ken1_96.webp 1x, /authors/img/ken1_192.webp 2x" width="96" height="96" alt="Author photo" decoding="async" loading="lazy"/>
          </picture>
        </a>
        <h4><a href="/authors/ken-baker.html">Ken Baker</a></h4>
        <p class="tiny">Founder of In the Wake; writer and editor of the logbook.</p>
        <p class="tiny">
          <a href="https://www.flickersofmajesty.com" target="_blank" rel="noopener">Flickers of Majesty</a>
        </p>
      </section>

      <!-- Recent Articles rail -->
      <section class="card" aria-labelledby="recent-rail-title">
        <h3 id="recent-rail-title">Recent Stories</h3>
        <p class="tiny content-text" style="margin-bottom: 0.75rem;">
          Real cruising experiences, practical guides, and heartfelt reflections from our community.
        </p>
        <nav id="recent-rail-nav-top" class="rail-nav" aria-label="Article pagination" style="display:none; margin-bottom: 0.5rem;"></nav>
        <div id="recent-rail" class="rail-list" aria-live="polite"></div>
        <nav id="recent-rail-nav-bottom" class="rail-nav" aria-label="Article pagination" style="display:none; margin-top: 0.75rem;"></nav>
        <p id="recent-rail-fallback" class="tiny" style="color: #666;">Loading articles…</p>
      </section>

      <!-- Authors rail -->
      <section class="card" aria-labelledby="authors-rail-title">
        <h3 id="authors-rail-title">Our Authors</h3>
        <p class="tiny content-text" style="margin-bottom: 0.75rem;">
          The voices behind In the Wake — cruisers, storytellers, and fellow travelers.
        </p>
        <div id="authors-rail" class="rail-list" aria-live="polite"></div>
      </section>
    
    <!-- Whimsical Distance Units -->
    <section class="card" id="whimsical-units-container" style="background:#f7fdff;border:1px solid #e0f0f5;border-radius:12px;padding:1.25rem;">
    </section>

  </aside>

  
  </main>

  <!-- FOOTER -->
    <footer class="wrap" role="contentinfo">
    <p>© 2025 In the Wake · A Cruise Traveler's Logbook · All rights reserved.</p>
    <p class="tiny mt-05">
      <a href="/privacy.html">Privacy</a> ·
      <a href="/terms.html">Terms</a> ·
      <a href="/about-us.html">About</a> ·
      <a href="/accessibility.html">Accessibility &amp; WCAG 2.1 AA Commitment</a>
    </p>
    <p class="tiny center visually-hidden" aria-hidden="true">Soli Deo Gloria — Every pixel and part of this project is offered as worship to God, in gratitude for the beautiful things He has created for us to enjoy. ✝️</p>
  </footer>

  <!-- JAVASCRIPT -->
  
<!-- ===== First Look init ===== -->
  <script>
  (function initFirstLook(){
    function go(){
      if(!window.__swiperReady||!window.Swiper) return setTimeout(go,120);
      try{
        new Swiper('.swiper.firstlook',{
          loop:false,lazy:true,watchOverflow:true,
          pagination:{el:'.swiper.firstlook .swiper-pagination',clickable:true},
          navigation:{nextEl:'.swiper.firstlook .swiper-button-next',prevEl:'.swiper.firstlook .swiper-button-prev'},
          a11y:{enabled:true}
        });
      }catch(_){}
    }
    go();
  })();
  </script>

  <!-- ===== Logbook loader (safe absolute fetch + a11y carousel) ===== -->
  <script>
  (function initShipLogbook(){
    const mount=document.getElementById('logbook-stories'); if(!mount) return;
    function norm(s){return String(s||'').toLowerCase().replace(/'/g,"'").trim();}
    function abs(p){return (window._abs?_abs(p):p);}
    function clamp(n,a,b){return Math.max(a,Math.min(b,n));}
    function getShipContext(){
      const stats=document.getElementById('ship-stats');
      const attrSlug=(stats&&stats.getAttribute('data-slug'))||'';
      const m=location.pathname.match(/\/ships\/([^/]+)\/([^/.]+)/i);
      const line=(m&&m[1])||'rcl'; const inferred=(m&&m[2])||'';
      return {line:line.toLowerCase(),slug:(attrSlug||inferred||'legend-of-the-seas-icon-class-entering-service-in-2026').toLowerCase()};
    }
    const ctx=getShipContext();
    const shortSlug=ctx.slug.split('-of-the-')[0]; const SOURCES=[abs('/ships/'+ctx.line+'/assets/'+ctx.slug+'.json'),abs('/ships/'+ctx.line+'/assets/'+shortSlug+'.json'),abs('/assets/data/logbook/'+ctx.line+'/'+ctx.slug+'.json'),abs('/assets/data/ships/'+ctx.line+'/'+ctx.slug+'.json')];
    function fetchFirst(i){i=i||0; if(i>=SOURCES.length) return Promise.resolve(null);
      return fetch(SOURCES[i],{cache:'no-store'}).then(r=>r.ok?r.json():fetchFirst(i+1)).catch(()=>fetchFirst(i+1));}
    function mdToHtml(src){let html=String(src||'').trim(); if(!html) return '';
      html=html.replace(/^###?\s+(.+)$/gm,'<h3>$1</h3>').replace(/\*\*(.+?)\*\*/g,'<strong>$1</strong>').replace(/\*(.+?)\*/g,'<em>$1</em>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>');
      html='<p>'+html.replace(/\n{2,}/g,'</p><p>').replace(/\n/g,'<br/>')+'</p>'; return html.replace(/^<p>\s*<\/p>/,'');}
    const state={i:0,items:[]};
    function renderOne(p){const title=String(p.title||p.persona_label||p.heading||'Guest Perspective').replace(/</g,'&lt;');
      const body=String(p.markdown||p.body||p.content||p.html||p.text||p.story||p.notes||'').trim(); if(!body) return '';
      return '<article class="story" aria-live="polite"><h3 tabindex="0">'+title+'</h3><div class="story-body">'+mdToHtml(body)+'</div></article>';}
    function ensureNav(){
      if(document.getElementById('logbook-nav')) return;
      const nav=document.createElement('nav'); nav.id='logbook-nav'; nav.className='logbook-nav'; nav.setAttribute('aria-label','Logbook navigation');
      const prev=document.createElement('button'); prev.type='button'; prev.className='logbook-btn logbook-prev'; prev.textContent='‹ Previous'; prev.setAttribute('aria-label','Previous story');
      const next=document.createElement('button'); next.type='button'; next.className='logbook-btn logbook-next'; next.textContent='Next ›'; next.setAttribute('aria-label','Next story');
      nav.append(prev,next); mount.before(nav);
      prev.onclick=()=>{ state.i=clamp(state.i-1,0,state.items.length-1); renderCurrent(); };
      next.onclick=()=>{ state.i=clamp(state.i+1,0,state.items.length-1); renderCurrent(); };
    }
    function renderCurrent(){
      const i=state.i,arr=state.items; if(!arr.length){mount.innerHTML='<p class="tiny">No logbook entries yet.</p>'; return;}
      const html=renderOne(arr[i]); mount.innerHTML=html;
      const nav=document.getElementById('logbook-nav'); if(!nav) return;
      nav.querySelector('.logbook-prev').disabled=(i===0);
      nav.querySelector('.logbook-next').disabled=(i===arr.length-1);
    }
    fetchFirst().then(data=>{
      if(!data) return;
      const arr=data.personas||data.perspectives||data.logbook||data.stories||data.entries||[];
      if(!arr.length) return;
      state.items=arr; state.i=0; ensureNav(); renderCurrent();
    });
  })();
  </script>

  <!-- ===== Video carousel loader ===== -->
  <script>
  (function initVideos(){
    const mount=document.getElementById('featuredVideos'); if(!mount) return;
    const fallback=document.getElementById('videoFallback');
    function abs(p){return (window._abs?_abs(p):p);}
    function getVideoURL(videoId,provider){
      if(!videoId) return null;
      if(provider==='youtube'||!provider) return 'https://www.youtube-nocookie.com/embed/'+videoId+'?rel=0&modestbranding=1';
      if(provider==='vimeo') return 'https://player.vimeo.com/video/'+videoId+'?title=0&byline=0&portrait=0';
      return null;
    }
    function renderVideos(arr){
      if(!arr||!arr.length){ if(fallback) fallback.classList.remove('hidden'); return; }
      mount.innerHTML=arr.map(v=>{
        const url=getVideoURL(v.videoId,v.provider); if(!url) return '';
        const title=String(v.title||'Legend of the Seas (Icon Class 2026)').replace(/</g,'&lt;');
        return '<div class="swiper-slide"><iframe src="'+url+'" title="'+title+'" allow="encrypted-media" allowfullscreen loading="lazy"></iframe></div>';
      }).join('');
      if(mount.children.length&&window.__swiperReady&&window.Swiper){
        setTimeout(()=>{
          try{
            new Swiper('.swiper.videos',{
              loop:false,lazy:true,watchOverflow:true,
              pagination:{el:'.swiper.videos .swiper-pagination',clickable:true},
              navigation:{nextEl:'.swiper.videos .swiper-button-next',prevEl:'.swiper.videos .swiper-button-prev'},
              a11y:{enabled:true}
            });
          }catch(_){}
        },150);
      }
    }
    function fetchVideoData(){
      const SOURCES=[abs('/assets/data/videos/legend-of-the-seas-icon-class-entering-service-in-2026.json'),abs('/ships/rcl/assets/legend-of-the-seas-icon-class-entering-service-in-2026-videos.json')];
      function tryFetch(i){i=i||0; if(i>=SOURCES.length) return Promise.resolve(null);
        return fetch(SOURCES[i],{cache:'no-store'}).then(r=>r.ok?r.json():tryFetch(i+1)).catch(()=>tryFetch(i+1));}
      return tryFetch();
    }
    fetchVideoData().then(data=>{ if(data) renderVideos(data.videos||data); });
  })();
  </script>

  <!-- ===== Fun Distance Units Converter ===== -->
  <script src="/assets/js/fun-distance-units.js" defer></script>

  <!-- ===== Ship stats loader ===== -->
  <script>
  (function initStats(){
    const mount=document.getElementById('ship-stats'); if(!mount) return;
    const fallbackEl=document.getElementById('ship-stats-fallback');
    function abs(p){return (window._abs?_abs(p):p);}
    function renderStats(obj){
      if(!obj) return;
      const keys=['class','entered_service','gt','guests','crew','length','beam','registry'];
      const labels={class:'Class',entered_service:'Entered Service',gt:'Gross Tonnage',guests:'Guests',crew:'Crew',length:'Length',beam:'Beam',registry:'Registry'};
      mount.innerHTML=keys.map(k=>{
        const val=obj[k]; if(!val) return '';
        let statHtml = '<div class="stat-line"><span class="stat-key">'+labels[k]+'</span><span class="stat-val">'+String(val).replace(/</g,'&lt;')+'</span>';

        // Add fun distance conversions for length and beam
        if((k==='length'||k==='beam') && window.funDistance){
          const feetMatch = String(val).match(/(\d+(?:,\d+)?)\s*(?:ft|feet)/i);
          if(feetMatch){
            const feet = parseInt(feetMatch[1].replace(/,/g,''));
            const conversion = k==='length' ? window.funDistance.shipLength(feet) : window.funDistance.shipBeam(feet);
            if(conversion && (conversion.practical || conversion.absurd)){
              const parts = [];
              if(conversion.practical) parts.push(conversion.practical);
              if(conversion.absurd) parts.push(conversion.absurd);
              if(parts.length > 0){
                statHtml += '<span class="stat-fun">'+parts.join(', or ')+'</span>';
              }
            }
          }
        }

        statHtml += '</div>';
        return statHtml;
      }).join('');
    }
    if(fallbackEl){
      try{ const fb=JSON.parse(fallbackEl.textContent||'{}'); if(fb) renderStats(fb); }catch(_){}
    }
    const SOURCES=[abs('/assets/data/ships/legend-of-the-seas-icon-class-entering-service-in-2026.json'),abs('/ships/rcl/assets/legend-of-the-seas-icon-class-entering-service-in-2026.json')];
    function tryFetch(i){i=i||0; if(i>=SOURCES.length) return Promise.resolve(null);
      return fetch(SOURCES[i],{cache:'no-store'}).then(r=>r.ok?r.json():tryFetch(i+1)).catch(()=>tryFetch(i+1));}
    tryFetch().then(data=>{ if(data) renderStats(data); });
  })();
  </script>

  <!-- ===== Dining loader ===== -->
  <script>
  (function initDining(){
    const mount=document.getElementById('dining-content'); if(!mount) return;
    const sourceEl=document.getElementById('dining-data-source');
    if(!sourceEl) return;
    function abs(p){return (window._abs?_abs(p):p);}
    let config={};
    try{ config=JSON.parse(sourceEl.textContent||'{}'); }catch(_){}
    function renderVenues(ship,venues){
      if(!venues||!venues.length){ mount.innerHTML='<p class="tiny">Dining data is loading...</p>'; return; }
      const byCategory={};
      venues.forEach(v=>{
        const cat=v.category||'other';
        if(!byCategory[cat]) byCategory[cat]=[];
        byCategory[cat].push(v);
      });
      const catOrder=['mdr','specialty','casual','bar'];
      const catLabels={mdr:'Main Dining Room',specialty:'Specialty Dining',casual:'Casual Dining',bar:'Bars & Lounges',other:'Other Venues'};
      let html='';
      catOrder.concat(Object.keys(byCategory).filter(c=>!catOrder.includes(c))).forEach(cat=>{
        const arr=byCategory[cat]; if(!arr) return;
        html+='<h3>'+catLabels[cat]+'</h3><ul class="venues-list">';
        arr.forEach(v=>{
          const name=String(v.name||v.slug).replace(/</g,'&lt;');
          const desc=String(v.description||'').replace(/</g,'&lt;');
          const price=(v.price||v.cost)?'<span class="venue-price">'+(v.price||v.cost)+'</span>':'';
          const slug=v.slug?String(v.slug).replace(/</g,'&lt;'):'';
          const nameLink=slug?'<a href="'+abs('/restaurants/'+slug+'.html')+'">'+name+'</a>':name;
          html+='<li><strong>'+nameLink+'</strong>'+price+(desc?' — '+desc:'')+'</li>';
        });
        html+='</ul>';
      });
      mount.innerHTML=html;
    }
    if(typeof window.getShipVenues==='function'){
      const slug=config.ship_slug||'legend-of-the-seas-icon-class-entering-service-in-2026';
      window.getShipVenues(slug).then(result=>{
        if(result&&result.venues) renderVenues(result.ship,result.venues);
      }).catch(()=>{});
    }
  })();
  </script>

    <!-- ===== Live tracker (MarineTraffic iframe: auto-centers on ship by IMO) ===== -->
  <script>
  (function initLiveTracker(){
    const card=document.querySelector('.card.itinerary[data-imo]');
    if(!card) return;
    const imo=card.getAttribute('data-imo');
    const container=document.getElementById('vf-tracker-container');
    if(!imo||!container) return;

    // Create wrapper div
    const wrapper = document.createElement('div');
    wrapper.style.cssText = 'width:100%;height:500px;position:relative;background:#f0f4f8;border-radius:8px;overflow:hidden;';

    // MarineTraffic iframe embed using IMO
    const iframe = document.createElement('iframe');
    iframe.style.cssText = 'width:100%;height:100%;border:0;';
    iframe.title = 'Live ship tracker for ' + card.getAttribute('data-name');
    iframe.setAttribute('loading', 'lazy');
    iframe.src = 'https://www.marinetraffic.com/en/ais/embed/zoom:10/maptype:0/shownames:true/mmsi:0/shipid:0/imo:' + imo + '/showmenu:false/remember:false';

    wrapper.appendChild(iframe);
    container.appendChild(wrapper);
  })();
  </script>

  <script>
  (function(){
    "use strict";

    const ARTICLES_PER_PAGE = 6;
    let allArticles = [];
    let currentPage = 0;

    async function loadArticles(){
      fetch('/assets/data/articles/index.json')
        .then(r => r.ok ? r.json() : Promise.reject('Failed to load'))
        .then(data => {
          allArticles = (data.articles || [])
            .filter(a => a.status === 'published')
            .sort((a, b) => new Date(b.published) - new Date(a.published));
          renderPage(0);
        })
        .catch(() => {
          document.getElementById('recent-rail-fallback').textContent = 'Unable to load articles.';
        });
    }

    function renderPage(page){
      currentPage = page;
      const start = page * ARTICLES_PER_PAGE;
      const pageArticles = allArticles.slice(start, start + ARTICLES_PER_PAGE);
      const totalPages = Math.ceil(allArticles.length / ARTICLES_PER_PAGE);

      const container = document.getElementById('recent-rail');
      const fallback = document.getElementById('recent-rail-fallback');
      const navTop = document.getElementById('recent-rail-nav-top');
      const navBottom = document.getElementById('recent-rail-nav-bottom');

      if(!pageArticles.length){
        fallback.textContent = 'No articles available.';
        return;
      }
      fallback.style.display = 'none';

      container.innerHTML = pageArticles.map(a => {
        const thumb = a.thumbnail || '/assets/img/default-thumb.jpg';
        const authorName = a.author?.name || 'Unknown';
        const href = '/solo/' + a.slug + '.html';
        return '<a href="' + href + '" class="rail-item" style="display:flex;gap:0.75rem;align-items:center;padding:0.5rem 0;border-bottom:1px solid #e0e8f0;text-decoration:none;color:inherit;">' +
          '<img src="' + thumb + '" alt="" width="56" height="56" style="border-radius:8px;object-fit:cover;flex-shrink:0;" loading="lazy"/>' +
          '<span style="display:flex;flex-direction:column;gap:0.15rem;min-width:0;">' +
            '<strong style="font-size:0.92rem;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;">' + a.title + '</strong>' +
            '<span class="tiny" style="color:#5a7a8a;">by ' + authorName + '</span>' +
          '</span></a>';
      }).join('');

      if(totalPages > 1){
        const navHTML = '<div style="display:flex;justify-content:space-between;align-items:center;">' +
          '<button onclick="window.__articlesNav(' + (page - 1) + ')" ' + (page === 0 ? 'disabled style="opacity:0.4;cursor:default;"' : '') + ' style="background:#0e6e8e;color:#fff;border:none;padding:0.4rem 0.8rem;border-radius:6px;font-size:0.85rem;cursor:pointer;">← Newer</button>' +
          '<span class="tiny" style="color:#5a7a8a;">' + (page + 1) + ' / ' + totalPages + '</span>' +
          '<button onclick="window.__articlesNav(' + (page + 1) + ')" ' + (page >= totalPages - 1 ? 'disabled style="opacity:0.4;cursor:default;"' : '') + ' style="background:#0e6e8e;color:#fff;border:none;padding:0.4rem 0.8rem;border-radius:6px;font-size:0.85rem;cursor:pointer;">Older →</button>' +
        '</div>';
        navTop.innerHTML = navHTML;
        navBottom.innerHTML = navHTML;
        navTop.style.display = 'block';
        navBottom.style.display = 'block';
      }
    }

    window.__articlesNav = renderPage;

    function loadAuthors(){
      fetch('/data/authors.json')
        .then(r => r.ok ? r.json() : Promise.reject('Failed'))
        .then(data => {
          const authors = data.authors || [];
          const container = document.getElementById('authors-rail');
          if(!authors.length || !container) return;

          const path = location.pathname.toLowerCase();
          const isHome = path === '/' || path === '/index.html';
          const isAuthorsPage = path.includes('/authors');
          const isTinaArticle = path.includes('why-i-started-solo-cruising') || path.includes('why-i-choose-to-cruise-solo');

          let filtered = authors;
          if(isHome || isAuthorsPage){
            filtered = authors;
          } else if(isTinaArticle){
            filtered = authors.filter(a => a.slug === 'tina-maulsby');
          } else {
            filtered = authors.filter(a => a.slug === 'ken-baker');
          }

          if(!filtered.length) return;
          container.innerHTML = filtered.map(a => {
            const img = a.webp || a.image || '/assets/img/default-avatar.jpg';
            return '<a href="' + a.url + '" class="rail-item" style="display:flex;gap:0.75rem;align-items:center;padding:0.5rem 0;border-bottom:1px solid #e0e8f0;text-decoration:none;color:inherit;">' +
              '<img src="' + img + '" alt="" width="48" height="48" style="border-radius:50%;object-fit:cover;flex-shrink:0;" loading="lazy"/>' +
              '<span style="display:flex;flex-direction:column;gap:0.1rem;">' +
                '<strong style="font-size:0.92rem;">' + a.name + '</strong>' +
                '<span class="tiny" style="color:#5a7a8a;">' + (a.roles ? a.roles[0] : 'Contributor') + '</span>' +
              '</span></a>';
          }).join('');
        })
        .catch(() => {});
    }

    loadArticles();
    loadAuthors();
  })();
  </script>


  <!-- Whimsical Distance Units Script -->
  <script src="/assets/js/whimsical-port-units.js"></script>

<script src="/assets/js/dropdown.js"></script>

  <!-- In-App Browser Detection & Escape Banner -->
  <script src="/assets/js/in-app-browser-escape.js"></script>
</body>
</html>
